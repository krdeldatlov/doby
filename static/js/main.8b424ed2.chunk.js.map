{"version":3,"sources":["compose.js","style.js","components/dobyComponents/BottomNavigationBar.js","contexts/UserContext.js","consumers/withUser.js","components/shared/localization/index.js","components/shared/Container.js","contexts/StoreContext.js","consumers/withStore.js","components/shared/icons/GithubIcon.js","components/shared/login/GithubButton.js","components/shared/icons/GoogleIcon.js","components/shared/login/GoogleButton.js","components/shared/icons/StravaIcon.js","components/shared/login/StravaButton.js","components/shared/icons/FbIcon.js","components/shared/login/FbButton.js","components/login/Login.js","components/shared/form/Form.js","components/dobyComponents/form/TextField.js","components/shared/Dialog.js","components/shared/Switch.js","components/shared/avatar/Avatar.js","components/shared/utils/withUtils.js","components/shared/style.js","components/account/Form.js","permissions.js","components/account/Account.js","components/oauth/OAuth.js","components/shared/TextInput.js","components/shared/Select.js","components/shared/NumInput.js","components/enums/Form.js","components/shared/table/TableHead.js","components/shared/table/TableToolbar.js","components/shared/AlertDialog.js","components/shared/DatePicker.js","components/shared/FilterDialog.js","components/shared/ActionsMenu.js","components/shared/Progress.js","components/shared/table/Table.js","components/shared/FormDialog.js","components/enums/Table.js","components/enums/Enums.js","components/templates/Form.js","components/templates/Table.js","components/templates/Templates.js","components/shared/TimeInput.js","components/shared/IconButton.js","components/shared/FileInput.js","contexts/DobyContext.js","consumers/withDoby.js","components/summits/Form.js","components/summits/Table.js","components/summits/Summits.js","components/series/Form.js","components/series/Table.js","components/series/Series.js","components/shared/Markdown.js","components/shared/Editor.js","components/products/TechParamForm.js","components/products/Form.js","components/products/Table.js","components/products/Products.js","components/posts/Form.js","components/posts/Table.js","components/posts/Posts.js","components/users/Table.js","components/users/Users.js","components/partners/Form.js","components/partners/Table.js","components/partners/Partners.js","components/dobyComponents/form/Button.js","components/dobyComponents/ChallengeCard.js","components/eshop/ItemCard.js","components/eshop/Eshop.js","components/dobyComponents/form/SelectField.js","components/dobyComponents/form/CheckboxField.js","utils/helpers.js","components/eshop/checkout/DeliveryPayment.js","components/eshop/checkout/CheckouCartItem.js","components/eshop/checkout/CheckoutSummary.js","components/eshop/checkout/Checkout.js","components/eshop/CartItem.js","components/eshop/Cart.js","components/eshop/RollerModal.js","components/eshop/ProductDetail.js","components/transports/Form.js","components/transports/Table.js","components/transports/Transports.js","utils/mailUtils.js","components/eshop/checkout/VerificationPayment.js","components/admin/challenges/Form.js","components/admin/challenges/Table.js","components/admin/challenges/Challenges.js","components/dobyComponents/ActivityPost.js","components/home/Home.js","components/dobyComponents/ActiveChallengeCard.js","utils/dobyUtils.js","components/shared/Autocomplete.js","components/account/profile/Profile.js","components/dobyComponents/form/Switch.js","components/dobyComponents/form/TelField.js","components/dobyComponents/socialConnections/FacebookConnection.js","components/dobyComponents/socialConnections/StravaConnection.js","components/account/profile/ProfileSettings.js","components/landing/ChallengeCard.js","components/landing/PartnerCard.js","components/landing/BlogPost.js","components/landing/Landing.js","components/dobyComponents/icons/Stopwatch.js","components/dobyComponents/icons/Mountains.js","components/dobyComponents/icons/Start.js","components/dobyComponents/ChallengeCardV1.js","components/dobyComponents/icons/DropdownFaqClosed.js","components/dobyComponents/icons/DropdownFaqOpened.js","components/dobyComponents/Faq.js","components/dobyComponents/icons/Facebook.js","components/dobyComponents/icons/Instagram.js","components/landing/LandingCountdown.js","components/challenges/Challenges.js","components/challenges/ChallengeDetail.js","components/dobyComponents/Modal.js","components/dobyComponents/eshop/ProductSmallCard.js","components/challenges/ChallengeCheckout.js","components/dobyComponents/FollowCard.js","components/friends/Follow.js","routes.js","App.js","serviceWorker.js","utils/authUtils.js","providers/UserProvider.js","utils/storeUtils.js","providers/StoreProvider.js","providers/DobyProvider.js","index.js"],"names":["compose","funcs","length","arg","reduce","a","b","args","spacings","generateSpacings","theme","ret","keys","breakpoints","unshift","forEach","key","x","index","capitalize","up","marginTop","marginRight","marginBottom","marginLeft","margin","paddingTop","paddingRight","paddingBottom","paddingLeft","padding","console","log","displayProps","name","value","justifyContentProps","flexDirectionProps","alignItemsProps","textAlignProps","generateUtils","display","justifyContent","flexDirection","alignItems","textAlign","s","charAt","toUpperCase","slice","getSharedStyles","container","maxWidth","row","flexWrap","flexGrow","roundedSm","borderRadius","roundedMd","roundedLg","bgWhite","background","bg300","bgPrimary","palette","primary","main","bgSecondary","secondary","textWhite","color","textPrimary","textSecondary","textSecondaryLight","uppercase","textTransform","textMono","fontFamily","textSans","textBase","fontSize","lineHeight","textM","textS","textXs","textXl","letterSpacing","fontWeight","textH1","textH2","textH3","textH4","textBlock","text200","text300","text400","textEl250","fontRegular","fontMedium","fontSemibold","fontBold","hrLine","border","borderBottom","positionRelative","position","positionAbsolute","w100","width","w50","h100","height","h50","dBlock","dBlockInline","alignItemsCenter","alignItemsStart","alignItemsEnd","carouselFullwidth","carouselSpacing","cardShadow","boxShadow","shadowTiny","boxShhadow","shadowSmall","shadowMedium","shadowLarge","shadowXl","shadowXxl","imageFit","left","top","zIndex","objectFit","imageFitHolder","overflow","withStyles","bottomBar","bottom","borderTopLeftRadius","borderTopRightRadius","borderTop","backdropFilter","transition","expandedBar","itemsHolder","addPostHolder","addPostBtn","outline","navItem","withRouter","props","classes","fullwidth","useState","expanded","setExpanded","className","classNames","flexCol","dFlex","pl5","justifyContentCenter","textXs2","textCenter","style","pr5","onClick","goToLink","history","push","mt3","px3","UserContext","React","createContext","withUser","WrappedComponent","Consumer","user","Context","LocalizationProvider","Component","constructor","super","translate","locale","k","split","this","locales","en","sk","state","render","children","Provider","withLocalization","ResponsiveDrawer","handleMenu","event","setState","anchorEl","currentTarget","handleClose","handleClickAccount","handleDrawerToggle","mobileOpen","redirect","route","isWidthDown","path","routes","location","pathname","find","drawer","toolbar","map","exact","hidden","permission","hasPermission","button","anonymous","root","appBar","ml5","mr5","appBarCol","appBarMenuIcon","src","logo","appBarLogoImg","alt","justifyContentEnd","dark","lgUp","implementation","variant","anchor","direction","open","onClose","paper","drawerPaper","content","withWidth","grow","fill","menuButton","mixins","withTheme","StoreContext","withStore","store","GithubIcon","d","GithubButton","config","fullWidth","tooltip","url","id","process","window","replace","disabled","title","GoogleIcon","StravaIcon","FbIcon","Copyright","align","href","Date","getFullYear","Login","handleSubmit","e","preventDefault","username","password","token","auth","trim","toLowerCase","showMsg","showError","handleChange","target","handleClickReset","reset","oAuth","from","home","to","component","classnames","header","center","item","xs","sm","md","image","elevation","square","avatar","github","GoogleButton","google","FbButton","fb","StravaButton","strava","form","onSubmit","required","htmlFor","autoComplete","autoFocus","onChange","type","submit","backgroundImage","backgroundRepeat","backgroundColor","grey","backgroundSize","backgroundPosition","spacing","unit","Form","inline","formInline","submitButton","textInput","inputLabel","inputRoot","label","field","error","errorText","input","rows","multiline","onBlur","formControl","aria-labelledby","isOpen","onCancel","onConfirm","control","checked","ImageAvatars","defaultValue","placement","aria-label","withUtils","canvasRef","useRef","postFile","file","formData","FormData","append","fetch","method","headers","Authorization","body","response","status","json","text","Error","statusText","utils","resize","filename","Promise","resolve","Image","canvas","current","onload","ctx","getContext","clearRect","drawImage","toBlob","blob","toDataURL","ref","getStyles","col","flex","styles","heading","detailHeading","actions","float","INIT_STATE","repeatedPassword","email","isLoading","tel","address","city","postCode","country","otp","notifications","notifyAboutMe","notifyAboutFollowers","notifyNews","buildState","isOpenSecretDialog","avatarChanged","FormWrapper","_","set","handleChangeCheckBox","validTelephone","regex","RegExp","isValid","test","validPasswords","passwordPattern","isValidPassword","errorTextPassword","isValidRepeatedPassword","errorTextRepeatedPassword","validEmail","checkUser","ids","_id","validUsername","handleRemoveAvatar","handleChangeAvatar","reader","FileReader","onloadend","result","data","pop","readAsDataURL","files","generateSecret","handleOpenSecretDialog","handleCloseSecretDialog","updateUser","connectTitle","bio","bigAvatar","accept","_github","synced","toLocaleDateString","TextField","secret","qrCode","permissions","doby","connected","_code","_provider","_mutex","OAuthComponent","urlParams","URLSearchParams","search","get","componentDidMount","updateOauth","loader","minWidth","placeholder","startAdornment","inputProps","textField","multiple","undefined","getText","selected","renderValue","join","toString","Number","min","max","step","enumTypeId","addEnum","refreshEnums","editEnum","enumTypes","nameTextInput","TextInput","NumInput","EnhancedTableHead","createSortHandler","property","onRequestSort","onSelectAllClick","sort","numSelected","rowCount","sortable","indeterminate","idField","disablePadding","sortDirection","dir","enterDelay","active","highlight","lighten","light","spacer","onDelete","onFilter","onExport","isFilterSet","onRefresh","exportDisabled","aria-describedby","description","format","mask","getMaskAndFormat","keyboard","clearable","toDate","disableOpenOnEnter","animateYearScrolling","okLabel","cancelLabel","buildFilters","f","filters","y","op","moment","endOf","startOf","FilterDialog","handleClear","buildFilter","filterable","getData","DatePicker","defaultState","disableBackdropClick","disableEscapeKeyDown","ActionsMenu","isOpenDelete","handleOpenMenu","handleCloseMenu","handleCloseDelete","handleOpenClone","handleOpenDelete","onEdit","onClone","aria-owns","aria-haspopup","edge","Boolean","progress","opacity","_headers","EnhancedTable","handleRequestSort","page","rowsPerPage","handleSelectAllClick","filter","n","isDisabled","handleClick","selectedIndex","indexOf","newSelected","concat","handleChangePage","handleChangeRowsPerPage","isSelected","limit","skip","handleOpenFilter","isOpenFilter","handleCloseFilter","handleConfirmFilter","onDeleteMultiple","all","strToDate","str","strToDateTime","toLocaleString","hour12","year","month","day","hour","minute","getValue","cell","onDeleteSingle","exportable","exported","exportRef","link","click","handleRefresh","defaultFilters","defaultSort","createRef","emptyRows","Math","total","tableWrapper","table","size","hover","role","aria-checked","tabIndex","colSpan","labelRowsPerPage","labelDisplayedRows","count","rowsPerPageOptions","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","overflowX","ROWS","FILTERS","TableWrapper","handleChangeClient","clientId","handleOpen","getEnums","deleteEnum","p2","addTemplate","refreshTemplates","editTemplate","getTemplates","deleteTemplate","Mask","inputRef","other","placeholderChar","showMask","inputComponent","filePath","URL","createObjectURL","mimeType","urlCreator","webkitURL","DobyContext","withDoby","difficulty","elevationGain","distance","time","_img","_thumbnail","addSummit","refreshSummits","editSummit","FileInput","imageSize","thumbnailSize","getSummits","deleteSummit","addSerie","refreshSeries","editSerie","getSeries","deleteSerie","options","overrides","h1","Typography","gutterBottom","h2","h3","h4","paragraph","p","Link","li","listItem","Markdown","save","Blob","selectedTab","setSelectedTab","readOnly","onTabChange","generateMarkdownPreview","paste","saveImage","enumTypeData","enumType","enumValueData","enumValue","TechParamForm","enums","callBack","handleDelete","inOrder","catalog_id","ean","short_description","long_description","price_without_tax","category","productsRef","tech_param","addProduct","refreshProducts","editProduct","tech_param_forms","handleChangeTechParamForm","enumValueID","handleAddTechParam","addTechParamForm","removeTechParam","enumTypeID","enumTypesFiltered","parseInt","element","setTechParamForms","Object","entries","getSubordinateProducts","isEmpty","subordinateProducts","disabledAddTechParamForm","getProducts","handleClone","deleteProduct","typeRef","handleChangeTypeRef","addPost","refreshPosts","editPost","getPosts","deletePost","getUsers","_logo","addPartner","refreshPartners","editPartner","logoSize","getPartners","deletePartner","whiteSpace","userSelect","cursor","borderColor","btnFullwidth","btnOutline","btnSecondary","btnLarge","btnSmall","btnDisabled","card","p5","textMd","mt4","justifyContentBetween","mr1","onClickMoreInfo","ml1","onClickParticipate","itemCard","media","price","source","membersOnlySpacer","membersOnly","img","setImg","onViz","isVisible","Id","partialVisibility","p0","curr","flickityOptions","cellAlign","contain","prevNextButtons","pageDots","Eshop","fetchData","getChallenges","joinChallenge","challenge","showProductDetail","product","renderChallenges","challenges","endDate","end","getDay","getMonth","mt2","mb2","mr3","renderProducts","products","lg","price_with_tax","currency","thumbnailId","getFile","itemFilterId","challengeCarousel","reloadOnUpdate","mt5","itemFilterSelect","challengeList","overflowY","challengeListWrapper","selectInput","selectRoot","select","checkbox","checkboxLight","checkboxIcon","controlNoLabel","formControlLabelRoot","noLabel","icon","checkedIcon","labelClasses","formatPrice","round","EPSILON","toFixed","getCurrencySymbol","DeliveryPayment","getTransports","cartGetProducts","fillFromUser","deliveryOrderFill","nameSurname","psc","validateForm","handleChangeCountry","deliveryOrderChanged","deliveryData","checkout","errorTexts","commonErrorTexts","invoiceData","invoiceErrorTexts","companyOrder","companyOrderErrorTexts","fieldsAreValid","values","v","checkboxesAreChoosen","deliveryType","paymentMethod","invoiceNameSurname","invoiceCountry","invoiceCity","invoicePsc","invoiceStreet","invoiceStreetNumber","ico","dic","icdph","bic","iban","accountOwner","street","streetNumber","transports","justify","mb4","textMonoH3","SelectField","pr2","paymentMethods","changeStep","mb5","productThumbnail","itemCountBtn","itemCount","getImage","ml3","productName","priceWithTax","productCount","textRight","CheckoutSummary","discountCodeLength","redeeemDiscountCode","checkStarterpack","cart","packProduct","standardPack","standardPackProduct","getTotalPrice","coupon","priceProducts","pricePack","discountType","amount","couponBalance","starterPackDiscount","transport","proceedCheckout","items","useCoupon","surname","country_obj","id_delivery_obj","destination_country_id","id_delivery","createOrder","phone","street_number","postal_code","couponRef","fa_city","fa_company","fa_country","fa_postal_code","fa_street","fa_street_number","payment_method_id","ru","stripe","redirect_url","order","payment_id","loadStripe","redirectToCheckout","sessionId","renderDiscounts","renderStarterpackDiscount","px4","py2","discountCode","renderCartitems","productId","countInStock","spacingBottom","mt6","mt1","fixedBottomBar","py4","checkoutStep","checkoutStepActive","currentStep","setCurrentStep","setChallenge","currentChallange","logoId","getChallenge","challengeRef","increaseItemCount","increase","cartIncreaseCount","useEffect","cartRemoveProduct","catalogId","ml4","Cart","getCartProductCount","goToEshop","goToCheckout","renderEmptyCart","mt8","emptyCartImg","renderCartItems","renderCart","bottomSection","backdrop","opened","mt7","_defaultState","detailImage","selectedVariants","selectedProduct","detailsModalOpened","showSnackbar","lastLocation","ProductDetail","fetchDetailImage","imageId","match","params","getProductsByCatalogId","catalogProducts","catalog","handleChangeDropdown","getProductByDropdownSelection","handleProductImageLoaded","naturalWidth","naturalHeight","renderDropdowns","dropdowns","variantKey","productVariants","hasAllRequirements","addToCart","cartAddProduct","renderSimillarProducts","showAllProductDetails","closeDetailsModal","renderProductDetail","imageContainer","productImage","onLoad","mb3","productPriceDPH","productStock","componentDidUpdate","anchorOrigin","vertical","horizontal","autoHideDuration","message","action","Fragment","transform","productContent","productTitle","productPrice","countryId","handleChangeCountryRef","addTransport","refreshTransports","editTransport","deleteTransport","send","mail","getToken","storage","getUser","refreshToken","onConnect","userId","onDisconnect","VerificationPayment","sendCouponMail","subject","fromName","recipientRef","templateId","sendCouponTemplate","mailUtils","query","verifyOrder","succeeded","cartRemoveProducts","code","summitsRef","serieRef","start","_badge","handleChangeSummitsRef","handleChangeSerieRef","addChallenge","refreshChallenges","editChallenge","summits","series","badgeSize","deleteChallenge","profileImgHolder","profileImg","postImgWrapper","postImg","right","postCard","climbCreated","py5","userName","userAddress","FlexCol","summitName","summitElevation","date","getDate","flexRCol","challengeName","challengeFinishedSummits","challengeAllSummits","likesCount","Home","handleTabChange","tab","currentTab","renderActivityPosts","post","openFilter","filterOpen","applyFilters","pt5","pb2","tabsRootClasses","indicator","tabsInicator","tabSelected","filterIconHolder","filterOverlay","convertDate","challengeCard","dateText","progressLine","sDateFrom","sDateTo","dateFrom","dateTo","differenceInMiliseconds","getTime","differenceInDays","abs","differenceInHours","differenceInMinutes","remaining","handleDates","textMonoH4","summitsFinished","allSummits","SUMMITS_URL","res","ajax","put","delById","CHALLENGES_URL","badgeId","PRODUCTS_URL","getProduct","getById","ORDERS_URL","addOrder","paymentId","COUPON_URL","POSTS_URL","SERIES_URL","PARTNERS_URL","USER_URL","followUser","subscribe","subscriber","unfollowUser","CLIMBS_URL","addClimb","editClimb","getClimbs","deleteClimb","renderInput","InputProps","inputInput","_timer","chip","divider","itemToString","onInputValueChange","clearTimeout","setTimeout","onFilterChange","selectedItem","getInputProps","getItemProps","getMenuProps","highlightedIndex","inputValue","suggestion","itemProps","isHighlighted","renderSuggestion","Profile","setMyClimbs","climbs","myClimbs","c","summit","setImageToClimbCallback","setUnfinishedChallenges","dobyUser","challengesRef","unfinishedChallenges","unfinishedChallengesRef","finished","activeC","found","countFinishedSummits","setMedals","medals","finishedChallengesRefIDs","medal","setLogoToMedalCallback","currUserFollowingFriend","logoSrc","m","imgSrc","fileId","callback","identificator","handleGetChallengesUserNotParticipate","userChals","toISOString","filteredChals","challengesUserNotParticipate","filteredChal","userChal","handleOnChangeSearchFriends","friend","goToProfileFriend","handleOnFilterChangeSearchFriends","renderMedals","medalItem","medalTitle","pt3","medalImgHolder","medalImg","renderMyChallenges","ActiveChallengeCard","renderMyClimbs","dobyFriend","climb","created","challengeRefFound","goToProfileSettings","foundFriend","watchingYourself","followingRef","users","isFriendProfile","textBase2","climbsCnt","followersRef","Autocomplete","pt6","pb6","medalCarousel","challengesCarousel","minHeight","iOSSwitchBase","common","white","transitions","create","duration","shortest","easing","sharp","iOSChecked","iOSBar","iOSIcon","iOSIconChecked","shadows","controlLabelRoot","switchBase","bar","iconChecked","disableRipple","socialConnectCard","socialIcon","p3","telPreffix","preffixData","preffix","substring","handleInputTelNumber","ProfileSettings","handleChangePreffix","telSuffix","goToProfile","for","pr1","TelField","challengeImgHolder","challengeImg","cardContent","challengeLogoHolder","challengeLogo","difficultyDot","dotFilled","customClasses","startDate","mb1","partnerImg","getImg","blogPostCard","Landing","partners","generalPartners","mainPartners","sumitsCount","retVal","i","renderPartners","desc","renderGeneralPartners","renderMainPartners","renderBlogPosts","posts","handleExpandFaq","panel","expandedFaq","introImage","pl7","pr7","pb7","introContent","introTitle","introBtn","dashedBtn","mb7","howItWorks","howItWorksRow","howItWorksItemNumber","textCol","challengesContent","pb8","mt9","whyGetInvolvedImg","smallImg","blog","backgroundPositionY","viewBox","xmlns","clip-path","fill-rule","clip-rule","stroke","stroke-width","cx","cy","r","logoHolder","challengeBtn","challengeMap","summitsCount","months","diff","ceil","p6","mapHolder","mb8","Mountains","Stopwatch","actionBtn","panelRoot","panelExpanded","summaryRoot","summaryContent","summaryExpanded","detailsRoot","iconSpacing","textIconSpacing","questions","DropdownFaqOpened","DropdownFaqClosed","rx","ry","Countdown","days","setDays","hours","setHours","minutes","setMinutes","seconds","setSeconds","timer","setTimer","showRemainingTime","_minute","_second","_hour","_day","now","clearInterval","floor","timerObj","setInterval","mr2","mrMd4","ml2","LandingCountdown","handleSubscribe","checkConditions","alert","carousel","challengeItem","challengeCardAdapt","my2","dLgNone","px5","pt9","pb9","desktopIntro","dNone","dLgBlock","desktopIntroContent","pl10","desktopIntroImageHolder","py10","pyMd11","pyLg12","dMdNone","textLeft","dMdBlock","justifyContentMdStart","mtMd0","howItWorksCircle","mtMd9","challengesTitleBgOverlay","pt8","pbMd12","ptMd10","textLgLeft","challengesBgOverlay","pyMd0","challengeItemsContainer","py11","pyMd13","xl","flexLgRow","justifyContentLgBetween","alignItemsLgCenter","mtLg5","onClickclassName","mtLg0","py9","socialShare","mb9","mbMd0","shareImgCol","shareImg","socialShareButtonHolder","socialShareButton","socialShareDesktop","socialShareDesktopPhone","mt11","mtMd13","bigPhotoHolder","justifyContentMdCenter","mtMd7","pMd0","bigPhotoContent","py8","mt10","pr8","prLg0","newMedalsImg","newsletterFormDesktop","dLgFlex","footerBg","py6","Instagram","Facebook","dMdFlex","ml6","participantsImg","only","forYourselfImgHolder","forYourselfImg","Challenges","ChallengeDetail","renderSummits","altitude","summitCarouselItem","summitCarouselItemActive","introSection","challengeIntroContent","summitsDetail","summitsDetailContent","summitsCarouselHolder","summitsCarousel","modalWrapper","ProductSmallCard","openAddToCartModal","addToCartModal","p4","thumbnailHolder","productImg","onClickViewDetails","ChallengeCheckout","fetchStarterpacks","filterStarterpack","packs","starterPackStandard","getChallangeLogo","packageChanged","handleFieldChange","pl2","goToCart","selectedPackage","selectedGift","logolImg","mb6","stepNumber","starterPackLowcost","challengePackageCardSelected","challengePackageCard","borderBottomLeftRadius","borderBottomRightRadius","pl1","btnWhite","lightText","medalCount","userID","buttonLabel","Follow","showFollowers","renderFollowers","showFollowing","handleFollowUser","followers","following","handleUnfollowUser","renderFollowing","follower","alreadyFollowHim","setFollowingFollowers","filterFollowing","filterFollowers","medalItemBg","medalItemImg","Verification","Checkout","Enums","Templates","Summits","Series","ChallengesAdmin","Transports","Products","Posts","Users","Partners","OAuth","Account","_basename","_init","App","initHub","basename","Container","PrivateRoute","msg","hideMsg","ContentProps","close","rest","hostname","buildRedirectUri","provider","configId","UserProvider","authUtils","onNotification","connection","signalR","withUrl","accessTokenFactory","configureLogging","build","catch","err","on","ENUMS_COLLECTION","_enumType","TEMPLATES_COLLECTION","templates","TRANSPORTS_COLLECTION","_isInit","StoreProvider","storeUtils","DobyProvider","orderData","dobyUtils","buildDropdowns","paramKeys","paramKey","hasOwnProperty","productsArray","savedProducts","localStorage","getItem","JSON","parse","existingProduct","serializedCart","stringify","setItem","productIndex","findIndex","obj","init","createMuiTheme","typography","AppWrapper","document","documentElement","setProperty","en-US","sk-SK","MomentUtils","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"8wfAWe,SAASA,KAAWC,GACjC,OAAqB,IAAjBA,EAAMC,OACDC,GAAOA,EAGK,IAAjBF,EAAMC,OACDD,EAAM,GAGRA,EAAMG,QAAO,CAACC,EAAGC,IAAM,IAAIC,IAASF,EAAEC,KAAKC,M,oBCpBpD,MAmPMC,EAAW,CACb,OACA,UACA,SACA,UACA,OACA,UACA,SACA,OACA,SACA,OACA,OACA,OACA,OACA,SAGEC,EAAoBC,IACtB,IAAIC,EAAM,GAENC,EAAO,IAAIF,EAAMG,YAAYD,MAiIjC,OAhIAA,EAAKE,QAAQ,IAEbF,EAAKG,SAAQC,IACTR,EAASO,SAAQ,CAACE,EAAGC,KAGjBP,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBK,UAAWJ,EAAE,eACZ,CAACI,UAAWJ,EAAE,eAG3BN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBM,YAAaL,EAAE,eACd,CAACK,YAAaL,EAAE,eAG7BN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBO,aAAcN,EAAE,eACf,CAACM,aAAcN,EAAE,eAG9BN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBQ,WAAYP,EAAE,eACb,CAACO,WAAYP,EAAE,eAG5BN,EAAI,IAAD,OAAKQ,EAAWH,IAAhB,OAAuBE,IAA1B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBS,OAAQR,EAAE,eACT,CAACQ,OAAQR,EAAE,eAGxBN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBK,UAAWJ,EAAE,aACbM,aAAcN,EAAE,eACf,CAACI,UAAWJ,EAAE,aAAcM,aAAcN,EAAE,eAGzDN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBQ,WAAYP,EAAE,aACdK,YAAaL,EAAE,eACd,CAACO,WAAYP,EAAE,aAAcK,YAAaL,EAAE,eAIzDN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBU,WAAYT,EAAE,eACb,CAACS,WAAYT,EAAE,eAG5BN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBW,aAAcV,EAAE,eACf,CAACU,aAAcV,EAAE,eAG9BN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBY,cAAeX,EAAE,eAChB,CAACW,cAAeX,EAAE,eAG/BN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBa,YAAaZ,EAAE,eACd,CAACY,YAAaZ,EAAE,eAG7BN,EAAI,IAAD,OAAKQ,EAAWH,IAAhB,OAAuBE,IAA1B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBc,QAASb,EAAE,eACV,CAACa,QAASb,EAAE,eAGzBN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBU,WAAYT,EAAE,aACdW,cAAeX,EAAE,eAChB,CAACS,WAAYT,EAAE,aAAcW,cAAeX,EAAE,eAG3DN,EAAI,KAAD,OAAMQ,EAAWH,IAAjB,OAAwBE,IAA3B,eAEgB,KAARF,EACD,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACzBa,YAAaZ,EAAE,aACfU,aAAcV,EAAE,eACf,CAACY,YAAaZ,EAAE,aAAcU,aAAcV,EAAE,qBAOnEc,QAAQC,IAAIrB,GACLA,GAGLsB,EAAe,CACjB,CACIC,KAAM,QACNC,MAAO,SAEX,CACID,KAAM,OACNC,MAAO,QAEX,CACID,KAAM,cACNC,MAAO,gBAEX,CACID,KAAM,OACNC,MAAO,SAITC,EAAsB,CACxB,CACIF,KAAM,SACNC,MAAO,UAEX,CACID,KAAM,QACNC,MAAO,cAEX,CACID,KAAM,MACNC,MAAO,YAEX,CACID,KAAM,UACNC,MAAO,kBAITE,EAAqB,CACvB,CACIH,KAAM,MACNC,MAAO,UAEX,CACID,KAAM,MACNC,MAAO,QAITG,EAAkB,CACpB,CACIJ,KAAM,QACNC,MAAO,cAEX,CACID,KAAM,MACNC,MAAO,YAEX,CACID,KAAM,SACNC,MAAO,WAITI,EAAiB,CACnB,CACIL,KAAM,SACNC,MAAO,UAEX,CACID,KAAM,OACNC,MAAO,QAEX,CACID,KAAM,QACNC,MAAO,UAITK,EAAiB9B,IACnB,IAAIC,EAAM,GAENC,EAAO,IAAIF,EAAMG,YAAYD,MA4DjC,OA3DAA,EAAKE,QAAQ,IAEbF,EAAKG,SAAQC,IACTiB,EAAalB,SAAQE,IACjBN,EAAI,IAAD,OAAKQ,EAAWH,IAAhB,OAAuBC,EAAEiB,OAA5B,eAEgB,KAARlB,EACI,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CAC1ByB,QAASxB,EAAEkB,QACV,CAACM,QAASxB,EAAEkB,WAKjCC,EAAoBrB,SAAQE,IACxBN,EAAI,iBAAD,OAAkBQ,EAAWH,IAA7B,OAAoCC,EAAEiB,OAAzC,eAEgB,KAARlB,EACA,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACtB0B,eAAgBzB,EAAEkB,QACjB,CAACO,eAAgBzB,EAAEkB,WAKxCE,EAAmBtB,SAAQE,IACvBN,EAAI,OAAD,OAAQQ,EAAWH,IAAnB,OAA0BC,EAAEiB,OAA/B,eAEgB,KAARlB,EACA,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACtB2B,cAAe1B,EAAEkB,QAChB,CAACQ,cAAe1B,EAAEkB,WAKvCG,EAAgBvB,SAAQE,IACpBN,EAAI,aAAD,OAAcQ,EAAWH,IAAzB,OAAgCC,EAAEiB,OAArC,eAEgB,KAARlB,EACA,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACtB4B,WAAY3B,EAAEkB,QACb,CAACS,WAAY3B,EAAEkB,WAKpCI,EAAexB,SAAQE,IACnBN,EAAI,OAAD,OAAQQ,EAAWH,IAAnB,OAA0BC,EAAEiB,OAA/B,eAEgB,KAARlB,EACA,CAAC,CAACN,EAAMG,YAAYO,GAAGJ,IAAO,CACtB6B,UAAW5B,EAAEkB,QACZ,CAACU,UAAW5B,EAAEkB,cAKvCJ,QAAQC,IAAIrB,GACLA,GAGLQ,EAAc2B,GACC,kBAANA,EAAuB,GAC3BA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,GAIhCC,MAliBUxC,GAAD,YAAC,2BAClBD,EAAiBC,IACjB8B,EAAc9B,IAFG,IAIpByC,UAAW,CACPtB,YAAa,UACbF,aAAc,UACdyB,SAAU,SACV3B,OAAQ,UAMZ4B,IAAK,CACDZ,QAAS,OACTE,cAAe,MACfW,SAAU,QAEdC,SAAU,CACNA,SAAU,GAGdC,UAAW,CACPC,aAAc,WAElBC,UAAW,CACPD,aAAc,UAElBE,UAAW,CACPF,aAAc,WAGlBG,QAAS,CACLC,WAAY,SAEhBC,MAAO,CACHD,WAAY,WAEhBE,UAAW,CACPF,WAAYnD,EAAMsD,QAAQC,QAAQC,MAEtCC,YAAa,CACTN,WAAYnD,EAAMsD,QAAQI,UAAUF,MAGxCG,UAAW,CACPC,MAAO,QAEXC,YAAa,CACTD,MAAO5D,EAAMsD,QAAQC,QAAQC,MAEjCM,cAAe,CACXF,MAAO5D,EAAMsD,QAAQI,UAAUF,MAEnCO,mBAAoB,CAChBH,MAAO,WAGXI,UAAW,CACPC,cAAe,aAEnBxD,WAAY,CACRwD,cAAe,cAEnBC,SAAU,CACNC,WAAY,8BAEhBC,SAAU,CACND,WAAY,8BAGhBE,SAAU,CACNC,SAAU,OACVC,WAAY,QAEhBC,MAAO,CACHF,SAAU,OACVC,WAAY,QAEhBE,MAAO,CACHH,SAAU,OACVC,WAAY,QAEhBG,OAAQ,CACJJ,SAAU,OACVC,WAAY,QAGhBI,OAAQ,CACJJ,WAAY,OACZK,cAAe,OACfN,SAAU,OACVO,WAAY,KAEhBC,OAAQ,CACJP,WAAY,OACZK,cAAe,OACfN,SAAU,OACVO,WAAY,KAEhBE,OAAQ,CACJR,WAAY,OACZK,cAAe,SACfN,SAAU,OACVO,WAAY,KAEhBG,OAAQ,CACJT,WAAY,OACZK,cAAe,SACfN,SAAU,OACVO,WAAY,KAEhBI,OAAQ,CACJV,WAAY,OACZK,cAAe,SACfN,SAAU,OACVO,WAAY,KAEhBK,UAAW,CACPX,WAAY,QAGhBY,QAAS,CACLvB,MAAO,sBAEXwB,QAAS,CACLxB,MAAO,sBAEXyB,QAAS,CACLzB,MAAO,WAEX0B,UAAW,CACP1B,MAAO,WAGX2B,YAAa,CACTV,WAAY,KAEhBW,WAAY,CACRX,WAAY,KAEhBY,aAAc,CACVZ,WAAY,KAEhBa,SAAU,CACNb,WAAY,KAGhBc,OAAQ,CACJC,OAAQ,EACRC,aAAc,8BAElBC,iBAAkB,CACdC,SAAU,YAEdC,iBAAkB,CACdD,SAAU,YAEdE,KAAM,CACFC,MAAO,QAEXC,IAAI,CACAD,MAAO,OAEXE,KAAM,CACFC,OAAQ,QAEZC,IAAK,CACDD,OAAQ,OAEZE,OAAQ,CACJxE,QAAS,SAEbyE,aAAc,CACVzE,QAAS,gBAEb0E,iBAAkB,CACdvE,WAAY,UAEhBwE,gBAAiB,CACbxE,WAAY,cAEhByE,cAAe,CACXzE,WAAY,YAEhB0E,kBAAmB,CACfhG,YAAa,WACbE,WAAY,YAEhB+F,gBAAiB,CACb,uBAAwB,GAGxB,+BAAgC,CAC5B1F,YAAa,WAEjB,8BAA+B,CAC3BF,aAAc,YAKtB6F,WAAY,CACRC,UAAW,qCAGfC,WAAY,CACRC,WAAY,mCAEhBC,YAAa,CACTD,WAAY,wCAEhBE,aAAc,CACVF,WAAY,wCAEhBG,YAAa,CACTH,WAAY,uCAEhBI,SAAU,CACNJ,WAAY,8IAEhBK,UAAW,CACPL,WAAY,yGAGhBM,SAAU,CACNxB,SAAU,WACVyB,KAAM,EACNC,IAAK,EACLC,OAAQ,EACRxB,MAAO,OACPG,OAAQ,OACRsB,UAAW,SAEfC,eAAgB,CACZ7B,SAAU,WACV8B,SAAU,Y,wFC3FHvI,EACXwI,sBArIW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB+H,UAAW,CACPhC,SAAU,QACVM,OAAQ,QACRH,MAAO,OACP8B,OAAQ,QACRR,KAAM,IACNrE,WAAY,yBACZ8E,oBAAqB,OACrBC,qBAAsB,OACtBC,UAAW,+BACXC,eAAgB,YAChBC,WAAY,gBACZX,OAAQ,KAEZY,YAAa,CACTN,OAAQ,KAEZO,YAAa,CACTrC,MAAO,0BACPlF,WAAY,UAGhBwH,cAAe,CACXtC,MAAO,QAEXuC,WAAY,CACRvC,MAAO,OACPG,OAAQ,OACRtD,aAAc,OACdI,WAAY,UACZ4D,UAAW,uCACX2B,QAAS,iBACT9C,OAAQ,cACRhC,MAAO,QACPjD,UAAW,QACXS,QAAS,KAEbuH,QAAS,CACLzC,MAAO,MACP/D,UAAW,cA6FfyG,IAFWtJ,EAvFf,SAA6BuJ,GAAQ,MACzBC,EAA+BD,EAA/BC,QADwB,GACOD,EAAtBE,UAAsBF,EAAXH,QACIM,oBAAS,IAFT,mBAEzBC,EAFyB,KAEfC,EAFe,KAYhC,OACI,mCACI,qBAAKC,UAAWC,IAAWN,EAAQf,UAAWkB,GAAYH,EAAQR,aAAlE,SACI,sBAAKa,UAAWC,IAAWN,EAAQO,SAAnC,UACI,sBAAKF,UAAWC,IAAWN,EAAQQ,OAAnC,UACI,qBAAKH,UAAWC,IAAWN,EAAQP,YAAaO,EAAQS,KAAxD,SACI,sBAAKJ,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQU,sBAAlD,UACI,sBAAKL,UAAWC,IAAWN,EAAQO,QAASP,EAAQH,QAASG,EAAQrC,kBAArE,UACI,cAAC,IAAD,IACA,qBAAK0C,UAAWC,IAAWN,EAAQW,SAAnC,yBAIJ,sBAAKN,UAAWC,IAAWN,EAAQO,QAASP,EAAQH,QAASG,EAAQrC,kBAArE,UACI,cAAC,IAAD,IACA,qBAAK0C,UAAWC,IAAWN,EAAQW,SAAnC,4BAMZ,qBAAKN,UAAWC,IAAWN,EAAQN,cAAeM,EAAQY,YAA1D,SACI,wBAAQP,UAAWC,IAAWN,EAAQL,YAAtC,SACI,cAAC,IAAD,CAASkB,MAAO,CAACrF,SAAU,cAGnC,qBAAK6E,UAAWC,IAAWN,EAAQP,YAAaO,EAAQc,KAAxD,SACI,sBAAKT,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQU,sBAAlD,UACI,sBAAKL,UAAWC,IAAWN,EAAQO,QAASP,EAAQH,QAASG,EAAQrC,kBAAmBoD,QAAS,KAAIC,OAhC/GtI,EAgCwH,kBA/BtIqH,EAAMkB,QAAQC,KAAKxI,GADLA,OAgCU,UACI,cAAC,IAAD,IACA,qBAAK2H,UAAWC,IAAWN,EAAQW,SAAnC,sBAIJ,sBAAKN,UAAWC,IAAWN,EAAQO,QAASP,EAAQH,QAASG,EAAQrC,kBAAmBoD,QA1ClG,KACdX,GAAaD,IAyCW,UACI,cAAC,IAAD,IACA,qBAAKE,UAAWC,IAAWN,EAAQW,SAAnC,SACKR,EAAW,QAAU,oBAM1C,sBAAKE,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQmB,IAAKnB,EAAQU,sBAA/D,UACI,sBAAKL,UAAWC,IAAWN,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQoB,KAA9E,UACI,cAAC,IAAD,IACA,qBAAKf,UAAWC,IAAWN,EAAQW,SAAnC,2BAIJ,sBAAKN,UAAWC,IAAWN,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQoB,KAA9E,UACI,cAAC,IAAD,IACA,qBAAKf,UAAWC,IAAWN,EAAQW,SAAnC,qBAIJ,sBAAKN,UAAWC,IAAWN,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQoB,KAA9E,UACI,cAAC,IAAD,IACA,qBAAKf,UAAWC,IAAWN,EAAQW,SAAnC,wBAIJ,sBAAKN,UAAWC,IAAWN,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQoB,KAA9E,UACI,cAAC,IAAD,IACA,qBAAKf,UAAWC,IAAWN,EAAQW,SAAnC,mCCpIbU,MADKC,IAAMC,gBCgBXC,MAfGC,GACR1B,GAEJ,cAAC,EAAY2B,SAAb,UACGC,GACC,cAACF,EAAD,2BACM1B,GADN,IAEE4B,KAAMA,O,8OCNlB,MAAMC,GAAUN,IAAMC,gBAEf,MAAMM,WAA6BP,IAAMQ,UAC9CC,YAAYhC,GACViC,MAAMjC,GADW,KAanBkC,UAAYC,GAAW1K,IACrB,MAAM2K,EAAI3K,EAAI4K,MAAM,KAEpB,IAAIzJ,EAAQ0J,KAAKC,QAAQJ,GAAQC,EAAE,IAInC,OAHGA,EAAEzL,OAAS,IACZiC,EAAQA,EAAMwJ,EAAE,KAEXxJ,GAjBP0J,KAAKC,QAAU,CACb,QAAQ,2BAAMC,IAAOxC,EAAM,UAC3B,QAAQ,2BAAMyC,IAAOzC,EAAM,WAG7BsC,KAAKI,MAAQ,CACXP,OAAQnC,EAAMmC,QAAU,SAc5BQ,SAAU,MACAC,EAAaN,KAAKtC,MAAlB4C,SAER,OACE,cAACf,GAAQgB,SAAT,CACEjK,MAAO,CACLuJ,OAAQG,KAAKI,MAAMP,OACnBD,UAAWI,KAAKJ,UAAUI,KAAKI,MAAMP,SAHzC,SAMGS,KAMF,MAAME,GAAoBpB,GACvB1B,GAEJ,cAAC6B,GAAQF,SAAT,UACGjK,GACC,cAACgK,EAAD,2BACM1B,GACAtI,MC+BhB,MAAMqL,WAAyBxB,IAAMQ,UACjCC,YAAYhC,GACRiC,MAAMjC,GADS,KASnBgD,WAAaC,IACTX,KAAKY,SAAS,CAAEC,SAAUF,EAAMG,iBAVjB,KAanBC,YAAc,KACVf,KAAKY,SAAS,CAAEC,SAAU,QAdX,KAiBnBG,mBAAqB,KACjBhB,KAAKtC,MAAMkB,QAAQC,KAAK,YACxBmB,KAAKe,eAnBU,KAsBnBE,mBAAqB,KACjBjB,KAAKY,UAASR,IAAK,CAAOc,YAAad,EAAMc,gBAvB9B,KA0BnBC,SAAYC,IACJC,uBAAY,KAAMrB,KAAKtC,MAAM3C,QAC7BiF,KAAKiB,qBAGTjB,KAAKtC,MAAMkB,QAAQC,KAAKuC,EAAME,OA5B9BtB,KAAKI,MAAQ,CACTc,YAAY,EACZL,SAAU,MA6BlBR,SAAU,MAAD,EAC+CL,KAAKtC,MAAjDC,EADH,EACGA,QAAS9I,EADZ,EACYA,MAAO0M,EADnB,EACmBA,OAAQjC,EAD3B,EAC2BA,KAAMM,EADjC,EACiCA,UAGhC0B,EAAOtB,KAAKtC,MAAMkB,QAAQ4C,SAASC,SACnCL,EAAQG,EAAOG,MAAKtM,GAAKA,EAAEkM,OAASA,IAEpCK,EACF,gCACI,qBAAK3D,UAAWL,EAAQiE,UACxB,cAAC,IAAD,IACA,cAAC,KAAD,UACKL,EAAOM,KAAIT,IACJA,EAAMU,OAAUV,EAAMW,QAAYX,EAAMY,aAAc1C,EAAK2C,cAAcb,EAAMY,YAKvE,KAJR,cAAC,KAAD,CAAUE,QAAM,EAAkBxD,QAAS,IAAMsB,KAAKmB,SAASC,GAA/D,SACI,cAAC,KAAD,CAAchJ,QAASwH,EAAU,SAAWwB,EAAM/K,OAAS+K,EAAM/K,QAD/C+K,EAAM/K,aAUhD,OAAK+K,GAAUA,EAAMe,WAA4B,SAAff,EAAM/K,KA8DhC,qBAAK2H,UAAWL,EAAQyE,KAAxB,SACKpC,KAAKtC,MAAM4C,WA7DhB,sBAAKtC,UAAWL,EAAQyE,KAAxB,UACI,cAAC,IAAD,IACA,cAAC,IAAD,CAAQxH,SAAS,QAAQoD,UAAWL,EAAQ0E,OAAQ5J,MAAM,YAA1D,SACI,qBAAKuF,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQ1C,KAAM0C,EAAQ2E,IAAK3E,EAAQ4E,KAAvG,SACKvC,KAAKtC,MAAM4B,KAAKA,KACb,qCACI,qBAAKZ,QAASsB,KAAKiB,mBAAoBjD,UAAWL,EAAQ6E,UAA1D,SACI,cAAC,KAAD,CAAUxE,UAAWL,EAAQ8E,mBAEjC,qBAAKC,IAAK1C,KAAKtC,MAAMiF,KAAM3E,UAAWL,EAAQiF,cAAeC,IAAK,KAClE,qBAAK7E,UAAWC,IAAWN,EAAQ6E,UAAW7E,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQmF,mBAA/F,SACI,cAAC,KAAD,CACItE,MAAO,CAAE/F,MAAO5D,EAAMsD,QAAQI,UAAUwK,MACxCrE,QAAS,IAAMsB,KAAKtC,MAAMkB,QAAQC,KAAK,sBAKnD,qCACI,qBAAKb,UAAWL,EAAQ6E,YACxB,qBAAKE,IAAK1C,KAAKtC,MAAMiF,KAAM3E,UAAWL,EAAQiF,cAAeC,IAAK,YAKlF,qBAAK7E,UAAWL,EAAQgE,OAAxB,SAEI,cAAC,KAAD,CAAQqB,MAAI,EAACC,eAAe,MAA5B,SACI,cAAC,KAAD,CACIC,QAAQ,YACRC,OAA4B,QAApBtO,EAAMuO,UAAsB,QAAU,OAC9CC,KAAMrD,KAAKI,MAAMc,WACjBoC,QAAStD,KAAKiB,mBACdtD,QAAS,CACL4F,MAAO5F,EAAQ6F,aANvB,SASK7B,QAeb,sBAAM3D,UAAWL,EAAQ8F,QAAzB,SACKzD,KAAKtC,MAAM4C,eAuBrBnM,SACXuP,OACA/G,sBAlMW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBuN,KAAM,CACFxL,QAAS,QAEb+M,KAAM,CACFjM,SAAU,GAEdiK,OAAQ,GAMRU,OAAQ,CACJrK,WAAY,OACZkD,OAAQ,OAKRU,UAAW,qCAGf6G,eAAgB,CACZmB,KAAM/O,EAAMsD,QAAQI,UAAUwK,KAC9B7H,OAAQ,SACRH,MAAO,UAEX6H,cAAe,CACX7H,MAAO,SAEXyH,UAAW,CACPzH,MAAO,2BACPtC,MAAO,OAEXoL,WAAY,CACRpO,YAAa,GACb,CAACZ,EAAMG,YAAYO,GAAG,OAAQ,CAC1BqB,QAAS,SAGjBgL,QAAS/M,EAAMiP,OAAOlC,QACtB4B,YAAa,CACTzI,MAAO,MACPxD,SAAU,SAEdkM,QAAS,CACL/L,SAAU,EAEVgF,SAAU,OACV7G,WAAY,WA+IG,CAAEkO,WAAW,IAChCtG,IACA+C,GAJWrM,CAKbsM,I,uKC/NauD,OADM/E,IAAMC,gBCgBZ+E,OAfI7E,GACT1B,GAEJ,cAAC,GAAa2B,SAAd,UACG6E,GACC,cAAC9E,EAAD,2BACM1B,GADN,IAEEwG,MAAOA,O,oBCCJC,OARf,SAAoBzG,GAClB,OACE,cAAC,KAAD,2BAAaA,GAAb,aACE,sBAAM0G,EAAE,ovBCeCC,OAjBM3G,GAMfA,EAAM4G,OAKR,eAAC,KAAD,CAAQC,UAAW7G,EAAM6G,UAAW9L,MAAM,UAAU+L,QAAQ,SAAS9F,QAVnD,KAClB,MAAM+F,EAAG,6DAAyD/G,EAAM4G,OAAOI,GAAtE,oCAAoGC,8BAApG,eACTC,OAAOpD,SAASqD,QAAQJ,IAQmEK,SAAUpH,EAAMoH,SAA3G,UACE,cAAC,GAAD,CAAY3L,SAAS,UADvB,IACkC,sBAAMqF,MAAOd,EAAM6G,UAAY,CAAExJ,MAAO,KAAO,KAA/C,SAAsD2C,EAAMqH,WALvF,KCAIZ,OARf,SAAoBzG,GAClB,OACE,cAAC,KAAD,2BAAaA,GAAb,aACE,sBAAM0G,EAAE,gTCeCC,OAjBM3G,GAMfA,EAAM4G,OAKR,eAAC,KAAD,CAAQC,UAAW7G,EAAM6G,UAAW9L,MAAM,UAAUiG,QAVlC,KAClB,MAAM+F,EAAG,0KAAsKE,8BAAtK,oDAAgPjH,EAAM4G,OAAOI,IACtQE,OAAOpD,SAASqD,QAAQJ,IAQkDK,SAAUpH,EAAMoH,SAA1F,UACE,cAACE,GAAD,CAAY7L,SAAS,UADvB,IACkC,sBAAMqF,MAAOd,EAAM6G,UAAY,CAAExJ,MAAO,KAAO,KAA/C,SAAsD2C,EAAMqH,WALvF,KCAIZ,OARf,SAAoBzG,GAClB,OACE,cAAC,KAAD,2BAAaA,GAAb,aACE,sBAAM0G,EAAE,wICiBCC,OAnBM3G,GAQfA,EAAM4G,OAKR,eAAC,KAAD,CAAQC,UAAW7G,EAAM6G,UAAWrB,QAASxF,EAAMwF,QAASzK,MAAM,UAAUiG,QAZ1D,KAClB,MAEM+F,EAAG,2DAAuD/G,EAAM4G,OAAOI,GAApE,qEAFQC,8BAER,eACTC,OAAOpD,SAASqD,QAAQJ,IAQ0EK,SAAUpH,EAAMoH,SAAlH,UACE,cAACG,GAAD,CAAY9L,SAAS,UADvB,IACkC,sBAAMqF,MAAOd,EAAM6G,UAAY,CAAExJ,MAAO,KAAO,KAA/C,SAAsD2C,EAAMqH,WALvF,KCFIG,OARf,SAAgBxH,GACd,OACE,cAAC,KAAD,2BAAaA,GAAb,aACE,sBAAM0G,EAAE,sSCgBCC,OAlBM3G,GAOfA,EAAM4G,OAKR,eAAC,KAAD,CAAQC,UAAW7G,EAAM6G,UAAW9L,MAAM,UAAUiG,QAXlC,KAClB,MACM+F,EAAG,qFAAiF/G,EAAM4G,OAAOI,GAA9F,yBADQC,8BACR,wBACTC,OAAOpD,SAASqD,QAAQJ,IAQkDK,SAAUpH,EAAMoH,SAA1F,UACE,cAAC,GAAD,CAAQ3L,SAAS,UADnB,IAC8B,sBAAMqF,MAAOd,EAAM6G,UAAY,CAAExJ,MAAO,KAAO,KAA/C,SAAsD2C,EAAMqH,WALnF,K,SCuDX,SAASI,KACP,OACE,eAAC,KAAD,CAAYjC,QAAQ,QAAQzK,MAAM,gBAAgB2M,MAAM,SAAxD,UACG,kBACD,cAAC,KAAD,CAAM3M,MAAM,UAAU4M,KAAMV,8BAA5B,SACGA,UACK,KACP,IAAIW,MAAOC,cACX,OAKP,MAAMC,WAAcvG,IAAMQ,UACxBC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAWnB+H,aAXmB,yCAWJ,WAAMC,GAAN,sBAAAlR,EAAA,6DACbkR,EAAEC,iBAEF,EAAK/E,SAAS,CAAEkE,UAAU,IAHb,EAKyB,EAAK1E,MAAnCwF,EALK,EAKLA,SAAUC,EALL,EAKKA,SAAUC,EALf,EAKeA,MALf,kBAOQ,EAAKpI,MAAM4B,KAAKyG,KACjCH,EAASI,OAAOC,cAChBJ,EACAC,GAVS,OAYE,OAZF,QAaT,EAAKpI,MAAM4B,KAAK4G,QAAQ,gBAbf,kDAgBX,EAAKxI,MAAM4B,KAAK6G,UAAhB,MAhBW,QAmBb,EAAKvF,SAAS,CAAEkE,UAAU,IAnBb,0DAXI,2DAiCnBsB,aAAeV,IACb1F,KAAKY,SAAS,CAAE,CAAC8E,EAAEW,OAAOhQ,MAAOqP,EAAEW,OAAO/P,SAlCzB,KAqCnBgQ,iBArCmB,wBAqCA,6BAAA9R,EAAA,2DACToR,EAAa,EAAKxF,MAAlBwF,UADS,0CAKP,EAAKlI,MAAM4B,KAAKiH,MAAMX,EAASI,OAAOC,eAL/B,OAMb,EAAKvI,MAAM4B,KAAK4G,QAAQ,gBANX,gDAQb,EAAKxI,MAAM4B,KAAK6G,UAAhB,MARa,yDAlCjBnG,KAAKI,MAAQ,CACXwF,SAAU,GACVC,SAAU,GACVC,MAAO,GACPhB,UAAU,GA2CdzE,SAAU,MAAD,EAC8BL,KAAKtC,MAAlCC,EADD,EACCA,QAAS2B,EADV,EACUA,KAAMM,EADhB,EACgBA,UADhB,EAEgDI,KAAKI,MAApDwF,EAFD,EAECA,SAAUC,EAFX,EAEWA,SAAUf,EAFrB,EAEqBA,SAAU0B,EAF/B,EAE+BA,MAAOV,EAFtC,EAEsCA,MAErCW,GAASzG,KAAKtC,MAAM8D,SAASpB,OAAS,CAC5CqG,KAAM,CAAEhF,SAAU6C,GAAOoC,QADnBD,KAIR,OAAID,EAAc,KACdlH,EAAKA,KAAa,cAAC,IAAD,CAAUqH,GAAIF,IAGlC,eAAC,KAAD,CAAMnP,WAAS,EAACsP,UAAU,OAAO5I,UAAW6I,IAAWlJ,EAAQyE,KAAMkC,GAAOwC,OAAS,KAAOnJ,EAAQoJ,QAApG,UACE,cAAC,IAAD,IAEEzC,GAAOwC,QACL,cAAC,KAAD,CAAME,MAAI,EAACC,IAAI,EAAOC,GAAI,EAAGC,GAAI,EAAGnJ,UAAWL,EAAQyJ,QAE3D,eAAC,KAAD,CAAMJ,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGP,UAAW,MAAOS,UAAW,EAAGC,QAAM,EAAvE,UACE,sBAAKtJ,UAAWL,EAAQ4F,MAAxB,UACE,qBAAKV,IAAI,OAAO7E,UAAWL,EAAQ4J,OAAQ7E,IAAK4B,GAAO3B,OAKvD,cAAC,GAAD,CACE4B,WAAS,EACTO,SAAUA,EACVC,MAAOnF,EAAU,gBACjB0E,OAAQA,GAAOkD,SAEjB,cAACC,GAAD,CACElD,WAAS,EACTO,SAAUA,EACVC,MAAOnF,EAAU,gBACjB0E,OAAQA,GAAOoD,SAEjB,cAACC,GAAD,CACEpD,WAAS,EACTO,SAAUA,EACVC,MAAOnF,EAAU,YACjB0E,OAAQA,GAAOsD,KAEjB,cAACC,GAAD,CACEtD,WAAS,EACTO,SAAUA,EACVC,MAAOnF,EAAU,gBACjB0E,OAAQA,GAAOwD,SAGjB,cAAC,KAAD,CAAY5E,QAAQ,QAApB,SAA6BtD,EAAU,gBAEvC,uBAAM5B,UAAWL,EAAQoK,KAAMC,SAAUhI,KAAKyF,aAA9C,UACE,eAAC,KAAD,CAAa7P,OAAO,SAASqS,UAAQ,EAAC1D,WAAS,EAA/C,UACE,cAAC,KAAD,CAAY2D,QAAQ,WAApB,SACGtI,EAAU,oBAEb,cAAC,KAAD,CACE8E,GAAG,WACHrO,KAAK,WACL8R,aAAa,WACbC,WAAS,EACT9R,MAAOsP,EACPyC,SAAUrI,KAAKoG,kBAGnB,eAAC,KAAD,CAAaxQ,OAAO,SAASqS,UAAQ,EAAC1D,WAAS,EAA/C,UACE,cAAC,KAAD,CAAY2D,QAAQ,WAApB,SACGtI,EAAU,oBAEb,cAAC,KAAD,CACEvJ,KAAK,WACLiS,KAAK,WACL5D,GAAG,WACHyD,aAAa,mBACb7R,MAAOuP,EACPwC,SAAUrI,KAAKoG,kBAGlB9B,GAAO,QACN,eAAC,KAAD,CAAa1O,OAAO,SAAS2O,WAAS,EAAtC,UACE,cAAC,KAAD,CAAY2D,QAAQ,WAApB,SACGtI,EAAU,iBAEb,cAAC,KAAD,CACEvJ,KAAK,QACLqO,GAAG,QACHpO,MAAOwP,EACPuC,SAAUrI,KAAKoG,kBAQrB,cAAC,KAAD,CACEkC,KAAK,SACL/D,WAAS,EACTrB,QAAQ,YACRzK,MAAM,UACNuF,UAAWL,EAAQ4K,OACnBzD,SAAUA,EANZ,SAQGlF,EAAU,kBAgBjB,cAACuF,GAAD,WAWKhR,SACbwI,KA9Oa9H,IAAK,CAClBuN,KAAM,CACJlH,OAAQ,SAEVkM,MAAO,CACLoB,gBAAgB,OAAD,OAASlE,GAAOwC,OAAhB,KACf2B,iBAAkB,YAClBC,gBACyB,UAAvB7T,EAAMsD,QAAQmQ,KACVzT,EAAMsD,QAAQwQ,KAAK,IACnB9T,EAAMsD,QAAQwQ,KAAK,KACzBC,eAAgB,QAChBC,mBAAoB,UAEtBtF,MAAO,CACL3N,OAA6B,EAArBf,EAAMiU,QAAQC,KACtBrT,aAAmC,EAArBb,EAAMiU,QAAQC,KAC5BnS,QAAS,OACTE,cAAe,SACfC,WAAY,UAEdwQ,OAAQ,CACN3R,OAAQf,EAAMiU,QAAQC,KAEtBhO,MAAO,IACPG,OAAQ,KAEV6M,KAAM,CACJhN,MAAO,OACPvF,UAAWX,EAAMiU,QAAQC,MAE3BR,OAAQ,CACN/S,UAAgC,EAArBX,EAAMiU,QAAQC,KACzBrT,aAAcb,EAAMiU,QAAQC,MAE9BhC,OAAQ,CACNnQ,QAAS,OACTG,WAAY,SACZD,cAAe,cAyMjBqI,EACA8E,GACAzD,GAJarM,CAKbqR,I,oBCrPF,MAAMwD,WAAa/J,IAAMQ,UAAW,eAAD,oBACjC2G,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAFO,KAKjCmP,aAAgBC,IACdA,EAAEC,iBAEF3F,KAAKtC,MAAMsK,YAGb3H,SAAU,MAAD,EAC0CL,KAAKtC,MAA9CC,EADD,EACCA,QAASsL,EADV,EACUA,OAAQnE,EADlB,EACkBA,SAAUlF,EAD5B,EAC4BA,UAEnC,OACE,uBACE5B,UAAWiL,EAAStL,EAAQuL,WAAavL,EAAQoK,KACjDC,SAAUhI,KAAKyF,aAFjB,UAIGzF,KAAKtC,MAAM4C,UACVwE,GACA,cAAC,KAAD,CACE9G,UAAWL,EAAQwL,aACnBb,KAAK,SACLpF,QAAQ,YACRzK,MAAM,UACNqM,SAAUA,EALZ,SAOGlF,EAAU,mBAeRY,UAAiB7D,sBA3DhB9H,IAAD,CACbqU,WAAY,CACVtS,QAAS,OACTa,SAAU,OACVX,cAAe,OAEjBiR,KAAM,CACJnR,QAAS,OACTE,cAAe,UAEjBqS,aAAc,CACZvT,OAAQf,EAAMiU,QAAQC,KACtBrT,aAAmC,EAArBb,EAAMiU,QAAQC,SA+CApM,CAAmBqM,K,wCC4BpCxI,UAAiB7D,sBAlFhB9H,GAAD,YAAC,eACTwC,EAAgBxC,IADR,IAEXuU,UAAW,CACPpR,WAAY,kBACZyC,OAAQ,oBACR7C,aAAc,MACd,WAAY,CACRhB,QAAS,QAEb,UAAW,CACPA,QAAS,SAGjByS,WAAY,CACR5Q,MAAO,4BACPU,SAAU,YAEdmQ,UAAW,CACPrT,QAAS,gBACTkD,SAAU,WACVV,MAAO,cA8DiBkE,EA1DhC,SAA4Be,GAAQ,MACxBC,EAAYD,EAAZC,QACF4L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAWlC,EAAM8L,OAE9D,OACI,eAAC,KAAD,CACIxL,UAAWC,IAAWP,EAAMM,WAC5BkF,QAAQ,SACRqB,UAAW7G,EAAM6G,UACjB0D,SAAUvK,EAAMuK,SAChBwB,MAAO/L,EAAMgM,WAAiC,KAApBhM,EAAMgM,UALpC,UAOI,cAAC,KAAD,CACIxB,QAAQ,mBACRlK,UAAWC,IAAWN,EAAQ0L,YAFlC,SAIKE,IAEL,cAAC,KAAD,CACI7E,GAAG,gBACH6E,MAAOA,EACPjT,MAAOoH,EAAMpH,OAAS,GACtB+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAO/P,OACtDV,OAAO,SACPsN,QAAQ,SACRlF,UAAWL,EAAQyL,UACnBzL,QAAS,CAAEgM,MAAOhM,EAAQ2L,WAC1BM,KAAMlM,EAAMkM,KACZC,UAAWnM,EAAMmM,UACjBC,OAAQpM,EAAMoM,SAGdpM,EAAMgM,WAAa,cAAC,KAAD,UAAiBhM,EAAMgM,mB,4DCjB3C/M,6BA1CA9H,IAAK,CAClBkV,YAAa,CACXnU,OAAQf,EAAMiU,QAAQC,KACtBhO,MAAO,QAuCI4B,EAnCf,SAAoBe,GAClB,OACE,eAAC,KAAD,CACE4F,QAAS5F,EAAM4F,QACf0G,kBAAgB,sBAChB3G,KAAM3F,EAAMuM,OACZ1F,WAAS,EAJX,UAME,cAAC,KAAD,CAAaG,GAAG,sBAAhB,SAAuChH,EAAMqH,QAC5CrH,EAAM4C,SACP,eAAC,KAAD,WACG5C,EAAMwM,UACL,cAAC,KAAD,CAAQxL,QAAShB,EAAMwM,SAAUzR,MAAM,UAAvC,oBAIDiF,EAAMyM,WACL,cAAC,KAAD,CAAQzL,QAAShB,EAAMyM,UAAW1R,MAAM,UAAU2P,WAAS,EAA3D,yB,yCCSKzL,6BAnCA9H,IAAK,CAClBkV,YAAa,CACXpU,WAAYd,EAAMiU,QAAQC,KAC1BtT,YAAaZ,EAAMiU,QAAQC,SAgChBpM,EA5Bf,SAAyBe,GAAQ,MACvBC,EAAYD,EAAZC,QAER,OACE,cAAC,KAAD,CACEK,UAAWL,EAAQoM,YACnBK,QACE,cAAC,KAAD,CACEC,QAAS3M,EAAMpH,MACf+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAOgE,SACtD/T,MAAOoH,EAAM8L,MACb1E,SAAUpH,EAAMoH,WAGpByE,MAAO7L,EAAM6L,W,yCCjBnB,MAAMe,WAAqBrL,IAAMQ,UAC/BY,SAAU,MAAD,EACiEL,KAAKtC,MAArEpH,EADD,EACCA,MAAOiU,EADR,EACQA,aAAc/F,EADtB,EACsBA,QAAS9F,EAD/B,EAC+BA,QAASV,EADxC,EACwCA,UAAWwM,EADnD,EACmDA,UAE1D,OACE,cAAC,KAAD,CAASzF,MAAOP,EAASiG,aAAYjG,EAASgG,UAAWA,EAAzD,SACE,cAAC,KAAD,CACEhM,MAAO,CAAE1F,cAAe,aACxB+J,IAAK0H,EACL7H,IAAKpM,EAAQ,0BAA4BA,EAAQ,KACjDoI,QAASA,EACTV,UAAWA,EALb,SAOGwG,EAAQ,QAgBJ7H,6BAjCA9H,IAAK,KAiCL8H,CAAmB2N,ICgCnBI,OArEGtL,GACT1B,IACL,MAAMiN,EAAYC,iBAAO,MAgCnBC,EAAQ,yCAAG,WAAOpG,EAAKqG,EAAM3V,GAAlB,kBAAAX,EAAA,6DACTuW,EAAW,IAAIC,UACZC,OAAO,OAAQH,GAFT,SAIQI,MAAM,GAAD,OAAIzG,EAAJ,aAAoB,CAC9C0G,OAAQ,OACRC,QAAS,CACPC,cAAe,SAAWlW,GAE5BmW,KAAMP,IATO,UAYS,OARlBQ,EAJS,QAYFC,OAZE,iCAaAD,EAASE,OAbT,4DAebvV,QAfa,UAeKqV,EAASG,OAfd,+BAeLvV,IAfK,gBAgBP,IAAIwV,MAAMJ,EAASK,YAhBZ,4CAAH,0DAoBd,OACE,qCACE,cAACxM,EAAD,2BACM1B,GADN,IAEEmO,MAAO,CACLC,OAvDO,CAACpJ,EAAKxH,EAAQ6Q,EAAW,OAC/B,IAAIC,SAAQC,IACjB,MAAM7E,EAAQ,IAAI8E,MACZC,EAASxB,EAAUyB,QACzBhF,EAAMiF,OAAS,KACTjF,EAAMlM,OAASA,IACjBkM,EAAMrM,OAASG,EAASkM,EAAMlM,OAC9BkM,EAAMlM,OAASA,GAEjB,MAAMoR,EAAMH,EAAOI,WAAW,MAC9BD,EAAIE,UAAU,EAAG,EAAGL,EAAOpR,MAAOoR,EAAOjR,QACzCiR,EAAOpR,MAAQqM,EAAMrM,MACrBoR,EAAOjR,OAASkM,EAAMlM,OACtBoR,EAAIG,UAAUrF,EAAO,EAAG,EAAGA,EAAMrM,MAAOqM,EAAMlM,QAE3C6Q,EACDI,EAAOO,QAAQC,IACbA,EAAKtW,KAAO0V,EACZE,EAAQU,KACP,cAGHV,EAAQE,EAAOS,UAAU,gBAI7BxF,EAAM1E,IAAMA,KA8BRmI,eAGJ,wBAAQrM,MAAO,CAAE5H,QAAS,QAAUiW,IAAKlC,QCjE1C,MAAMmC,GAAYjY,IAAK,CAC5BkY,IAAK,CACHnW,QAAS,OACToW,KAAM,EACNlW,cAAe,SACfpB,aAAcb,EAAMiU,QAAQC,MAE9BvR,IAAK,CACHZ,QAAS,OACTa,SAAU,OACVX,cAAe,OAEjBiQ,OAAQ,CACNnQ,QAAS,OACTG,WAAY,SACZF,eAAgB,SAChBC,cAAe,UAEjByM,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,MAEzBiE,KAAM,CACJpW,QAAS,QAEX+M,KAAM,CACJ/M,QAAS,OACToW,KAAK,K,sFCCT,MAAMC,GAAUpY,GAAD,YAAC,eACXiY,GAAUjY,IADA,IAEbqY,QAAS,CACPvX,WAAYd,EAAMiU,QAAQC,MAE5BoE,cAAe,CACbxX,WAAYd,EAAMiU,QAAQC,KAC1BvT,UAAgC,EAArBX,EAAMiU,QAAQC,MAE3BqE,QAAS,CACPC,MAAO,QACPzX,OAAQf,EAAMiU,QAAQC,QAIpBuE,GAAa,CACjBzH,SAAU,CACRvP,MAAO,GACPoT,UAAW,IAEb6D,iBAAkB,CAChBjX,MAAO,GACPoT,UAAW,IAEb8D,MAAO,CACLlX,MAAO,GACPmX,WAAW,EACX/D,UAAW,IAEbrT,KAAM,GACNuP,SAAU,CACRtP,MAAO,GACPmX,WAAW,EACX/D,UAAW,IAEbgE,IAAK,CACHpX,MAAO,GACPoT,UAAW,IAEbiE,QAAS,GACTC,KAAM,GACNC,SAAU,GACVC,QAAS,GACTC,KAAK,EACLxG,OAAQ,KACRyG,eAAe,EACfC,eAAe,EACfC,sBAAsB,EACtBC,YAAY,GAGRC,GAAc9O,GACX,uCACFgO,IACAhO,GAFL,IAGEkO,MAAM,2BAAMF,GAAWE,OAAlB,IAAyBlX,MAAOgJ,EAAKkO,QAC1C5H,SAAS,2BAAM0H,GAAW1H,UAAlB,IAA4BtP,MAAOgJ,EAAKsG,WAChD8H,IAAI,2BAAMJ,GAAWI,KAAlB,IAAuBpX,MAAOgJ,EAAKoO,KAAO,KAC7CW,oBAAoB,EACpBC,eAAe,IAInB,MAAMC,WAAoBtP,IAAMQ,UAAW,eAAD,iCACxCW,MAAQgO,GAAWpO,KAAKtC,MAAM4B,KAAKA,MADK,KAGxC8G,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,UAAUR,GAAUoO,KAAEC,IAAIrO,EAAO/J,EAAMC,MAJN,KAOxCoY,qBAAwB/N,IAAW,MAAD,EACNA,EAAM0F,OAAxBhQ,EADwB,EACxBA,KAAMgU,EADkB,EAClBA,QACdrK,KAAKY,UAAUR,GAAUoO,KAAEC,IAAIrO,EAAO/J,EAAMgU,MATN,KAYxCsE,eAAiB,KAAO,MACd/O,EAAcI,KAAKtC,MAAnBkC,UACA8N,EAAQ1N,KAAKI,MAAbsN,IAEFkB,EAAQ,IAAIC,OAAO,2CACnBC,EAAwB,gFAAdpB,EAAIpX,OAA+BsY,EAAMG,KAAKrB,EAAIpX,OAC5DoT,EAAYoF,EAAU,GAAKlP,EAAU,qBAM3C,OAJAI,KAAKY,UAAUR,IAAD,CACZsN,IAAI,2BAAMtN,EAAMsN,KAAb,IAAkBhE,kBAGhBoF,GAxB+B,KA2BxCE,eAAiB,KAAO,MAAD,EACkBhP,KAAKI,MAApCyF,EADa,EACbA,SAAU0H,EADG,EACHA,iBACV3N,EAAcI,KAAKtC,MAAnBkC,UAEFgP,EAAQ,IAAIC,OAAOvK,GAAO2K,iBAC1BC,GAAmBrJ,EAASvP,OAASsY,EAAMG,KAAKlJ,EAASvP,OACzD6Y,EAAoBD,EACtB,GACAtP,EAAU,sBAERwP,EAA0BvJ,EAASvP,QAAUiX,EAAiBjX,MAC9D+Y,EAA4BD,EAC9B,GACAxP,EAAU,yBAUd,OARAI,KAAKY,UAAUR,IAAD,CACZyF,SAAS,2BAAMzF,EAAMyF,UAAb,IAAuB6D,UAAWyF,IAC1C5B,iBAAiB,2BACZvN,KAAKI,MAAMmN,kBADA,IAEd7D,UAAW2F,QAIRH,GAAmBE,GAlDY,KAqDxCE,WArDwC,wBAqD3B,mCAAA9a,EAAA,yDACHoL,EAAc,EAAKlC,MAAnBkC,UACA4N,EAAU,EAAKpN,MAAfoN,MAER,EAAK5M,UAAUR,IAAD,CACZoN,MAAM,2BACDpN,EAAMoN,OADN,IAEHC,WAAW,QAPJ,MAWMD,EAAMlX,MAXZ,qCAW4B,EAAKwY,QAAQtB,EAAMlX,OAX/C,iCAWLwY,EAXK,KAYLpF,EAAYoF,EAAU,GAAKlP,EAAU,oBAE3C,EAAKgB,UAAUR,IAAD,CACZoN,MAAM,2BAAMpN,EAAMoN,OAAb,IAAoB9D,YAAW+D,WAAW,QAftC,kBAkBJqB,GAlBI,4CArD2B,KA0ExCA,QA1EwC,yCA0E9B,WAAOlJ,GAAP,kBAAApR,EAAA,6DACA8K,EAAS,EAAK5B,MAAd4B,KADA,SAGU,EAAK5B,MAAM4B,KAAKiQ,UAAU3J,GAHpC,cAGF4J,EAHE,yBAKS,IAAfA,EAAInb,QAAgC,IAAfmb,EAAInb,QAAgBmb,EAAI,GAAGC,MAAQnQ,EAAKA,KAAKmQ,KAL5D,2CA1E8B,2DAmFxCC,cAnFwC,wBAmFxB,mCAAAlb,EAAA,yDACNoL,EAAc,EAAKlC,MAAnBkC,UACAgG,EAAa,EAAKxF,MAAlBwF,SAER,EAAKhF,UAAUR,IAAD,CACZwF,SAAS,2BACJxF,EAAMwF,UADH,IAEN6H,WAAW,QAPD,MAWG7H,EAAStP,MAXZ,qCAW4B,EAAKwY,QAAQlJ,EAAStP,OAXlD,iCAWRwY,EAXQ,KAYRpF,EAAYoF,EAAU,GAAKlP,EAAU,uBAE3C,EAAKgB,UAAUR,IAAD,CACZwF,SAAS,2BAAMxF,EAAMwF,UAAb,IAAuB8D,YAAW+D,WAAW,QAfzC,kBAkBPqB,GAlBO,4CAnFwB,KAwGxCa,mBAAqB,KACnB3P,KAAKY,SAAS,CAAE2G,OAAQ,KAAM+G,eAAe,KAzGP,KA4GxCsB,mBAAsBjP,IACpBA,EAAMgF,iBAEN,MAAMkK,EAAS,IAAIC,WACnBD,EAAOE,UAAP,wBAAmB,6BAAAvb,EAAA,sEACA,EAAKkJ,MAAMmO,MAAMC,OAAO+D,EAAOG,OAAQ,KADvC,OAEjBC,GADIA,EADa,QAELlQ,MAAM,KAAKmQ,MACvB,EAAKtP,SAAS,CAAE2G,OAAQ0I,EAAM3B,eAAe,IAH5B,2CAKnBuB,EAAOM,cAAcxP,EAAM0F,OAAO+J,MAAM,IAKxCzP,EAAM0F,OAAO/P,MAAQ,IA1HiB,KA6HxC+Z,eA7HwC,wBA6HvB,uBAAA7b,EAAA,+EAEP,EAAKkJ,MAAM4B,KAAK+Q,iBAFT,OAGb,EAAKC,yBAHQ,+CAKb,EAAK5S,MAAM4B,KAAK6G,UAAhB,MALa,wDA7HuB,KAsIxCmK,uBAAyB,KACvBtQ,KAAKY,SAAS,CAAEyN,oBAAoB,KAvIE,KA0IxCkC,wBAA0B,KACxBvQ,KAAKY,SAAS,CAAEyN,oBAAoB,KA3IE,KA8IxC5I,aA9IwC,wBA8IzB,qDAAAjR,EAAA,2DAcT,EAAK4L,MAZPyF,EAFW,EAEXA,SACAxP,EAHW,EAGXA,KACAuP,EAJW,EAIXA,SACA4H,EALW,EAKXA,MACAE,EANW,EAMXA,IACAC,EAPW,EAOXA,QACAC,EARW,EAQXA,KACAC,EATW,EASXA,SACAC,EAVW,EAUXA,QACAC,EAXW,EAWXA,IACAxG,EAZW,EAYXA,OACA+G,EAbW,EAaXA,cAbW,KAiBX,EAAKU,kBAjBM,qCAkBJ,EAAKM,aAlBD,+EAmBJ,EAAKI,gBAnBD,kHAyBL,EAAKhS,MAAM4B,KAAKkR,WAAW,EAAKpQ,MAAMqP,IAAK,CAC/CjC,MAAOA,EAAMlX,MACbuP,SAAUA,EAASvP,MACnBD,OACAuP,SAAUA,EAAStP,MACnBoX,IAAKA,EAAIpX,MACTqX,UACAC,OACAC,WACAC,UACAC,MACAxG,OAAQ+G,EAAgB/G,EAAS,OApCxB,QAsCX,EAAK3G,SAASwN,GAAW,EAAK1Q,MAAM4B,KAAKA,OACzC,EAAK5B,MAAM4B,KAAK4G,QAAQ,OAvCb,mDAyCX,EAAKxI,MAAM4B,KAAK6G,UAAhB,MAzCW,2DA6Cf9F,SAAU,MAAD,EAC0CL,KAAKtC,MAA9CC,EADD,EACCA,QAASiC,EADV,EACUA,UAAWC,EADrB,EACqBA,OAAQiF,EAD7B,EAC6BA,SAC5BxF,EAASU,KAAKtC,MAAM4B,KAApBA,KACFmR,EAAe7Q,EAAU,WAHxB,EAmBHI,KAAKI,MAdPoN,EALK,EAKLA,MACAE,EANK,EAMLA,IACAK,EAPK,EAOLA,IACAJ,EARK,EAQLA,QACAC,EATK,EASLA,KACAC,EAVK,EAULA,SACAC,EAXK,EAWLA,QACAvG,EAZK,EAYLA,OACAlR,EAbK,EAaLA,KACAqa,EAdK,EAcLA,IACA1C,EAfK,EAeLA,cACAC,EAhBK,EAgBLA,cACAC,EAjBK,EAiBLA,qBACAC,EAlBK,EAkBLA,WAGF,OACE,qCACE,eAAC,GAAD,CAAMnG,SAAUhI,KAAKyF,aAAcX,SAAUA,EAA7C,UACE,2CACA,sBAAK9G,UAAWL,EAAQnG,IAAxB,UACE,qBAAKwG,UAAWL,EAAQoP,IAAxB,SACE,qBAAK/O,UAAWL,EAAQoJ,OAAxB,SACE,cAAC,GAAD,CACE/I,UAAWL,EAAQgT,UACnBra,MAAOiR,EACP7I,QAAS,KACPxI,QAAQC,IAAI,mBAEdqO,QAAQ,SACRgG,UAAU,cAIhB,sBAAKxM,UAAWL,EAAQoP,IAAxB,UACE,6HAIA,eAAC,KAAD,CAAQ7J,QAAQ,YAAY0D,UAAU,QAAtC,UACGhH,EAAU,eACX,uBACEmC,QAAM,EACNuG,KAAK,OACLsI,OAAO,aACPvI,SAAUrI,KAAK4P,wBAGnB,cAAC,KAAD,CAAQ1M,QAAQ,WAAWxE,QAASsB,KAAK2P,mBAAzC,SACG/P,EAAU,uBAIjB,cAAC6H,GAAD,CACEnD,OAAQA,GAAOoD,OACf5C,SAAUA,GAAYxF,EAAKoI,OAC3B3C,MAAOzF,EAAKoI,OAASpI,EAAKoI,OAAOrR,KAAOoa,IAE1C,cAAC,GAAD,CACEnM,OAAQA,GAAOuM,QACf/L,SAAUA,GAAYxF,EAAKkI,OAC3BzC,MAAOzF,EAAKkI,OAASlI,EAAKkI,OAAOnR,KAAOoa,IAE1C,cAAC9I,GAAD,CACErD,OAAQA,GAAOsD,GACf9C,SAAUA,GAAYxF,EAAKsI,GAC3B7C,MAAOzF,EAAKsI,GAAKtI,EAAKsI,GAAGvR,KAAOoa,IAElC,gCACE,cAAC5I,GAAD,CACEvD,OAAQA,GAAOwD,OACfhD,SAAUA,EACVC,MAAOzF,EAAKwI,OAASlI,EAAU,QAAU6Q,IAE1CnM,GAAOwD,QAAUxI,EAAKwI,QAAUxI,EAAKwI,OAAOgJ,QAC3C,iCACG,IADH,IAEIlR,EAAU,YAAa,IACxB,IAAI0F,KAAKhG,EAAKwI,OAAOgJ,QAAQC,mBAAmBlR,GAHnD,IAG6D,UAKjE,cAACmR,GAAD,CACE1a,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,cAACkM,GAAD,CACE1a,MAAOoa,EACPlH,MAAM,MACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,EACV8E,KAAM,EACNC,WAAS,IAGX,mBAAG7L,UAAWiP,GAAOC,QAArB,uCACA,cAAC8D,GAAD,CACE1I,KAAK,QACLhS,MAAOkX,EAAMlX,MACbkT,MAAM,cACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,GAAY0I,EAAMC,UAC5B3D,OAAQ9J,KAAKsP,WACb5F,UAAW8D,EAAM9D,UACjBzB,UAAQ,IAEV,cAAC+I,GAAD,CACE1a,MAAOoX,EAAIpX,MACXkT,MAAM,YACNnB,SAAUrI,KAAKoG,aACf0D,OAAQ9J,KAAK2O,eACb7J,SAAUA,EACV4E,UAAWgE,EAAIhE,YAEjB,cAACsH,GAAD,CACE1a,MAAOwX,EACPtE,MAAM,UACNlB,KAAK,UACLD,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,cAACkM,GAAD,CACE1a,MAAOsX,EACPpE,MAAM,OACNlB,KAAK,OACLD,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,cAACkM,GAAD,CACE1a,MAAOqX,EACPnE,MAAM,UACNlB,KAAK,UACLD,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,cAACkM,GAAD,CACE1a,MAAOuX,EACPrE,MAAM,WACNlB,KAAK,WACLD,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,sBAAK9G,UAAWL,EAAQnG,IAAxB,UACE,sBAAKwG,UAAWL,EAAQoP,IAAxB,UACE,cAAC,KAAD,CAAWnG,UAAU,SAArB,SACGhH,EAAU,mBAEb,eAAC,KAAD,WACE,cAAC,KAAD,CACEwK,QACE,cAAC,KAAD,CACE9T,MAAO2X,EACP5D,QAAS4D,EACT5F,SAAUrI,KAAK0O,qBACfrY,KAAK,gBACLyO,UAAWkJ,GAAiBlJ,IAGhCyE,MAAO3J,EAAU,mBAEnB,cAAC,KAAD,CACEwK,QACE,cAAC,KAAD,CACE9T,MAAO4X,EACP7D,QAAS6D,EACT7F,SAAUrI,KAAK0O,qBACfrY,KAAK,uBACLyO,UAAWkJ,GAAiBlJ,IAGhCyE,MAAO3J,EAAU,0BAEnB,cAAC,KAAD,CACEwK,QACE,cAAC,KAAD,CACE9T,MAAO6X,EACP9F,SAAUrI,KAAK0O,qBACfrY,KAAK,aACLgU,QAAS8D,EACTrJ,UAAWkJ,GAAiBlJ,IAGhCyE,MAAO3J,EAAU,sBAIvB,qBAAK5B,UAAWL,EAAQoP,IAAxB,SACE,8BACE,cAAC,GAAD,CACEzW,MAAO0X,EACPxE,MAAM,gBACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,WAKjBR,GAAO,QACN,qBAAKtG,UAAWL,EAAQnG,IAAxB,SACE,qBAAKwG,UAAWL,EAAQoP,IAAxB,SACE,gCACE,cAAC,GAAD,CACEzW,MAAOyX,EACPvE,MAAM,MACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,cAAC,KAAD,CACErM,MAAM,UACNqM,SAAUA,IAAa9E,KAAKI,MAAM2N,IAClCrP,QAASsB,KAAKqQ,eAHhB,SAKGzQ,EAAU,8BAOvB,cAAC,GAAD,CACEmF,MAAO/E,KAAKtC,MAAMkC,UAAU,UAC5BqK,OAAQjK,KAAKI,MAAMiO,mBACnBlE,UAAWnK,KAAKuQ,wBAHlB,SAKE,qBAAKvS,UAAWL,EAAQoJ,OAAxB,SACG/G,KAAKtC,MAAM4B,KAAK2R,QACf,qBACEvO,IAAK,0BAA4B1C,KAAKtC,MAAM4B,KAAK2R,OAAOC,OACxDrO,IAAI,SACJ9H,MAAO,IACPG,OAAQ,cAeT/G,SACbwI,qBAAWsQ,IACXhJ,GACA9E,EACAuL,GACAlK,GALarM,CAMboa,IClhBa4C,OANK,CAClB7R,KAAM,EACN4E,MAAO,EACPkN,KAAM,MC2COjd,SACbwI,sBAnCc9H,IAAD,CACb0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,MAEzBmE,QAAS,CACPvX,WAAYd,EAAMiU,QAAQC,MAE5BsI,UAAW,CACTpb,QAASpB,EAAMiU,QAAQC,KACvBnS,QAAS,OACTE,cAAe,SACfC,WAAY,kBAyBdoI,EACAqB,GAHarM,EAnBf,SAAsBuJ,GAAQ,MAEtBoH,IAAY7C,EADQvE,EAAM4B,KAAxB2C,eACwBkP,GAAY7R,MAE5C,OACE,cAAC,KAAD,CAAMhI,WAAS,EAACwR,QAAS,GAAzB,SACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,CAAMuB,SAAUA,aCY1B,IAAIwM,GAAOC,GAAWC,GACtB,MAAMC,WAAuBxS,IAAMQ,UACjCC,YAAYhC,GACViC,MAAMjC,GAEN,MAAMgU,EAAY,IAAIC,gBAAgB3R,KAAKtC,MAAM8D,SAASoQ,QAC1DL,GAAYG,EAAUG,IAAI,YAC1BP,GAAQI,EAAUG,IAAI,QAGlBC,oBAAqB,IAAD,+HACpBP,IAAcC,GADM,oBAEtBA,IAAS,EACDlS,EAAS,EAAK5B,MAAd4B,KAHc,UAKhBA,EAAKA,KALW,iCAMZA,EAAKyS,YAAYR,GAAWD,IANhB,OAOlB,EAAK5T,MAAMkB,QAAQiG,QAAQ,YAPT,yCAURvF,EAAKkH,MAAM+K,GAAWD,IAVd,mCAWhBhS,EAAK4G,QAAQ,gBAXG,QAalB,EAAKxI,MAAMkB,QAAQiG,QAAQP,GAAOoC,MAbhB,0DAiBpB,EAAKhJ,MAAM4B,KAAK6G,UAAhB,MACA,EAAKzI,MAAMkB,QAAQiG,QAAQ,UAlBP,QAoBtB2M,IAAS,EApBa,4DAwB1BnR,SAAU,MAAD,EACwBL,KAAKtC,MAA5BC,EADD,EACCA,QAASiC,EADV,EACUA,UAEjB,OAAK2R,GAEH,uBAAMvT,UAAWL,EAAQtF,KAAzB,UACE,cAAC,IAAD,IACA,eAAC,KAAD,CAAO2F,UAAWL,EAAQ4F,MAA1B,UACE,cAAC,KAAD,CAAQvF,UAAWL,EAAQ4J,OAAQ7E,IAAK4B,GAAO3B,OAC/C,qBAAK3E,UAAWL,EAAQqU,OAAxB,SACE,cAAC,KAAD,CAAYpL,UAAU,KAAK1D,QAAQ,KAAnC,SACGtD,EAAU,qBARE,cAAC,IAAD,CAAU+G,GAAI,CAAElF,SAAU6C,GAAOoC,SAqB7CvS,SAAQwI,KAzFR9H,IAAK,CAClBwD,KAAM,CACJ0C,MAAO,OACPnE,QAAS,QACTjB,WAAiC,EAArBd,EAAMiU,QAAQC,KAC1BtT,YAAkC,EAArBZ,EAAMiU,QAAQC,KAC3B,CAAClU,EAAMG,YAAYO,GAAG,IAA2B,EAArBV,EAAMiU,QAAQC,KAAW,IAAK,CACxDhO,MAAO,IACPpF,WAAY,OACZF,YAAa,SAGjB8N,MAAO,CACL/N,UAAgC,EAArBX,EAAMiU,QAAQC,KACzBnS,QAAS,OACTE,cAAe,SACfC,WAAY,SACZd,QAAQ,GAAD,OAA0B,EAArBpB,EAAMiU,QAAQC,KAAnB,cAAsD,EAArBlU,EAAMiU,QAAQC,KAA/C,cACW,EADkDlU,EACjEiU,QAAQC,KADJ,OAGTxB,OAAQ,CACN3R,OAAQf,EAAMiU,QAAQC,KAEtBhO,MAAO,IACPG,OAAQ,KAEV8W,OAAQ,CACNxc,UAAWX,EAAMiU,QAAQC,UA8Dc5J,EAAU8E,GAAWzD,GAAjDrM,CAAmEsd,ICpCnEjR,UAAiB7D,sBA5DjB9H,IAAK,CAClBkV,YAAa,CACXpU,WAAYd,EAAMiU,QAAQC,KAC1BtT,YAAaZ,EAAMiU,QAAQC,KAC3BkJ,SAAU,QAwDkBtV,EApDhC,SAA4Be,GAAQ,MAC1BC,EAAYD,EAAZC,QACF4L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAWlC,EAAM8L,OAE9D,OACE,eAAC,KAAD,CACExL,UAAWL,EAAQoM,YACnBxF,UAAW7G,EAAM6G,UACjB0D,SAAUvK,EAAMuK,SAChBwB,MAAO/L,EAAMgM,WAAiC,KAApBhM,EAAMgM,UAChClL,MAAO,CAACzD,MAAO2C,EAAM3C,OALvB,UAOE,cAAC,KAAD,CAAYmN,QAASxK,EAAM8L,MAA3B,SAAmCD,IACnC,cAAC,KAAD,CACEjB,KAAqB,iBAAf5K,EAAM4K,KAA0B,WAAa5K,EAAM4K,KACzD5D,GAAIhH,EAAM8L,MACVlT,MAAOoH,EAAMpH,OAAS,GACtB+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAO/P,OACtD4b,YAAaxU,EAAMwU,YACnB/J,aAA6B,iBAAfzK,EAAM4K,KAA0B,eAAiB,KAC/DxD,SAAUpH,EAAMoH,SAChB+E,UAAWnM,EAAMmM,UACjBD,KAAMlM,EAAMkM,KACZuI,eAAgBzU,EAAMyU,eACtBC,WAAY,CACVtI,OAAQpM,EAAMoM,UAGlB,cAAC,KAAD,UAAiBpM,EAAMgM,mB,wCC8CdlJ,UAAiB7D,sBA/EjB9H,IAAK,CAClBkV,YAAa,CAGXkI,SAAU,QA2EkBtV,EAvEhC,SAA4Be,GAAQ,MAC1BC,EAAyED,EAAzEC,QAASsS,EAAgEvS,EAAhEuS,KAAMoC,EAA0D3U,EAA1D2U,UAAWpK,EAA+CvK,EAA/CuK,SAAU3R,EAAqCoH,EAArCpH,MAAO+R,EAA8B3K,EAA9B2K,SAAUmB,EAAoB9L,EAApB8L,MAAO8I,EAAa5U,EAAb4U,SACjErK,IAAuB,OAAV3R,QAA4Bic,IAAVjc,GAAiC,KAAVA,IAAiB2Z,GAAQA,EAAK5b,OAAS,GAC9FgU,EAASmB,EAAOyG,EAAK,GAAGR,KAG1B,MAAM+C,EAAWC,IACf,MAAMnc,EAAQ2Z,EAAKvO,MAAKtM,GAAKA,EAAEqa,MAAQgD,IACvC,OAAOnc,EAAQA,EAAM+b,GAAa,MAW9B9I,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAUlC,EAAM8L,OAE7D,OACE,eAAC,KAAD,CACExL,UAAWC,IAAWN,EAAQoM,YAAarM,EAAMM,WACjDiK,SAAUA,EACV1D,UAAW7G,EAAM6G,UAHnB,UAKGgF,GACC,cAAC,KAAD,CAAYrB,QAASxK,EAAM8L,MAA3B,SAAmCD,IAErC,eAAC,KAAD,CACEjT,MAAuB,OAAhBoH,EAAMpH,MAAiBoH,EAAMpH,MAAQ,GAC5C+R,SAAW3C,GAAM2C,EAAS3K,EAAM8L,MAAO9D,EAAEW,OAAO/P,OAChDoO,GAAIhH,EAAM8L,MACV8I,SAAU5U,EAAM4U,SAChBI,YAxBcD,GACdH,EAIGG,EAAS5Q,KAAI5K,GAAKub,EAAQvb,KAAI0b,KAAK,OAHjCH,EAAQC,GAuBb3N,SAAUpH,EAAMoH,SANlB,WAQKpH,EAAMuK,WAAaqK,GACpB,cAAC,KAAD,CAAUhc,MAAM,GAAhB,SACE,wCAGH2Z,EAAKpO,KAAIzM,GACR,eAAC,KAAD,CAAsBkB,MAAOlB,EAAEqa,IAA/B,UACG6C,GACC,cAAC,KAAD,CAAUjI,aAA0CkI,IAAjCjc,EAAMoL,MAAK0C,GAAKA,IAAMhP,EAAEqa,QAE7C,cAAC,KAAD,CAAcrX,QAAShD,EAAEid,OAJZjd,EAAEqa,iBCJZjP,UAAiB7D,sBApDjB9H,IAAK,CAClBkV,YAAa,CACXpU,WAAYd,EAAMiU,QAAQC,KAC1BtT,YAAaZ,EAAMiU,QAAQC,KAC3BkJ,SAAU,OAgDkBtV,EA5ChC,SAA2Be,GAAQ,MACzBC,EAAYD,EAAZC,QACF4L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAUlC,EAAM8L,OAE7D,OACE,eAAC,KAAD,CACExL,UAAWL,EAAQoM,YACnB9B,SAAUvK,EAAMuK,SAChB1D,UAAW7G,EAAM6G,UACjB/F,MAAO,CAACzD,MAAO2C,EAAM3C,OAJvB,UAME,cAAC,KAAD,CAAYmN,QAASxK,EAAM8L,MAA3B,SAAmCD,IACnC,cAAC,KAAD,CACE7E,GAAIhH,EAAM8L,MACVlT,MAAOoH,EAAMpH,MAAQoH,EAAMpH,MAAMsc,WAAa,IAC9CvK,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAOqJ,OAAOnN,EAAEW,OAAO/P,QAC7DgS,KAAK,SACLxD,SAAUpH,EAAMoH,SAChBsN,WAAY,CACVU,IAAKpV,EAAMoV,IACXC,IAAKrV,EAAMqV,IACXC,KAAMtV,EAAMsV,MAAQ,gBCxB9B,MAOM1F,GAAa,CACjBjX,KAAM,GACN4c,WAAY,EACZnO,UAAU,EACV3P,IAAK,GAGP,MAAMoZ,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAMnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAPP,KAUnBmP,aAVmB,wBAUJ,mCAAAjR,EAAA,2DAKT,EAAKkJ,MAAMwG,MAHbgP,EAFW,EAEXA,QACAC,EAHW,EAGXA,aACAC,EAJW,EAIXA,SAJW,UAQP,EAAKhT,MAAMqP,IARJ,gCASH2D,EAAS,EAAKhT,OATX,6CAWH8S,EAAQ,EAAK9S,OAXV,OAaX+S,IACA,EAAKvS,SAAS0M,IACV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAfzB,kDAiBX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAjBW,0DAPbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GA4B7BjN,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAE2B9E,KAAKI,MAA/B/J,EAFD,EAECA,KAAM4c,EAFP,EAEOA,WAAY9d,EAFnB,EAEmBA,IAClBke,EAAcrT,KAAKtC,MAAMwG,MAAzBmP,UAER,OACE,eAAC,GAAD,CACErL,SAAUhI,KAAKyF,aACfwD,QAAM,EACNnE,SAAUA,EAHZ,UAKE,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACRnD,SAAUA,MAGd,cAAC,GAAD,CACExO,MAAO2c,EACPzJ,MAAM,aACNnB,SAAUrI,KAAKoG,aACf6J,KAAMoD,EAAUpD,KAChBoC,UAAU,OACVpK,UAAQ,EACRnD,SAAUA,IAEZ,cAAC0O,GAAD,CACEld,MAAOnB,EACPqU,MAAM,MACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACLE,KAAM,EACN/K,UAAQ,IAEV,cAAC,GAAD,CACEsB,MAAM,GACNjT,MAAO0J,KAAKI,MAAM0E,SAClB0E,MAAM,WACNnB,SAAUrI,KAAKoG,mBAeVjS,SAAQwI,sBAvGR9H,IAAK,CAClBye,cAAe,CACb1c,QAAS,OACToW,KAAM,OAoGiC/I,GAAW9E,EAAvChL,CAAiDoa,I,kJC1GhE,MAAMkF,WAA0BxU,IAAMQ,UAAW,eAAD,oBAC9CiU,kBAAoBC,GAAYhT,IAC9BX,KAAKtC,MAAMkW,cAAcjT,EAAOgT,IAGlCtT,SAAU,MAAD,EASHL,KAAKtC,MAPPmW,EAFK,EAELA,iBACAC,EAHK,EAGLA,KACAC,EAJK,EAILA,YACAC,EALK,EAKLA,SACApK,EANK,EAMLA,KACAqK,EAPK,EAOLA,SACArU,EARK,EAQLA,UAGF,OACE,cAAC,KAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAW3J,QAAQ,WAAnB,SACE,cAAC,KAAD,CACEie,cAAeH,EAAc,GAAKA,EAAcC,EAChD3J,QAAS0J,IAAgBC,EACzB3L,SAAUwL,MAGbjK,EAAK/H,KAAIrK,IACR,MAAM+R,EAAQ/R,EAAI+R,OAAS3J,EAAU,SAAD,OAAUpI,EAAI2c,SAAW3c,EAAIgS,QAEjE,OACE,cAAC,KAAD,CAEEpE,MAAoB,QAAb5N,EAAI8Q,KAAiB,QAAU,OACtCrS,QAASuB,EAAI4c,eAAiB,OAAS,UACvCC,cAAeP,EAAKtK,QAAUhS,EAAIgS,OAAQsK,EAAKQ,IAJjD,UAMgB,IAAbL,IAAuC,IAAjBzc,EAAIyc,SACzB1K,EAEA,cAAC,KAAD,CACExE,MAAOnF,EAAU,cACjB4K,UACe,QAAbhT,EAAI8Q,KAAiB,aAAe,eAEtCiM,WAAY,IALd,SAOE,cAAC,KAAD,CACEC,OAAQV,EAAKtK,QAAUhS,EAAIgS,MAC3BpG,UAAW0Q,EAAKQ,IAChB5V,QAASsB,KAAK0T,kBAAkBlc,EAAIgS,OAHtC,SAKGD,OApBF/R,EAAIgS,SA0BZxJ,MACH,cAAC,KAAD,CAAW/J,QAAQ,eAiBduK,UAAiBiT,I,kHCkBjBjT,UAAiB7D,sBAxFV9H,IAAK,CACzBuN,KAAM,CACJtM,aAAcjB,EAAMiU,QAAQC,MAE9B0L,UACyB,UAAvB5f,EAAMsD,QAAQmQ,KACV,CACA7P,MAAO5D,EAAMsD,QAAQI,UAAUF,KAC/BqQ,gBAAiBgM,mBAAQ7f,EAAMsD,QAAQI,UAAUoc,MAAO,MAExD,CACAlc,MAAO5D,EAAMsD,QAAQuT,KAAKtT,QAC1BsQ,gBAAiB7T,EAAMsD,QAAQI,UAAUwK,MAE/C6R,OAAQ,CACN5H,KAAM,YAERI,QAAS,CACP3U,MAAO5D,EAAMsD,QAAQuT,KAAKnT,WAE5BwM,MAAO,CACLiI,KAAM,eAmEsBrQ,EA/DLe,IAAU,MAC3BqW,EAA0HrW,EAA1HqW,YAAapW,EAA6GD,EAA7GC,QAASkX,EAAoGnX,EAApGmX,SAAUC,EAA0FpX,EAA1FoX,SAAU/P,EAAgFrH,EAAhFqH,MAAOgQ,EAAyErX,EAAzEqX,SAAUC,EAA+DtX,EAA/DsX,YAAa5H,EAAkD1P,EAAlD0P,QAAS6H,EAAyCvX,EAAzCuX,UAAWC,EAA8BxX,EAA9BwX,eAAgBtV,EAAclC,EAAdkC,UAEpH,OACE,eAAC,KAAD,CACE5B,UAAWC,IAAWN,EAAQyE,KAAM,CAClC,CAACzE,EAAQ8W,WAAYV,EAAc,IAFvC,UAKE,qBAAK/V,UAAWL,EAAQoH,MAAxB,SACGgP,EAAc,EACb,eAAC,KAAD,CAAYtb,MAAM,UAAUyK,QAAQ,YAApC,UACG6Q,EADH,IACiBnU,EAAU,qBAGzB,cAAC,KAAD,CAAYsD,QAAQ,KAAKwB,GAAG,aAA5B,SACGK,MAIT,qBAAK/G,UAAWL,EAAQiX,SACxB,sBAAK5W,UAAWL,EAAQyP,QAAxB,UACGA,EACA2G,EAAc,EACb,cAAC,KAAD,CAAShP,MAAOnF,EAAU,gBAA1B,SACE,cAAC,IAAD,CAAY6K,aAAY7K,EAAU,gBAAiBlB,QAASmW,EAA5D,SACE,cAAC,KAAD,QAIF,cAAC,KAAD,CAAS9P,MAAOnF,EAAU,gBAA1B,SACE,cAAC,IAAD,CAAY6K,aAAY7K,EAAU,gBAAiBnH,MAAOuc,EAAc,UAAY,UAAWtW,QAASoW,EAAxG,SACE,cAAC,KAAD,QAIR,cAAC,KAAD,CAAS/P,MAAOnF,EAAU,gBAA1B,SACE,cAAC,IAAD,CAAY6K,aAAY7K,EAAU,gBAAiBlB,QAASqW,EAAUjQ,SAAUoQ,EAAhF,SACE,cAAC,KAAD,QAGJ,cAAC,KAAD,CAASnQ,MAAOnF,EAAU,iBAA1B,SACE,cAAC,IAAD,CAAY6K,aAAY7K,EAAU,iBAAkBlB,QAASuW,EAA7D,SACE,cAAC,KAAD,kB,0CCvCGzU,WAlCf,SAAqB9C,GACnB,OACE,eAAC,KAAD,CACE2F,KAAM3F,EAAMuM,OACZ3G,QAAS5F,EAAM4F,QACf0G,kBAAgB,qBAChBmL,mBAAiB,2BAJnB,UAME,cAAC,KAAD,CAAazQ,GAAG,qBAAhB,SAAsChH,EAAMqH,QAC5C,cAAC,KAAD,UACE,cAAC,KAAD,CAAmBL,GAAG,2BAAtB,SACGhH,EAAM0X,gBAGX,eAAC,KAAD,WACE,cAAC,KAAD,CAAQ1W,QAAShB,EAAM4F,QAAS7K,MAAM,UAAtC,SACGiF,EAAMkC,UAAU,mBAEnB,cAAC,KAAD,CAAQlB,QAAShB,EAAMyM,UAAW1R,MAAM,UAAU2P,WAAS,EAA3D,SACG1K,EAAMkC,UAAU,wB,UC4CZY,UAAiB7D,sBAnEjB9H,IAAK,CAClBkV,YAAa,CACXpU,WAAYd,EAAMiU,QAAQC,KAC1BtT,YAAaZ,EAAMiU,QAAQC,KAC3BkJ,SAAU,QA+DkBtV,EAvChC,SAA6Be,GAAQ,MAC3BC,EAAYD,EAAZC,QAD0B,EApBVkC,KACxB,OAAOA,GACL,IAAK,QACH,MAAO,CACLwV,OAAQ,YACRC,KAAO,CAAC,KAAM,KAAM,IAAK,KAAM,IAAK,KAAM,KAAM,KAAM,OAI1D,IAAK,QACL,QACE,MAAO,CACLD,OAAQ,aACRC,KAAO,CAAC,KAAM,KAAM,IAAK,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,SASzCC,CAAiB7X,EAAMmC,QAAxCwV,EAF0B,EAE1BA,OAAQC,EAFkB,EAElBA,KAEV/L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAUlC,EAAM8L,OAC7D,OACE,cAAC,KAAD,CACExL,UAAWL,EAAQoM,YACnByL,UAAQ,EACRjM,MAAOA,EACP8L,OAAQA,EACRI,WAAY/X,EAAMuK,SAClBqN,KAAMhf,GAEJA,EAAQgf,EAAO,GAEjBhf,MAAOoH,EAAMpH,OAAS,KACtB+R,SAAW/R,GAAUoH,EAAM2K,SAAS3K,EAAM8L,MAAOlT,EAAQA,EAAMof,SAAW,MAC1EC,oBAAkB,EAClBC,sBAAsB,EACtBpX,MAAO,CAACwO,KAAM,EAAGpW,QAAS,QAC1BkO,SAAUpH,EAAMoH,SAChB+Q,QAASnY,EAAMkC,UAAU,aACzBkW,YAAapY,EAAMkC,UAAU,uB,oBC7C5B,MAAMmW,GAAe,CAACnM,EAAMoM,EAAG5V,KACpC,MAAM6V,EAAU,GAEhB,GAAI7V,EAAO,CACT,IAAI9J,EAAOkT,EAEXwM,EAAE9gB,SAASE,IACToU,EAAQpU,EAAEoU,MACVlT,EAAQ8J,EAAMoJ,GACVlT,GACF2f,EAAQpX,QAAQzJ,EAAE6a,KAAKvO,MAAMwU,GAAMA,EAAEzG,MAAQnZ,IAAO2f,YAIxDrM,EAAK1U,SAASE,IACZ,OAAQA,EAAEkT,MACR,IAAK,MACHkB,EAAQpU,EAAEoU,MACVlT,EAAQ8J,EAAMoJ,GACVlT,GACF2f,EAAQpX,KAAK,CAAE2K,QAAO2M,GAAI,KAAM7f,UAElC,MAEF,IAAK,OACHkT,EAAQpU,EAAEoU,MACVlT,EAAQ8J,EAAMoJ,GACVlT,GACF2f,EAAQpX,KAAK,CACX2K,QACA2M,GAAI,KACJ7f,MAAiB,IAAVA,IAGX,MAEF,IAAK,OACL,IAAK,WACHkT,EAAQpU,EAAEoU,MACVlT,EAAQ8J,EAAMoJ,GACVlT,IACF2f,EAAQpX,KAAK,CACX2K,QACA2M,GAAI,MACJ7f,MAAO8f,KAAO9f,GAAO+f,MAAM,OAAOX,WAEpCO,EAAQpX,KAAK,CACX2K,QACA2M,GAAI,MACJ7f,MAAO8f,KAAO9f,GAAOggB,QAAQ,OAAOZ,YAGxC,MAEF,IAAK,OACL,IAAK,QACHlM,EAAQpU,EAAE+e,QACV7d,EAAQ8J,EAAMoJ,GACVlT,GAASA,EAAMjC,OAAS,GAC1B4hB,EAAQpX,KAAK,CAAE2K,QAAO2M,GAAI,KAAM7f,UAElC,MAEF,QACEkT,EAAQpU,EAAEoU,MACVlT,EAAQ8J,EAAMoJ,GACVlT,GACF2f,EAAQpX,KAAK,CAAE2K,QAAO2M,GAAI,QAAS7f,cAO7C,OAAO2f,GAGT,MAAMM,WAAqBtX,IAAMQ,UAC/BC,YAAYhC,GACViC,MAAMjC,GADW,KAMnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAPP,KAUnBkgB,YAAc,KACZ,MAAMpW,EAAQ,GACdJ,KAAKtC,MAAMuY,QAAQ/gB,SAASE,IAC1BgL,EAAMhL,EAAEoU,OAAS,QAGnBxJ,KAAKtC,MAAMkM,KAAK1U,SAASE,IACvB,MAAMoU,EACO,SAAXpU,EAAEkT,MAA8B,UAAXlT,EAAEkT,KAAmBlT,EAAE+e,QAAU/e,EAAEoU,MAC1DpJ,EAAMoJ,GAAS,QAEjBxJ,KAAKtC,MAAMyM,UAAU,MACrBnK,KAAKY,SAASR,IAtBG,KAyBnBqF,aAAe,KACbzF,KAAKtC,MAAMyM,UAAUnK,KAAKI,QA1BT,KA6BnBqW,YAAerhB,IACb,IAAqB,IAAjBA,EAAEshB,WACJ,OAAO,KAGT,OAAQthB,EAAEkT,MACR,IAAK,OACL,IAAK,QACH,MAAM+J,EAAYjd,EAAEid,WAAajd,EAAEoU,MAAMzJ,MAAM,KAAKmQ,MAC9CD,EAAOjQ,KAAKtC,MAAMwG,MAAM9O,EAAE6a,MAAMA,KACtC,OACE,cAAC,GAAD,CAEE1G,MAAOnU,EAAEmU,MACTjT,MAAO0J,KAAKI,MAAMhL,EAAE+e,UAAY,GAChC3K,MAAOpU,EAAE+e,QACT9L,SAAUrI,KAAKoG,aACf6J,KAAM7a,EAAEuhB,QAAUvhB,EAAEuhB,QAAQ1G,GAAQA,EACpCoC,UAAWA,EACXC,UAAQ,GAPHld,EAAEoU,OAUb,IAAK,OACH,OACE,cAAC,GAAD,CAEED,MAAOnU,EAAEmU,MACTjT,MAAO0J,KAAKI,MAAMhL,EAAEoU,OACpBA,MAAOpU,EAAEoU,MACTnB,SAAUrI,KAAKoG,aACf6J,KAAM,CACJ,CAAER,IAAK,EAAGpZ,KAAM,KAChB,CAAEoZ,KAAM,EAAGpZ,KAAM,MAEnBgc,UAAW,QATNjd,EAAEoU,OAYb,IAAK,OACL,IAAK,WACH,OACE,cAACoN,GAAD,CAEErN,MAAOnU,EAAEmU,MACTjT,MAAO0J,KAAKI,MAAMhL,EAAEoU,OACpBA,MAAOpU,EAAEoU,MACTnB,SAAUrI,KAAKoG,cAJVhR,EAAEoU,OAOb,IAAK,MACH,OACE,cAACgK,GAAD,CAEEjK,MAAOnU,EAAEmU,MACTjT,MAAO0J,KAAKI,MAAMhL,EAAEoU,OACpBA,MAAOpU,EAAEoU,MACTnB,SAAUrI,KAAKoG,aACf0M,IAAK,GALA1d,EAAEoU,OAQb,QACE,OACE,cAAC+J,GAAD,CAEEhK,MAAOnU,EAAEmU,MACTjT,MAAO0J,KAAKI,MAAMhL,EAAEoU,OACpBA,MAAOpU,EAAEoU,MACTnB,SAAUrI,KAAKoG,cAJVhR,EAAEoU,SAxFfxJ,KAAKI,MAAQ1C,EAAMmZ,cAAgB,GAkGrCxW,SACE,MAAM3C,EAAQsC,KAAKtC,MAEnB,OACE,eAAC,KAAD,CACEoZ,sBAAoB,EACpBC,sBAAoB,EACpB1T,KAAM3F,EAAMuM,OACZ3G,QAAS5F,EAAM4F,QACf0G,kBAAgB,qBAChBmL,mBAAiB,2BACjB5Q,WAAS,EAPX,UASE,cAAC,KAAD,CAAaG,GAAG,qBAAhB,qBACC1E,KAAKtC,MAAMuY,QAAQpU,KAAKmU,GACvB,cAAC,GAAD,CACE1f,MAAO0J,KAAKI,MAAM4V,EAAExM,OACpBA,MAAOwM,EAAExM,MACTD,MAAOyM,EAAEzM,MACTlB,SAAUrI,KAAKoG,aACf6J,KAAM+F,EAAE/F,KACRoC,UAAU,WAGb3U,EAAMkM,KAAK/H,KAAKzM,GAAM4K,KAAKyW,YAAYrhB,KACxC,eAAC,KAAD,WACE,cAAC,KAAD,CAAQsJ,QAASsB,KAAKwW,YAAa/d,MAAM,UAAzC,mBAGA,cAAC,KAAD,CAAQiG,QAASsB,KAAKyF,aAAchN,MAAM,UAAU2P,WAAS,EAA7D,uBAmBKmO,U,0CCtOf,MAAMS,WAAoB/X,IAAMQ,UAAW,eAAD,oBACxCW,MAAQ,CACNS,SAAU,KACVoW,cAAc,GAHwB,KAMxCC,eAAkBvW,IAChBX,KAAKY,SAAS,CAAEC,SAAUF,EAAMG,iBAPM,KAUxCqW,gBAAkB,KAChBnX,KAAKY,SAAS,CAAEC,SAAU,QAXY,KAcxCuW,kBAAoB,KAClBpX,KAAKY,SAAS,CAAEqW,cAAc,KAfQ,KAkBxCI,gBAAkB,KAChBrX,KAAKY,SAAS,CAAEqW,cAAc,EAAMpW,SAAU,QAnBR,KAsBxCyW,iBAAmB,KACjBtX,KAAKY,SAAS,CAAEqW,cAAc,EAAMpW,SAAU,QAvBR,KA0BxCgU,SAAW,KACT7U,KAAKtC,MAAMmX,WACX7U,KAAKoX,qBA5BiC,KA+BxCG,OAAS,KACPvX,KAAKtC,MAAM6Z,SACXvX,KAAKmX,mBAjCiC,KAoCxCK,QAAU,KACRxX,KAAKtC,MAAM8Z,UACXxX,KAAKmX,mBAGP9W,SAAU,MAAD,EAC4BL,KAAKI,MAAhCS,EADD,EACCA,SAAUoW,EADX,EACWA,aACVrX,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,IAAD,CACE6X,YAAW5W,EAAW,oBAAiB0R,EACvCmF,gBAAc,OACdC,KAAK,MACLlN,aAAW,UACX/L,QAASsB,KAAKkX,eACdpS,SAAU9E,KAAKtC,MAAMoH,SANvB,SAQE,cAAC,KAAD,MAEF,eAAC,KAAD,CACEJ,GAAG,eACH7D,SAAUA,EACVwC,KAAMuU,QAAQ/W,GACdyC,QAAStD,KAAKmX,gBAJhB,UAME,cAAC,KAAD,CAAUzY,QAASsB,KAAKuX,OAAxB,SAAiC3X,EAAU,gBAC1CI,KAAKtC,MAAM8Z,SACV,cAAC,KAAD,CAAU9Y,QAASsB,KAAKwX,QAAxB,SACG5X,EAAU,iBAGf,cAAC,KAAD,CAAUlB,QAASsB,KAAKsX,iBAAxB,SACG1X,EAAU,qBAGf,cAAC,GAAD,CACEqK,OAAQgN,EACR3T,QAAStD,KAAKoX,kBACdjN,UAAWnK,KAAK6U,SAChB9P,MAAOnF,EAAU,gBACjBwV,YAAaxV,EAAU,oBAclBY,UAAiBwW,I,qBC7DjBra,6BAnCA9H,IAAK,CAClBgjB,SAAU,CACRnP,gBAAiB,QACjBoP,QAAS,GACTld,SAAU,WACV0B,IAAK,EACLD,KAAM,EACNtB,MAAO,OACPG,OAAQ,OACRqB,OAAQ,KACR3F,QAAS,OACTC,eAAgB,SAChBE,WAAY,aAuBD4F,EAnBf,SAAkBe,GAAQ,MAChBC,EAAuBD,EAAvBC,QAER,OAF+BD,EAAd+P,UAIb,qBAAKzP,UAAWL,EAAQka,SAAxB,SACE,cAAC,KAAD,MAKG,Q,UCCX,IAAIE,GAAW,GACf,MAAMC,WAAsB/Y,IAAMQ,UAChCC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAkBnBua,kBAAoB,CAACtX,EAAOgT,KAC1B,MAAMnK,EAAQmK,EACd,IAAIW,EAAM,OAENtU,KAAKI,MAAM0T,KAAKtK,QAAUmK,GAAoC,SAAxB3T,KAAKI,MAAM0T,KAAKQ,MACxDA,EAAM,OAGR,MAAMR,EAAO,CAAEtK,QAAO8K,OARiB,EASAtU,KAAKI,MAApC6V,EAT+B,EAS/BA,QAASiC,EATsB,EAStBA,KAAMC,EATgB,EAShBA,YACvBnY,KAAKqI,SAAS4N,EAASiC,EAAMC,EAAarE,GAC1C9T,KAAKY,SAAS,CAAEkT,UA7BC,KAgCnBsE,qBAAwBzX,IACtB,GAAIA,EAAM0F,OAAOgE,QAAjB,CACE,MAAM4F,EAAOjQ,KAAKtC,MAAMwG,MAAMlE,KAAKtC,MAAMuS,MAAMA,KAC/CjQ,KAAKY,UAAUR,IAAD,CACZqS,SAAUxC,EACPoI,QAAQC,IAAmC,IAA7BtY,KAAKtC,MAAM6a,WAAWD,KACpCzW,KAAKyW,GAAMA,EAAE7I,eAIpBzP,KAAKY,SAAS,CAAE6R,SAAU,MA1CT,KA6CnB+F,YAAe9T,IAAQ,MACb+N,EAAazS,KAAKI,MAAlBqS,SACFgG,EAAgBhG,EAASiG,QAAQhU,GACvC,IAAIiU,EAAc,IAEK,IAAnBF,EACFE,EAAcA,EAAYC,OAAOnG,EAAU/N,GAChB,IAAlB+T,EACTE,EAAcA,EAAYC,OAAOnG,EAASrb,MAAM,IACvCqhB,IAAkBhG,EAASpe,OAAS,EAC7CskB,EAAcA,EAAYC,OAAOnG,EAASrb,MAAM,GAAI,IAC3CqhB,EAAgB,IACzBE,EAAcA,EAAYC,OACxBnG,EAASrb,MAAM,EAAGqhB,GAClBhG,EAASrb,MAAMqhB,EAAgB,KAInCzY,KAAKY,SAAS,CAAE6R,SAAUkG,KA/DT,KAkEnBE,iBAAmB,CAAClY,EAAOuX,KAAU,MAAD,EACKlY,KAAKI,MAApC6V,EAD0B,EAC1BA,QAASkC,EADiB,EACjBA,YAAarE,EADI,EACJA,KAC9B9T,KAAKqI,SAAS4N,EAASiC,EAAMC,EAAarE,GAC1C9T,KAAKY,SAAS,CAAEsX,UArEC,KAwEnBY,wBAA2BnY,IACzB,MAAMwX,EAAcxX,EAAM0F,OAAO/P,MADE,EAEH0J,KAAKI,MAA7B6V,EAF2B,EAE3BA,QAASiC,EAFkB,EAElBA,KAAMpE,EAFY,EAEZA,KACvB9T,KAAKqI,SAAS4N,EAASiC,EAAMC,EAAarE,GAC1C9T,KAAKY,SAAS,CAAEuX,iBA5EC,KA+EnBY,WAAcrU,IAA4C,IAArC1E,KAAKI,MAAMqS,SAASiG,QAAQhU,GA/E9B,KAiFnB2D,SAAW,CAAC4N,EAASiC,EAAMC,EAAarE,KACtC9T,KAAKtC,MAAM2K,SACT4N,EACA,CAAE+C,MAAOb,EAAac,KAAMd,EAAcD,GAC1CpE,GACA,IAtFe,KA0FnBhC,kBAAoB,KAAO,MAAD,EACqB9R,KAAKI,MAA1C6V,EADgB,EAChBA,QAASiC,EADO,EACPA,KAAMC,EADC,EACDA,YAAarE,EADZ,EACYA,KACpC9T,KAAKqI,SAAS4N,EAASiC,EAAMC,EAAarE,IA5FzB,KA+FnBoF,iBAAmB,KACjBlZ,KAAKY,SAAS,CAAEuY,cAAc,KAhGb,KAmGnBC,kBAAoB,KAClBpZ,KAAKY,SAAS,CAAEuY,cAAc,KApGb,KAuGnBE,oBAAuBjZ,IACrB,MAAM6V,EAAUF,GAAa/V,KAAKtC,MAAMkM,KAAM5J,KAAKtC,MAAMuY,QAAS7V,GADnC,EAGDJ,KAAKI,MAA3B+X,EAHuB,EAGvBA,YAAarE,EAHU,EAGVA,KACrB9T,KAAKqI,SAAS4N,EAFD,EAEgBkC,EAAarE,GAC1C9T,KAAKY,SAAS,CAAEqV,UAASiC,KAHZ,EAGkBiB,cAAc,KA5G5B,KA+GnBG,iBA/GmB,wBA+GA,uCAAA9kB,EAAA,+DACsC,EAAK4L,MAApDqS,EADS,EACTA,SAAUwD,EADD,EACCA,QAASiC,EADV,EACUA,KAAMC,EADhB,EACgBA,YAAarE,EAD7B,EAC6BA,KAD7B,SAEX9H,QAAQuN,IAAI9G,EAAS5Q,KAAK6C,GAAO,EAAKhH,MAAMmX,SAASnQ,MAF1C,OAGjB,EAAK2D,SAAS4N,EAASiC,EAAMC,EAAarE,GAC1C,EAAKlT,SAAS,CAAE6R,SAAU,KAC1B,EAAK2E,oBALY,2CA/GA,KAuHnBoC,UAAaC,GACE,IAAInU,KAAKmU,GACV1I,mBAAmB/Q,KAAKtC,MAAMmC,QAzHzB,KA4HnB6Z,cAAiBD,GACF,IAAInU,KAAKmU,GACVE,eAAe3Z,KAAKtC,MAAMmC,OAAQ,CAC5C+Z,QAAQ,EACRC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YApIO,KAwInBC,SAAW,CAAC5B,EAAG9gB,KACb,MAAMlB,EAAQkY,KAAEqD,IAAIyG,EAAG9gB,EAAIgS,OAC3B,GAAIhS,EAAI2iB,KACN,OAAO3iB,EAAI2iB,KAAK7B,GAGlB,OAAQ9gB,EAAI8Q,MACV,IAAK,OACH,OAAOtI,KAAKwZ,UAAUljB,GACxB,IAAK,WACH,OAAO0J,KAAK0Z,cAAcpjB,GAC5B,IAAK,OACH,OAAOA,EAAQ,IAAM,IACvB,IAAK,QACH,OAAOA,EAAMuL,KAAK5K,GAAMA,EAAEO,EAAI6a,aAAYM,KAAK,OACjD,QACE,OAAOrc,IAxJM,KA4JnB8jB,eA5JmB,yCA4JF,WAAO1V,GAAP,wBAAAlQ,EAAA,+DAC8B,EAAK4L,MAA1C6V,EADO,EACPA,QAASiC,EADF,EACEA,KAAMC,EADR,EACQA,YAAarE,EADrB,EACqBA,KADrB,SAET,EAAKpW,MAAMmX,SAASnQ,GAFX,OAGf,EAAK2D,SAAS4N,EAASiC,EAAMC,EAAarE,GAH3B,2CA5JE,2DAkKnBsD,kBAAoB,KAClBpX,KAAKY,SAAS,CAAEqW,cAAc,KAnKb,KAsKnBK,iBAAmB,KACjBtX,KAAKY,SAAS,CAAEqW,cAAc,KAvKb,KA0KnBlC,SA1KmB,wBA0KR,mCAAAvgB,EAAA,+DACiB,EAAK4L,MAAvB6V,EADC,EACDA,QAASnC,EADR,EACQA,KACjBiE,GAAW,GACX,EAAKra,MAAMkM,KAAK1U,SAASE,IACvB,IAAqB,IAAjBA,EAAEilB,WAAsB,CAC1B,MAAM7Q,EAAQpU,EAAE+e,SAAW/e,EAAEoU,MAC7BuO,GAASlZ,KAAK,CACZ0K,MAAO,EAAK7L,MAAMkC,UAAU,SAAW4J,GACvCrU,IAAKC,EAAEoU,YARJ,SAYc,EAAK9L,MAAM2K,SAAS4N,OAAS1D,EAAWuB,GAAM,GAZ5D,QAYHwG,EAZG,UAcP,EAAK1Z,SAAS,CAAE0Z,SAAUA,EAASrK,OACnC,EAAKsK,UAAUnO,QAAQoO,KAAKC,SAfrB,2CA1KQ,KA6LnBC,cAAgB,KAAO,MAAD,EACyB1a,KAAKI,MAA1C6V,EADY,EACZA,QAASiC,EADG,EACHA,KAAMC,EADH,EACGA,YAAarE,EADhB,EACgBA,KACpC9T,KAAKqI,SAAS4N,EAASiC,EAAMC,EAAarE,GAAM,IA5LhD9T,KAAKI,MAAQ,CACXqS,SAAU,GACVyF,KAAM,EACNC,YAAa,EACblC,QAASF,GAAarY,EAAMkM,KAAMlM,EAAMuY,QAASvY,EAAMid,gBACvD7G,KAAMpW,EAAMkd,aAAe,CAAEpR,MAAO,MAAO8K,IAAK,OAChD2C,cAAc,EACdkC,cAAc,EACdd,OAAQ,KACRiC,SAAU,IAGZta,KAAKua,UAAYtb,IAAM4b,YAmLzBxa,SAAU,MAAD,EAC+CL,KAAKtC,MAAnDC,EADD,EACCA,QAASiM,EADV,EACUA,KAAMqK,EADhB,EACgBA,SAAUlP,EAD1B,EAC0BA,MAAOnF,EADjC,EACiCA,UADjC,EASHI,KAAKI,MANPqS,EAHK,EAGLA,SACA0F,EAJK,EAILA,YACAD,EALK,EAKLA,KACApE,EANK,EAMLA,KACAmD,EAPK,EAOLA,aACAkC,EARK,EAQLA,aAEIlJ,EAAOjQ,KAAKtC,MAAMwG,MAAMlE,KAAKtC,MAAMuS,MACnC6K,EACJ3C,EAAc4C,KAAKjI,IAAIqF,EAAalI,EAAK+K,MAAQ9C,EAAOC,GAE1D,OACE,eAAC,KAAD,CAAOna,UAAWL,EAAQyE,KAA1B,UACE,cAAC,GAAD,CACE2R,YAAatB,EAASpe,OACtBwgB,SAAU7U,KAAKsX,iBACfvC,SAAU/U,KAAK+U,SACfD,SAAU9U,KAAKkZ,iBACfnU,MAAOA,EACPiQ,YAAahV,KAAKI,MAAM6V,QAAQ5hB,OAAS,EACzC+Y,QAASpN,KAAKtC,MAAM0P,QACpB6H,UAAWjV,KAAK0a,cAChBxF,gBAAiBlV,KAAKtC,MAAMqO,WAE9B,sBAAK/N,UAAWL,EAAQsd,aAAxB,UACE,cAAC,GAAD,CAAUxN,UAAWwC,EAAKxC,YAC1B,eAAC,KAAD,CACEzP,UAAWL,EAAQud,MACnBlR,kBAAgB,aAChBmR,KAAK,QAHP,UAKE,cAAC,GAAD,CACEpH,YAAatB,EAASpe,OACtByf,KAAMA,EACND,iBAAkB7T,KAAKoY,qBACvBxE,cAAe5T,KAAKiY,kBACpBjE,SAAU/D,EAAK+K,MACfpR,KAAMA,EACNqK,SAAUA,IAEZ,eAAC,KAAD,WACGhE,EAAKA,KAAKpO,KAAKyW,IACd,MAAMS,EAAa/Y,KAAK+Y,WAAWT,EAAE7I,KAC/B3K,EAAW9E,KAAKtC,MAAM6a,WAAWD,GACvC,OACE,eAAC,KAAD,CACE8C,OAAK,EAELC,KAAK,WACLC,eAAcvC,EACdwC,UAAW,EAEX9I,SAAUsG,EAPZ,UASE,cAAC,KAAD,CAAW9iB,QAAQ,WAAnB,SACE,cAAC,KAAD,CACEoU,QAAS0O,EACTra,QAAUiC,GAAUX,KAAKwY,YAAYF,EAAE7I,KACvC3K,SAAUA,MAIb8E,EAAK/H,KAAKrK,GACT,cAAC,KAAD,CAEE4N,MAAoB,QAAb5N,EAAI8Q,KAAiB,QAAU,OACtCrS,QAASuB,EAAI4c,eAAiB,OAAS,UAHzC,SAKGpU,KAAKka,SAAS5B,EAAG9gB,IAJbA,EAAIgS,SAOb,cAAC,KAAD,UACE,cAAC,GAAD,CACEqL,SAAU,IAAM7U,KAAKoa,eAAe9B,EAAE7I,KACtC8H,OAAQ,IAAMvX,KAAKtC,MAAM6Z,OAAOe,GAChCd,QAAS,IAAMxX,KAAKtC,MAAM8Z,QAAQc,GAClCxT,SAAUA,QAzBTwT,EAAE7I,QA+BZqL,EAAY,GACX,cAAC,KAAD,CAAUtc,MAAO,CAAEtD,OAAQ,GAAK4f,GAAhC,SACE,cAAC,KAAD,CAAWU,QAAS,eAM9B,cAAC,KAAD,CACEC,iBAAkB7b,EAAU,qBAC5B8b,mBAAoB,EAAGjV,OAAME,KAAIgV,WAAb,UACflV,EADe,YACPE,EADO,YACD/G,EAAU,YADT,YACwB+b,GAE5CC,mBAAoB,CAAC,EAAG,GAAI,IAC5BhV,UAAU,MACV+U,MAAO1L,EAAK+K,MACZ7C,YAAaA,EACbD,KAAMA,EACN2D,oBAAqB,CACnB,aAAcjc,EAAU,uBAE1Bkc,oBAAqB,CACnB,aAAclc,EAAU,mBAE1Bmc,aAAc/b,KAAK6Y,iBACnBmD,oBAAqBhc,KAAK8Y,0BAE5B,cAAC,GAAD,CACE7O,OAAQgN,EACR3T,QAAStD,KAAKoX,kBACdjN,UAAWnK,KAAKsZ,iBAChBvU,MAAOnF,EAAU,gBACjBwV,YAAaxV,EAAU,gBAEzB,cAAC,GAAD,CACEqK,OAAQkP,EACR7V,QAAStD,KAAKoZ,kBACdjP,UAAWnK,KAAKqZ,oBAChBnV,MAAOlE,KAAKtC,MAAMwG,MAClB0F,KAAM5J,KAAKtC,MAAMkM,KACjBqM,QAASjW,KAAKtC,MAAMuY,QACpBY,aAAc7W,KAAKtC,MAAMid,iBAE3B,cAAC,WAAD,CACE1K,KAAMjQ,KAAKI,MAAMka,SACjBlP,QAAS2M,GACThM,SAAU/L,KAAKtC,MAAMqO,SAAW,OAChCvN,MAAO,CAAE5H,QAAS,QAClBiW,IAAK7M,KAAKua,UACVlU,OAAO,eA0BF7F,UAAiB7D,sBAjXhB9H,IAAD,CACbuN,KAAM,CACJrH,MAAO,QAETmgB,MAAO,GAGPD,aAAc,CACZgB,UAAW,OACXrhB,SAAU,eAwWkB+B,CAAmBqb,KCnWpCrb,6BA5BC9H,IAAD,CACbkV,YAAa,CACXnU,OAAQf,EAAMiU,QAAQC,KACtBhO,MAAO,QAyBI4B,EArBf,SAAoBe,GAClB,OACE,eAAC,KAAD,CACE4F,QAAS5F,EAAM4F,QACf0G,kBAAgB,sBAChB3G,KAAM3F,EAAMuM,OACZ1F,WAAS,EAJX,UAME,cAAC,KAAD,CAAaG,GAAG,sBAAhB,SAAuChH,EAAMqH,QAC5CrH,EAAM4C,eCZb,MAAM4b,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,iBAAkBlB,KAAM,OAAQ2H,KAAM,YAAakE,QAAS,aAAcF,UAAU,GAC7F,CAAEzK,MAAO,MAAOlB,KAAM,OACtB,CAAEkB,MAAO,WAAYlB,KAAM,SAGvB6T,GAAU,CACd,CACE5S,MAAO,MAAOC,MAAO,MAAOyG,KAAM,CAChC,CAAER,IAAK,EAAGpZ,KAAM,aAAc4f,QAAS,CAAC,CAAEzM,MAAO,aAAc2M,GAAI,KAAM7f,MAAO,KAAM,CAAEkT,MAAO,aAAc2M,GAAI,KAAM7f,MAAO,UAKpI,MAAM8lB,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YASnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KAVT,KAanByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAdP,KAiBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAlBP,KAqBnB7D,aArBmB,yCAqBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAMwG,MAAMsY,SAASvG,EAASnC,EAAMoE,EAAM7X,GAFjD,wEAKX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MALW,wDArBI,iEA8BnBoR,OA9BmB,yCA8BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA9BU,2DAkCnBsO,WAAanjB,IACJ,EAhCP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAiCZ5J,SAAU,MACAoc,EAAezc,KAAKtC,MAAMwG,MAA1BuY,WACA7c,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,QACL5H,SAAUrI,KAAKoG,aACfyO,SAAU4H,EACV1X,MAAOnF,EAAU,SACjB2X,OAAQvX,KAAKuX,OACbrT,MAAOlE,KAAKtC,MAAMwG,MAClB+R,QAASkG,GACT5D,WAAYvY,KAAKuY,WACjBxM,SAAS,UAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,QACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CACEgG,KAAMjQ,KAAKI,MAAMhL,EACjB4S,SAAUhI,KAAKe,oBAQZ5M,SACb8P,GACA9E,EACAqB,GAHarM,CAIbioB,IC9DajoB,SACbwI,sBA5Ba9H,GAAK,2BACbwC,EAAgBxC,IADH,IAElB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UA0BzB5J,EAFahL,EApBf,SAAsBuJ,GAAQ,MACnBC,EAAWD,EAAXC,QACT,OACE,eAAC,KAAD,CAAMrG,WAAS,EAAf,UACE,cAAC,KAAD,CAAM0P,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAIjJ,UAAWL,EAAQ+e,GAAtC,SACE,cAAC,GAAD,YClBR,MAOMpP,GAAa,CACjBjX,KAAM,GACNoN,QAAS,GACTtO,IAAK,GAGP,MAAMoZ,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAMnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAPP,KAUnBmP,aAVmB,wBAUJ,mCAAAjR,EAAA,2DAC2C,EAAKkJ,MAAMwG,MAA3DyY,EADK,EACLA,YAAaC,EADR,EACQA,iBAAkBC,EAD1B,EAC0BA,aAD1B,UAIP,EAAKzc,MAAMqP,IAJJ,gCAKHoN,EAAa,EAAKzc,OALf,6CAOHuc,EAAY,EAAKvc,OAPd,OASXwc,IACA,EAAKhc,SAAS0M,IACV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAXzB,kDAaX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAbW,0DAPbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GAwB7BjN,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAEwB9E,KAAKI,MAA5B/J,EAFD,EAECA,KAAMoN,EAFP,EAEOA,QAAStO,EAFhB,EAEgBA,IAEvB,OACE,eAAC,GAAD,CAAM6S,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,UACE,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACRnD,SAAUA,MAGd,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAOmN,EACP+F,MAAM,UACNnB,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACRnD,SAAUA,MAGd,cAAC0O,GAAD,CACEld,MAAOnB,EACPqU,MAAM,MACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACLE,KAAM,EACN/K,UAAQ,QAeH9T,SAAQwI,sBAxFP9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,OAqFiC/I,GAAW9E,EAAvChL,CAAiDoa,ICzFhE,MAAM2N,GAAO,CAAC,CAAE1S,MAAO,OAAQ4K,gBAAgB,GAAQ,CAAE5K,MAAO,WAAa,CAAEA,MAAO,MAAOlB,KAAM,QAEnG,MAAM8T,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YASnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KAVT,KAanByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAdP,KAiBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAlBP,KAqBnB7D,aArBmB,yCAqBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAMwG,MAAM4Y,aAAa7G,EAASnC,EAAMoE,EAAM7X,GAFrD,wEAIX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MAJW,wDArBI,iEA6BnBoR,OA7BmB,yCA6BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA7BU,2DAiCnBsO,WAAcnjB,IACL,EA/BP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAgCZ5J,SAAU,MACA0c,EAAmB/c,KAAKtC,MAAMwG,MAA9B6Y,eACAnd,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,YACL5H,SAAUrI,KAAKoG,aACfyO,SAAUkI,EACVhY,MAAOnF,EAAU,aACjB2X,OAAQvX,KAAKuX,OACbrT,MAAOlE,KAAKtC,MAAMwG,MAClB+R,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,cAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,YACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CAAMgG,KAAMjQ,KAAKI,MAAMhL,EAAG4S,SAAUhI,KAAKe,oBAOpC5M,SAAQ8P,GAAW9E,EAAUqB,GAA7BrM,CAA+CioB,IC5C/CjoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAAf,UACE,cAAC,KAAD,CAAM0P,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,Y,oBCTR,SAAS+V,GAAKtf,GAAQ,MACZuf,EAAuBvf,EAAvBuf,SAAaC,EADF,YACYxf,EADZ,cAGnB,OACE,cAAC,KAAD,2BACMwf,GADN,IAEErQ,IAAKoQ,EACL3H,KAAM,CAAC,KAAM,KAAM,IAAK,KAAM,MAC9B6H,gBAAiB,SACjBC,UAAQ,KAsCC5c,UAAiB7D,sBAvDhB9H,IAAD,CACbkV,YAAa,CACXpU,WAAYd,EAAMiU,QAAQC,KAC1BtT,YAAaZ,EAAMiU,QAAQC,KAC3BhO,MAAO,OAmDqB4B,EA7BhC,SAAmBe,GAAQ,MACjBC,EAAYD,EAAZC,QACF4L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAWlC,EAAM8L,OAE9D,OACE,eAAC,KAAD,CAAaxL,UAAWL,EAAQoM,YAAhC,UACE,cAAC,KAAD,CAAY7B,QAASxK,EAAM8L,MAA3B,SAAmCD,IACnC,cAAC,KAAD,CACEjT,MAAOoH,EAAMpH,MACb+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAO/P,OACtDoO,GAAIhH,EAAM8L,MACV6T,eAAgBL,GAChB9K,YAAaxU,EAAMwU,YACnBpN,SAAUpH,EAAMoH,kB,qBCbTnI,6BA7BC9H,IAAD,KA6BA8H,EA3Bf,SAA6Be,GAAQ,MAC3BjF,EAAiDiF,EAAjDjF,MAAOiG,EAA0ChB,EAA1CgB,QAAS8F,EAAiC9G,EAAjC8G,QAASM,EAAwBpH,EAAxBoH,SAAU9G,EAAcN,EAAdM,UAC3C,OACE,cAAC,KAAD,CAAS+G,MAAOP,EAAhB,SACE,cAAC,IAAD,CACE/L,MAAOA,EACPiG,QAASA,EACT+L,aAAYjG,EACZM,SAAUA,EACV9G,UAAWA,EALb,SAOGN,EAAM4C,gBCFf,MAAMgK,WAAqBrL,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAOnB2K,SAPmB,yCAOR,WAAO1H,GAAP,oBAAAnM,EAAA,yDACTmM,EAAMgF,iBAEFmF,EAAOnK,EAAM0F,OAAO+J,MAAM,GAC9B,EAAKkN,SAAWC,IAAIC,gBAAgB1S,GAKpCnK,EAAM0F,OAAO/P,MAAQ,GAEO,eAAxB,EAAKoH,MAAM+f,SAXN,wBAYHC,EAAa9Y,OAAO2Y,KAAO3Y,OAAO+Y,UAClCjb,EAAMgb,EAAWF,gBAAgB1S,GAb9B,SAcM,EAAKpN,MAAMmO,MAAMC,OAAOpJ,EAAK,EAAKhF,MAAMxC,OAAQ4P,EAAKzU,MAd3D,OAcPyU,EAdO,eAiBT,EAAKpN,MAAM2K,SAAS,EAAK3K,MAAM8L,MAAOsB,GAjB7B,4CAPQ,2DA2BnBpM,QAAU,KACHsB,KAAKtC,MAAMoH,UACd9E,KAAKid,SAAS7Q,QAAQqO,SA1BxBza,KAAKid,SAAWhe,IAAM4b,YACtB7a,KAAKsd,SAAW,GA6BlBjd,SAAU,MAAD,EAC0DL,KAAKtC,MAA9DC,EADD,EACCA,QAASrH,EADV,EACUA,MAAOwO,EADjB,EACiBA,SAAU2Y,EAD3B,EAC2BA,SAAUjU,EADrC,EACqCA,MAAO5J,EAD5C,EAC4CA,UAC7C2J,EAAQvJ,KAAKtC,MAAM6L,OAAS3J,EAAU,SAAW4J,GAEvD,OACE,gCACE,cAAC,GAAD,CACExL,UAAWL,EAAQuE,OACnBsC,QAAS,qBAAK9B,IAAK1C,KAAKsd,SAAUza,IAAI,gBACtCpK,MAAOnC,EAAQ,UAAY,UAC3BoI,QAASsB,KAAKtB,QACdoG,SAAUA,EALZ,SAOE,cAAC,KAAD,MAEF,cAAC,KAAD,CAAYoD,QAASsB,EAArB,SAA6BD,IAC7B,uBACEsD,IAAK7M,KAAKid,SACVze,MAAO,CAAE5H,QAAS,QAClB0R,KAAK,OACLsI,OAAQ6M,EACRpV,SAAUrI,KAAKqI,eAkBV7H,UAAiBkK,GAAU/N,sBAhF1B9H,GAAD,YAAC,eACXiY,GAAUjY,IADA,IAEbqN,OAAQ,CACNtM,OAAQf,EAAMiU,QAAQC,SA6EgBpM,CAAmB2N,MCvF9CsT,OADK3e,IAAMC,gBCgBX2e,OAfGze,GACR1B,GAEJ,cAAC,GAAY2B,SAAb,UACG+R,GACC,cAAChS,EAAD,2BACM1B,GADN,IAEE0T,KAAMA,OCMlB,MAOM9D,GAAa,CACjBjX,KAAM,GACNyO,UAAU,EACVsQ,YAAa,GACb0I,WAAY,EACZzW,UAAW,KACX0W,cAAe,KACfC,SAAU,KACVC,KAAM,QACNC,KAAM,KACNC,WAAY,MAGd,MAAM5P,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAKnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KANP,KASnBmP,aATmB,wBASJ,mCAAAjR,EAAA,2DACqC,EAAKkJ,MAAM0T,KAArDgN,EADK,EACLA,UAAWC,EADN,EACMA,eAAgBC,EADtB,EACsBA,WADtB,UAIP,EAAKle,MAAMqP,IAJJ,gCAKH6O,EAAW,EAAKle,OALb,6CAOHge,EAAU,EAAKhe,OAPZ,OAUXie,IACA,EAAKzd,SAAS0M,IAEV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAbzB,kDAeX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAfW,0DAPbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GA0B7BjN,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAYH9E,KAAKI,MATP/J,EAHK,EAGLA,KACA+e,EAJK,EAILA,YACA0I,EALK,EAKLA,WACAzW,EANK,EAMLA,UACA0W,EAPK,EAOLA,cACAC,EARK,EAQLA,SACAC,EATK,EASLA,KACAC,EAVK,EAULA,KACAC,EAXK,EAWLA,WAGF,OACE,eAAC,GAAD,CAAMnW,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,UACE,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACRnD,SAAUA,MAId,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAO8e,EACP5L,MAAM,cACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACR1D,WAAS,EACTO,SAAUA,MAId,cAAC0O,GAAD,CACEld,MAAOwnB,EACPtU,MAAM,aACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACLC,IAAK,EACLC,KAAM,EACN/K,UAAQ,IAGV,cAACuL,GAAD,CACEld,MAAO+Q,EACPmC,MAAM,YACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACL/X,MAAO,IACPkN,UAAQ,IAGV,cAACuL,GAAD,CACEld,MAAOynB,EACPvU,MAAM,gBACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACL/X,MAAO,KAGT,cAACyY,GAAD,CACEld,MAAO0nB,EACPxU,MAAM,WACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACL/X,MAAO,KAGT,cAAC,GAAD,CACEzE,MAAO2nB,EACPzU,MAAM,OACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,IAGZ,cAAC,GAAD,CACEyE,MAAM,GACNjT,MAAO0J,KAAKI,MAAM0E,SAClB0E,MAAM,WACNnB,SAAUrI,KAAKoG,eAGjB,cAACmY,GAAD,CACEd,SAAS,aACTnnB,MAAO4nB,EACP1U,MAAM,OACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAA0B,KAAnBzP,KAAKI,MAAMqP,KAAc3K,EACrD5J,OAAQoJ,GAAOka,YAEjB,cAACD,GAAD,CACEd,SAAS,aACTnnB,MAAO6nB,EACP3U,MAAM,aACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAA0B,KAAnBzP,KAAKI,MAAMqP,KAAc3K,EACrD5J,OAAQoJ,GAAOma,oBAeVtqB,SACbwI,sBAtKc9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,OAoKR6Q,GACA1e,EACA8E,GAJa9P,CAKboa,ICjLF,MAAM2N,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,eACT,CAAEA,MAAO,aACT,CAAEA,MAAO,iBACT,CAAEA,MAAO,YACT,CAAEA,MAAO,QACT,CAAEA,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM0T,KAAKsN,WAAWzI,EAASnC,EAAMoE,EAAM7X,GAFlD,wEAIX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MAJW,wDApBI,iEA4BnBoR,OA5BmB,yCA4BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA5BU,2DAgCnBsO,WAAcnjB,IACL,EA/BP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAgCZ5J,SAAU,MACAse,EAAiB3e,KAAKtC,MAAM0T,KAA5BuN,aACA/e,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,UACL5H,SAAUrI,KAAKoG,aACfyO,SAAU8J,EACV5Z,MAAOnF,EAAU,WACjB2X,OAAQvX,KAAKuX,OACbrT,MAAOlE,KAAKtC,MAAM0T,KAClB6E,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,YAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,UACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CAAMgG,KAAMjQ,KAAKI,MAAMhL,EAAG4S,SAAUhI,KAAKe,oBAOpC5M,SAAQ0pB,GAAU1e,EAAUqB,GAA5BrM,CAA8CioB,IClD9CjoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,UACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,YChBR,MAOMqG,GAAa,CACjBjX,KAAM,IAGR,MAAMkY,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAKnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KANP,KASnBmP,aATmB,wBASJ,mCAAAjR,EAAA,2DACkC,EAAKkJ,MAAM0T,KAAlDwN,EADK,EACLA,SAAUC,EADL,EACKA,cAAeC,EADpB,EACoBA,UADpB,UAIP,EAAK1e,MAAMqP,IAJJ,gCAKHqP,EAAU,EAAK1e,OALZ,6CAOHwe,EAAS,EAAKxe,OAPX,OAUXye,IACA,EAAKje,SAAS0M,IAEV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAbzB,kDAeX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAfW,0DAPbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GA0B7BjN,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SACTzO,EAAS2J,KAAKI,MAAd/J,KACR,OACE,cAAC,GAAD,CAAM2R,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,SACE,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACR1D,WAAS,EACTO,SAAUA,SAgBP3Q,SAAQwI,sBApEP9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,OAiEiC6Q,GAAU1e,EAAtChL,CAAgDoa,ICpE/D,MAAM2N,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM0T,KAAK2N,UAAU9I,EAASnC,EAAMoE,EAAM7X,GAFjD,wEAKX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MALW,wDApBI,iEA6BnBoR,OA7BmB,yCA6BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA7BU,2DAiCnBsO,WAAanjB,IACJ,EAhCP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAiCZ5J,SAAU,MACA2e,EAAgBhf,KAAKtC,MAAM0T,KAA3B4N,YACApf,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,SACL5H,SAAUrI,KAAKoG,aACfyO,SAAUmK,EACVja,MAAOnF,EAAU,UACjB2X,OAAQvX,KAAKuX,OACbrT,MAAOlE,KAAKtC,MAAM0T,KAClB6E,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,WAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,SACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CACEgG,KAAMjQ,KAAKI,MAAMhL,EACjB4S,SAAUhI,KAAKe,oBAQZ5M,SACb0pB,GACA1e,EACAqB,GAHarM,CAIbioB,ICtDajoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,UACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,Y,mDCpBR,MAMMgY,GAAU,CACdC,UAAW,CACTC,GAAI,CACFvY,UAAWwY,KACX1hB,MAAO,CACL2hB,cAAc,EACdnc,QAAS,OAGboc,GAAI,CACF1Y,UAAWwY,KACX1hB,MAAO,CAAE2hB,cAAc,EAAMnc,QAAS,OAExCqc,GAAI,CACF3Y,UAAWwY,KACX1hB,MAAO,CAAE2hB,cAAc,EAAMnc,QAAS,cAExCsc,GAAI,CACF5Y,UAAWwY,KACX1hB,MAAO,CACL2hB,cAAc,EACdnc,QAAS,UACTuc,WAAW,IAGfC,EAAG,CACD9Y,UAAWwY,KACX1hB,MAAO,CAAE+hB,WAAW,IAEtBjrB,EAAG,CAAEoS,UAAW+Y,MAChBC,GAAI,CACFhZ,UAAWjK,sBArCD9H,IAAD,CACbgrB,SAAU,CACRrqB,UAAWX,EAAMiU,QAAQC,SAmCZpM,EAAoBe,IAAW,MAChCC,EAAsBD,EAAtBC,QAAYuf,EADmB,YACTxf,EADS,aAEvC,OACE,oBAAIM,UAAWL,EAAQkiB,SAAvB,SACE,cAAC,KAAD,aAAYjZ,UAAU,QAAWsW,YAQ9B,SAAS4C,GAASpiB,GAC/B,OAAO,cAAC,KAAD,aAAeuhB,QAASA,IAAavhB,I,OCjD9C,MAAM6f,GAAM,8BAgDG7S,WA/Cf,SAAgBhN,GACd,MAAMqiB,EAAI,yCAAG,WAAiB9P,GAAjB,wBAAAzb,EAAA,6DACPmY,EAAO,IAAIqT,KAAK,CAAC/P,GAAO,CAAE3H,KAAM,eAChCoV,EAAa9Y,OAAO2Y,KAAO3Y,OAAO+Y,UAClCjb,EAAMgb,EAAWF,gBAAgB7Q,GAH1B,sBAIKjP,EAAMmO,MAAMC,OAAOpJ,EAAK1C,KAAKtC,MAAMxC,OAAQ,YAJhD,cAILkJ,EAJK,sCAOU1G,EAAMmO,MAAMhB,SAC7B0S,GACAnZ,EACA,iCAVO,OAYT,OALM0G,EAPG,iBAYT,UAASyS,GAAT,oBAAwBzS,EAAK2E,KAZpB,kCAaF,GAbE,yCAeTvZ,QAAQC,IAAR,MAfS,mBAgBF,GAhBE,0DAAH,sDADW,EAqBiB8I,IAAMpB,SAAS,SArBhC,mBAqBdoiB,EArBc,KAqBDC,EArBC,KAsBrB,OACE,cAAC,KAAD,CACE5pB,MAAOoH,EAAMpH,MACb+R,SAAW/R,GAAUoH,EAAM2K,SAAS3K,EAAM8L,MAAOlT,GACjD2pB,YAAaA,EACbE,SAAUziB,EAAMoH,SAChBsb,YAAaF,EACbG,wBAA0B5c,GACxBuI,QAAQC,QAAQ,cAAC6T,GAAD,UAAWrc,KAE7B6c,MAAO,CACLC,UAAWR,Q,oBC5BnB,MAUMzS,GAAa,CACjBkT,aAAc,GACdC,SAAU,GACVC,cAAe,GACfC,UAAW,GACX7b,UAAU,GAGZ,MAAM8b,WAAsB3hB,IAAMQ,UAChCC,YAAYhC,GACViC,MAAMjC,GADW,KAMnB0I,aAAe,CAAC/P,EAAMC,KACpB,GAAa,aAATD,EAAqB,CAAC,MAGlBqqB,EAFY1gB,KAAKtC,MAAMwG,MAArB2c,MAEoB5Q,KAAKoI,QAAQ3S,GAAMA,EAAEuN,aAAe3c,IAChE0J,KAAKY,SAAS,CAAE8f,kBAGlB1gB,KAAKY,SAAS,CAAE,CAACvK,GAAOC,GAAS0J,KAAK8gB,WAdrB,KAiBnBA,SAAW,KAAO,MAAD,EACiB9gB,KAAKI,MAA7BqgB,EADO,EACPA,SAAUE,EADH,EACGA,UACD,KAAbF,GAAiC,KAAdE,GACrB3gB,KAAKtC,MAAM2K,SAASoY,EAAUE,IApBf,KAuBnBlb,aAvBmB,wBAuBJ,uBAAAjR,EAAA,0FAvBI,KAyBnBusB,aAAe,KACb/gB,KAAKtC,MAAMmX,SAAS7U,KAAKI,MAAMqgB,SAAUzgB,KAAKtC,MAAMsjB,SACpDhhB,KAAKY,SAAS,CAAEkE,UAAU,KAxB1B9E,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GA2B7BjN,SAAU,MAAD,EAC2BL,KAAKtC,MAA/BC,EADD,EACCA,QAAS6iB,EADV,EACUA,aADV,EAEkDxgB,KAAKI,MAAtDqgB,EAFD,EAECA,SAAUC,EAFX,EAEWA,cAAeC,EAF1B,EAE0BA,UAAW7b,EAFrC,EAEqCA,SAE5C,OACE,eAAC,GAAD,CAAMkD,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,UAAU,EAApD,UACE,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAAC,GAAD,CACEhd,MAAOmqB,EACPjX,MAAM,WACNnB,SAAUrI,KAAKoG,aACf6J,KAAMuQ,EACNnO,UAAU,OACV9N,WAAS,EACT0D,UAAQ,EACRnD,SAAUA,MAGd,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAAC,GAAD,CACEhd,MAAOqqB,EACPnX,MAAM,YACNnB,SAAUrI,KAAKoG,aACf6J,KAAMyQ,EACNrO,UAAU,OACV9N,WAAS,EACT0D,UAAQ,EACRnD,SAAmC,IAAzB4b,EAAcrsB,QAAgByQ,MAG5C,cAAC,IAAD,CACE2F,aAAW,QACXzM,UAAWL,EAAQ/H,OACnB8I,QAASsB,KAAK+gB,aAHhB,SAKE,cAAC,KAAD,CAAW5nB,SAAS,gBAgBfhF,SACbwI,sBArGc9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,GAERpX,OAAQ,CACNA,OAAQf,EAAMiU,QAAQC,UAgGxB9E,GACA4Z,GACA1e,EAJahL,CAKbysB,IClGF,MAUMtT,GAAa,CACjBjX,KAAM,GACN4qB,WAAY,GACZC,IAAK,GACLC,kBAAmB,GACnBC,iBAAkB,GAClBC,kBAAmB,EACnBvc,UAAU,EACVzM,MAAM,EACNipB,SAAU,GACVC,YAAa,GACbrD,KAAM,KACNC,WAAY,KACZqD,WAAY,IAGd,MAAMjT,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YA2BnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KA5BP,KA+BnBmP,aA/BmB,wBA+BJ,mCAAAjR,EAAA,2DACwC,EAAKkJ,MAAM0T,KAAxDqQ,EADK,EACLA,WAAYC,EADP,EACOA,gBAAiBC,EADxB,EACwBA,YADxB,UAIP,EAAKvhB,MAAMqP,IAJJ,gCAKHkS,EAAY,EAAKvhB,OALd,6CAOHqhB,EAAW,EAAKrhB,OAPb,OASXshB,IACA,EAAK9gB,SAAL,2BAAmB0M,IAAnB,IAA+BsU,iBAAkB,MAC7C,EAAKlkB,MAAMsK,UAAU,EAAKtK,MAAMsK,WAXzB,kDAaX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAbW,0DA/BI,KAgDnB0b,0BAA4B,CAAC5O,EAAY6O,KAAiB,MAChDN,EAAexhB,KAAKI,MAApBohB,WAERxhB,KAAKY,SAAS,CACZ4gB,WAAW,2BAAMA,GAAP,IAAmB,CAACvO,GAAa6O,OApD5B,KAwDnBC,mBAAsBphB,IACpBA,EAAMgF,iBACN3F,KAAKgiB,oBA1DY,KA6DnBC,gBAAkB,CAAChP,EAAY+N,KAAa,MAAD,EACAhhB,KAAKI,MAAtCohB,EADiC,EACjCA,WAAYI,EADqB,EACrBA,wBACbJ,EAAWvO,GAElBjT,KAAKY,SAAS,CACZ4gB,aACAI,iBAAkBA,EAAiBvJ,QAAQqH,GAAMA,EAAEsB,UAAYA,OAnEhD,KAuEnBgB,iBAAmB,CAACE,EAAa,KAAMJ,EAAc,QAAU,MACrDF,EAAqB5hB,KAAKI,MAA1BwhB,iBADoD,EAE/B5hB,KAAKtC,MAAMwG,MAAhCmP,EAFoD,EAEpDA,UAAWwN,EAFyC,EAEzCA,MAEbsB,EAAoB9O,EAAUpD,KAAKoI,QACtC3S,GAAMA,EAAE+J,IAAM,KAAO/J,EAAE+J,IAAM,MAGhC,IAAIQ,EAAO,KACQ,OAAfiS,IACFjS,EAAO,CACLwQ,SAAU5N,OAAOuP,SAASF,GAC1BxB,cAAeG,EAAM5Q,KAAKoI,QACvB3S,GAAMA,EAAEuN,aAAeJ,OAAOuP,SAASF,KAE1CvB,UAAWmB,EACXhd,UAAU,IAId,MAAMkc,EAAUY,EAAiBvtB,OACjC2L,KAAKY,SAAS,CACZghB,iBAAkB,IACbA,EACH,CACEZ,UACAqB,QACE,cAAC,GAAD,CACE1kB,QAASqC,KAAKtC,MAAMC,QACpB0K,SAAUrI,KAAK6hB,0BACfhN,SAAU7U,KAAKiiB,gBACfzB,aAAc2B,EACdnB,QAASA,EACT/Q,KAAMA,SAxGC,KAgHnBqS,kBAAqBd,IAEnB,cADgBe,OAAOC,QAAQhB,GAC/B,4CAAYU,EAAZ,KAAwBJ,EAAxB,KACE9hB,KAAKgiB,iBAAiBE,EAAYJ,KAjHpC9hB,KAAKI,MAAL,2BAAmB1C,EAAMuS,MAAQ3C,IAAjC,IAA8CsU,iBAAkB,KAG5D9P,oBAAqB,IAAD,8IACiB,EAAK1R,MAAtCohB,EADgB,EAChBA,WAAYI,EADI,EACJA,iBADI,SAIdpF,EAAa,EAAK9e,MAAMwG,MAAxBsY,SACAiG,EAA2B,EAAK/kB,MAAM0T,KAAtCqR,uBAEFpK,EAAS,CACb,CAAE7O,MAAO,aAAc2M,GAAI,MAAO7f,MAAO,KACzC,CAAEkT,MAAO,aAAc2M,GAAI,KAAM7f,MAAO,KACxC,CAAEkT,MAAO,WAAYlT,OAAO,IAVR,SAYhBkmB,EAASnE,GAZO,uBAahBoK,IAbgB,OAejBjU,KAAEkU,QAAQlB,IAA2C,IAA5BI,EAAiBvtB,QAC7C,EAAKiuB,kBAAkBd,GAhBH,kDAkBtBtrB,QAAQuT,MAAR,MAlBsB,4DAiH1BpJ,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAEsB9E,KAAKtC,MAAMwG,MAAhC2c,EAFD,EAECA,MAAOxN,EAFR,EAEQA,UACPsP,EAAwB3iB,KAAKtC,MAAM0T,KAAnCuR,oBAHD,EAgBH3iB,KAAKI,MAXP/J,EALK,EAKLA,KACAgrB,EANK,EAMLA,kBACAC,EAPK,EAOLA,SACAC,EARK,EAQLA,YACArD,EATK,EASLA,KACAC,EAVK,EAULA,WACAyD,EAXK,EAWLA,iBACAX,EAZK,EAYLA,WACAC,EAbK,EAaLA,IACAC,EAdK,EAcLA,kBACAC,EAfK,EAeLA,iBAGIe,EAAoB9O,EAAUpD,KAAKoI,QACtC3S,GAAMA,EAAE+J,IAAM,KAAO/J,EAAE+J,IAAM,MAE1BmT,EACJhB,EAAiBvtB,SAAW8tB,EAAkB9tB,OAEhD,OACE,qCACE,eAAC,GAAD,CAAM2T,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,UACE,cAACyO,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACRnD,SAAUA,IAEZ,cAACyO,GAAD,CACEjd,MAAO6qB,EACP3X,MAAM,oBACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,cAACyO,GAAD,CACEjd,MAAO2qB,EACPzX,MAAM,aACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACRnD,SAAUA,IAEZ,cAACyO,GAAD,CACEjd,MAAO4qB,EACP1X,MAAM,MACNnB,SAAUrI,KAAKoG,aACftB,SAAUA,IAEZ,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAAC,GAAD,CACEhd,MAAOgrB,EACP9X,MAAM,WACNnB,SAAUrI,KAAKoG,aACf6J,KAAM4Q,EAAM5Q,KAAKoI,QAAQ3S,GAAuB,MAAjBA,EAAEuN,aACjCZ,UAAU,OACVC,UAAQ,EACR/N,WAAS,EACTO,SAAUA,MAGd,cAAC0O,GAAD,CACEld,MAAO+qB,EACP7X,MAAM,oBACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACL7K,UAAQ,IAEV,qBAAKjK,UAAWL,EAAQ2V,cAAxB,SACE,cAAC,GAAD,CACEhd,MAAOirB,EACP/X,MAAM,cACNnB,SAAUrI,KAAKoG,aACf6J,KAAM0S,EAAoB1S,KAC1BoC,UAAU,OACVC,UAAQ,EACR/N,WAAS,EACTO,SAAUA,MAGd,cAAC,GAAD,CACEyE,MAAM,kBACNjT,MAAO0J,KAAKI,MAAM0E,SAClB0E,MAAM,WACNnB,SAAUrI,KAAKoG,eAEjB,cAAC,GAAD,CACEmD,MAAM,wBACNjT,MAAO0J,KAAKI,MAAM/H,KAClBmR,MAAM,OACNnB,SAAUrI,KAAKoG,eAEjB,cAACmY,GAAD,CACEd,SAAS,aACTnnB,MAAO4nB,EACP1U,MAAM,OACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAA0B,KAAnBzP,KAAKI,MAAMqP,KAAc3K,EACrD5J,OAAQoJ,GAAOka,YAEjB,cAACD,GAAD,CACEd,SAAS,aACTnnB,MAAO6nB,EACP3U,MAAM,aACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAA0B,KAAnBzP,KAAKI,MAAMqP,KAAc3K,EACrD5J,OAAQoJ,GAAOma,mBAInB,cAAC,GAAD,CACEjV,MAAM,mBACNlT,MAAO8qB,EACP/Y,SAAUrI,KAAKoG,aACflL,OAAQoJ,GAAOka,UACf1Z,SAAUA,IAGX8c,EAAiB/f,KAAK6d,GAAMA,EAAE2C,UAE/B,cAAC,KAAD,CACEvd,SAAU8d,EACVlkB,QAASsB,KAAK+hB,mBACd/jB,UAAWL,EAAQuE,OAHrB,mDAoBO/N,SACbwI,sBAlSc9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,GAERpX,OAAQ,CACNA,OAAQf,EAAMiU,QAAQC,UA6RxB9E,GACA4Z,GACA1e,EAJahL,CAKboa,IC/SF,MAAM2N,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,oBAAqBlB,KAAM,OACpC,CAAEkB,MAAO,MAAOlB,KAAM,OACtB,CAAEkB,MAAO,OACT,CAAEA,MAAO,iBAAkBlB,KAAM,OACjC,CAAEkB,MAAO,WAAYlB,KAAM,QAC3B,CAAEkB,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM0T,KAAKyR,YAAY5M,EAASnC,EAAMoE,EAAM7X,GAFnD,wEAIX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MAJW,wDApBI,iEA4BnB2c,YA5BmB,yCA4BL,WAAO1tB,GAAP,UAAAZ,EAAA,sDACZ,EAAKoM,SAAS,CAAExL,EAAE,2BAAMA,GAAP,IAAUqa,IAAK,KAAMxF,QAAQ,IADlC,2CA5BK,2DAgCnBsN,OAhCmB,yCAgCV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CAhCU,2DAoCnBsO,WAAcnjB,IACL,EAnCP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAoCZ5J,SAAU,MACA0iB,EAAkB/iB,KAAKtC,MAAM0T,KAA7B2R,cACAnjB,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,WACL5H,SAAUrI,KAAKoG,aACfoR,QAASxX,KAAK8iB,YACdjO,SAAUkO,EACVhe,MAAOnF,EAAU,YACjB2X,OAAQvX,KAAKuX,OACbrT,MAAK,2BAAOlE,KAAKtC,MAAM0T,MAASpR,KAAKtC,MAAMwG,OAC3C+R,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,aAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,WACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CAAMgG,KAAMjQ,KAAKI,MAAMhL,EAAG4S,SAAUhI,KAAKe,oBAOpC5M,SACb8P,GACA4Z,GACA1e,EACAqB,GAJarM,CAKbioB,IC9DajoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,UACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,YCXR,MAOMqG,GAAa,CACjBvI,MAAO,GACPqQ,YAAa,GACb4N,QAAS,KACTvf,QAAS,GACTya,KAAM,KACNC,WAAY,MAGd,MAAM5P,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAkBnBulB,oBAAsB,CAAC5sB,EAAMC,KAC3B0J,KAAKY,SAAS,CAAE,CAACvK,GAAO,CAAEqO,GAAIpO,MAnBb,KAsBnB8P,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAvBP,KA0BnBmP,aA1BmB,wBA0BJ,mCAAAjR,EAAA,2DAC+B,EAAKkJ,MAAM0T,KAA/C8R,EADK,EACLA,QAASC,EADJ,EACIA,aAAcC,EADlB,EACkBA,SADlB,UAIP,EAAKhjB,MAAMqP,IAJJ,gCAKH2T,EAAS,EAAKhjB,OALX,6CAOH8iB,EAAQ,EAAK9iB,OAPV,OAUX+iB,IACA,EAAKviB,SAAS0M,IAEV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAbzB,kDAeX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAfW,0DAxBbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GAGvBwE,oBAAqB,IAAD,6IAEd0K,EAAa,EAAK9e,MAAMwG,MAAxBsY,SACFnE,EAAS,CACb,CAAE7O,MAAO,aAAclT,MAAO,GAC9B,CAAEkT,MAAO,WAAYlT,OAAO,IALR,SAOhBkmB,EAASnE,GAPO,uDAStBniB,QAAQuT,MAAR,MATsB,2DAwC1BpJ,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EASH9E,KAAKI,MANP2E,EAHK,EAGLA,MACAqQ,EAJK,EAILA,YACA4N,EALK,EAKLA,QACAvf,EANK,EAMLA,QACAya,EAPK,EAOLA,KACAC,EARK,EAQLA,WAEM0C,EAAU7gB,KAAKtC,MAAMwG,MAArB2c,MAER,OACE,qCACE,eAAC,GAAD,CAAM7Y,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,UACE,cAACyO,GAAD,CACEjd,MAAOyO,EACPyE,MAAM,QACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACRnD,SAAUA,IAEZ,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAO8e,EACP5L,MAAM,cACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACR1D,WAAS,EACTO,SAAUA,MAGd,cAAC,GAAD,CACExO,MAAO0sB,EAAUA,EAAQte,GAAK,KAC9B8E,MAAM,UACNnB,SAAUrI,KAAKijB,oBACfhT,KAAM4Q,EAAM5Q,KACZoC,UAAU,OACVpK,UAAQ,EACRnD,SAAUA,IAEZ,cAACyZ,GAAD,CACEd,SAAS,aACTnnB,MAAO4nB,EACP1U,MAAM,OACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAA0B,KAAnBzP,KAAKI,MAAMqP,KAAc3K,EACrD5J,OAAQoJ,GAAOka,YAEjB,cAACD,GAAD,CACEd,SAAS,aACTnnB,MAAO6nB,EACP3U,MAAM,aACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAA0B,KAAnBzP,KAAKI,MAAMqP,KAAc3K,EACrD5J,OAAQoJ,GAAOma,mBAGnB,cAAC,GAAD,CACEjV,MAAM,UACNlT,MAAOmN,EACP4E,SAAUrI,KAAKoG,aACflL,OAAQoJ,GAAOka,UACf1Z,SAAUA,QAeL3Q,SACbwI,sBA7Ic9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,OA2IR/I,GACA4Z,GACA1e,EAJahL,CAKboa,ICrJF,MAAM2N,GAAO,CACX,CAAE1S,MAAO,QAAS4K,gBAAgB,GAClC,CAAE5K,MAAO,eACT,CACEA,MAAO,YACPlB,KAAM,OACN2H,KAAM,QACNkE,QAAS,aACTF,UAAU,GAEZ,CAAEzK,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM0T,KAAKiS,SAASpN,EAASnC,EAAMoE,EAAM7X,GAFhD,wEAIX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MAJW,wDApBI,iEA4BnBoR,OA5BmB,yCA4BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA5BU,2DAgCnBsO,WAAcnjB,IACL,EA/BP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAgCZ5J,SAAU,MACAijB,EAAetjB,KAAKtC,MAAM0T,KAA1BkS,WACA1jB,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,QACL5H,SAAUrI,KAAKoG,aACfyO,SAAUyO,EACVve,MAAOnF,EAAU,SACjB2X,OAAQvX,KAAKuX,OACbrT,MAAK,2BAAOlE,KAAKtC,MAAM0T,MAASpR,KAAKtC,MAAMwG,OAC3C+R,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,UAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,QACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CAAMgG,KAAMjQ,KAAKI,MAAMhL,EAAG4S,SAAUhI,KAAKe,oBAOpC5M,SACb8P,GACA4Z,GACA1e,EACAqB,GAJarM,CAKbioB,IC5DajoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,UACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,YCnBR,MAAMiV,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,SACT,CAAEA,MAAO,OACT,CAAEA,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM4B,KAAKikB,SAAStN,EAASnC,EAAMoE,EAAM7X,GAFhD,wEAKX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MALW,wDApBI,iEA6BnBoR,OA7BmB,yCA6BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA7BU,2DAiCnBsO,WAAanjB,IACJ,EAhCP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAiCZ5J,SAAU,MACAT,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,8BACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,QACL5H,SAAUrI,KAAKoG,aACfrB,MAAOnF,EAAU,SACjB2X,OAAQvX,KAAKuX,OACbrT,MAAOlE,KAAKtC,MAAM4B,KAClB2W,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,aAOJ5X,SACbgL,EACAqB,GAFarM,CAGbioB,IC/CajoB,SACbwI,sBArBa9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAoBzB5J,EAFahL,EAdf,SAAsBuJ,GACpB,OACE,cAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,SACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,WCJR,MAOMqG,GAAa,CACjBjX,KAAM,GACN+e,YAAa,GACb4N,QAAS,KACT7tB,IAAK,EACLquB,MAAO,IAGT,MAAMjV,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAkBnBulB,oBAAsB,CAAC5sB,EAAMC,KAC3B0J,KAAKY,SAAS,CAAE,CAACvK,GAAO,CAAEqO,GAAIpO,MAnBb,KAsBnB8P,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAvBP,KA0BnBmP,aA1BmB,yCA0BJ,WAAOhC,GAAP,wBAAAjP,EAAA,2DACwC,EAAKkJ,MAAM0T,KAAxDqS,EADK,EACLA,WAAYC,EADP,EACOA,gBAAiBC,EADxB,EACwBA,YAC/B1T,EAFO,2BAEK,EAAK7P,OAFV,IAEiBqD,YAFjB,UAKP,EAAKrD,MAAMqP,IALJ,gCAMHkU,EAAY1T,GANT,+CAQHwT,EAAWxT,GARR,QAWXyT,IACA,EAAK9iB,SAAS0M,IAEV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAdzB,kDAgBX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAhBW,0DA1BI,sDAEjBnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GAGvBwE,oBAAqB,IAAD,6IAEd0K,EAAa,EAAK9e,MAAMwG,MAAxBsY,SACFnE,EAAS,CACb,CAAE7O,MAAO,aAAclT,MAAO,GAC9B,CAAEkT,MAAO,WAAYlT,OAAO,IALR,SAOhBkmB,EAASnE,GAPO,uDAStBniB,QAAQuT,MAAR,MATsB,2DAyC1BpJ,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAE4C9E,KAAKI,MAAhD/J,EAFD,EAECA,KAAM+e,EAFP,EAEOA,YAAa4N,EAFpB,EAEoBA,QAAS7tB,EAF7B,EAE6BA,IAAKquB,EAFlC,EAEkCA,MACjC3C,EAAU7gB,KAAKtC,MAAMwG,MAArB2c,MAER,OACE,eAAC,GAAD,CAAM7Y,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,UACE,cAACyO,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACRnD,SAAUA,IAEZ,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAO8e,EACP5L,MAAM,cACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACR1D,WAAS,EACTO,SAAUA,MAGd,cAAC,GAAD,CACExO,MAAO0sB,EAAUA,EAAQte,GAAK,KAC9B8E,MAAM,UACNnB,SAAUrI,KAAKijB,oBACfhT,KAAM4Q,EAAM5Q,KACZoC,UAAU,OACVpK,UAAQ,EACRnD,SAAUA,IAEZ,cAAC0O,GAAD,CAAUld,MAAOnB,EAAKqU,MAAM,MAAMnB,SAAUrI,KAAKoG,eAEjD,cAACmY,GAAD,CACEd,SAAS,aACTnnB,MAAOktB,EACPha,MAAM,QACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAAO3K,EAC5B5J,OAAQoJ,GAAOsf,eAeVzvB,SACbwI,sBAvHc9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,OAqHR/I,GACA4Z,GACA1e,EAJahL,CAKboa,IC/HF,MAAM2N,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,eACT,CACEA,MAAO,YACPlB,KAAM,OACN2H,KAAM,QACNkE,QAAS,aACTF,UAAU,GAEZ,CAAEzK,MAAO,MAAOlB,KAAM,OACtB,CAAEkB,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM0T,KAAKyS,YAAY5N,EAASnC,EAAMoE,EAAM7X,GAFnD,wEAIX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MAJW,wDApBI,iEA4BnBoR,OA5BmB,yCA4BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA5BU,2DAgCnBsO,WAAcnjB,IACL,EA/BP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAgCZ5J,SAAU,MACAyjB,EAAkB9jB,KAAKtC,MAAM0T,KAA7B0S,cACAlkB,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,WACL5H,SAAUrI,KAAKoG,aACfyO,SAAUiP,EACV/e,MAAOnF,EAAU,YACjB2X,OAAQvX,KAAKuX,OACbrT,MAAK,2BAAOlE,KAAKtC,MAAM0T,MAASpR,KAAKtC,MAAMwG,OAC3C+R,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,aAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,WACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CAAMgG,KAAMjQ,KAAKI,MAAMhL,EAAG4S,SAAUhI,KAAKe,oBAOpC5M,SACb8P,GACA4Z,GACA1e,EACAqB,GAJarM,CAKbioB,IC7DajoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,UACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,Y,qBCwDO9S,SACXwI,sBA3EW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBqN,OAAQ,CACJtL,QAAS,OACTC,eAAgB,SAChBE,WAAY,SACZgtB,WAAY,SACZC,WAAY,OACZ7qB,SAAU,OACVC,WAAY,OACZJ,WAAY,6BACZS,cAAe,QACfxD,QAAS,SACTiF,OAAQ,OACRlD,WAAYnD,EAAMsD,QAAQC,QAAQC,KAClCI,MAAO,UACPiB,WAAY,MAEZe,OAAO,aAAD,OAAe5F,EAAMsD,QAAQC,QAAQC,MAC3CS,cAAe,YACfyE,QAAS,OACT0mB,OAAQ,UACR/mB,WAAY,iBACZ,UAAW,CACPlF,WAAYnD,EAAMsD,QAAQC,QAAQ2K,KAClCmhB,YAAarvB,EAAMsD,QAAQC,QAAQ2K,OAG3CohB,aAAc,CACVvtB,QAAS,QACTmE,MAAO,OACPxD,SAAU,SAEd6sB,WAAY,CACP3pB,OAAQ,8BACRzC,WAAY,wBACZS,MAAO,qBAGZ4rB,aAAc,CACVrsB,WAAYnD,EAAMsD,QAAQC,QAAQC,MAGtCisB,SAAU,CACNruB,QAAS,SACTiF,OAAQ,OACR/B,SAAU,QAEdorB,SAAU,CACNtuB,QAAS,SACTiF,OAAQ,OACR/B,SAAU,QAEdqrB,YAAa,CACTxsB,WAAY,aAoBL7D,EAhBf,SAAgBuJ,GAAQ,MACZC,EAAkED,EAAlEC,QAASC,EAAyDF,EAAzDE,UAAWkH,EAA8CpH,EAA9CoH,SAAUvH,EAAoCG,EAApCH,QAAS4d,EAA2Bzd,EAA3Byd,KAAMjY,EAAqBxF,EAArBwF,QAAS+O,EAAYvU,EAAZuU,SAE9D,OACI,mCACI,wBACIjU,UAAWC,IAAWP,EAAMM,UAAWL,EAAQuE,OAAQ4C,GAAYnH,EAAQ6mB,YAAa5mB,GAAaD,EAAQwmB,aAAc5mB,GAAWI,EAAQymB,WAAqB,OAATjJ,GAAiBxd,EAAQ2mB,SAAmB,OAATnJ,GAAiBxd,EAAQ4mB,SAAsB,cAAZrhB,GAA2BvF,EAAQ0mB,cACnQ3lB,QAAS,KAAOoG,GAAYpH,EAAMgB,UAClCF,MAAO,CAACyT,SAAUA,EAAWA,EAAS,KAAO,OAHjD,SAKKvU,EAAM4C,gBCnBRnM,SACXwI,sBAjDW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAGhB4vB,KAAM,CACFxS,SAAU,SA8CdzR,GAFWrM,EAxCf,SAAuBuJ,GAAQ,MACnBC,EAAYD,EAAZC,QACR,OACI,sBAAKK,UAAWC,IAAWN,EAAQ8mB,KAAM9mB,EAAQ9F,UAAW8F,EAAQ+mB,GAAI/mB,EAAQhC,WAAY+B,EAAMM,WAAlG,UACI,sBAAKA,UAAWC,MAAhB,UACI,qBAAKD,UAAWC,IAAWN,EAAQgnB,OAAQhnB,EAAQpD,UAAnD,SACKmD,EAAMqH,QAEX,qBAAK/G,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQ3D,SAAnD,SACK0D,EAAM0X,iBAGf,sBAAKpX,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,uBAA7E,UACI,cAAC,GAAD,CACIjnB,WAAS,EACTI,UAAWC,IAAWN,EAAQmnB,KAC9BpmB,QAAShB,EAAMqnB,gBAHnB,SAKIrnB,EAAMkC,UAAU,eAEpB,cAAC,GAAD,CACIhC,WAAS,EACTI,UAAWC,IAAWN,EAAQqnB,KAC9BtmB,QAAShB,EAAMunB,mBAHnB,SAKKvnB,EAAMkC,UAAU,0B,yGC5BrC,MAAMqN,GAASpY,GAAK,uCACbwC,EAAgBxC,IAChBiY,GAAUjY,IAFG,IAIhBuN,KAAM,CACFvL,eAAgB,UAEpBquB,SAAU,CACNtpB,UAAW,OACX8M,gBAAiB,eAErByc,MAAO,CACHjqB,OAAQ,IACRH,MAAO,OACP2N,gBAAiB,WAErB0c,MAAO,CACH1rB,WAAY,OACZ2T,MAAO,OACPzW,QAAS,gBAEbyuB,OAAQ,CACJhY,MAAO,QACPzW,QAAS,gBAEb0uB,kBAAmB,CACfpqB,OAAQ,GACRH,MAAO,QAEXwqB,YAAa,CACTrqB,OAAQ,GACRwN,gBAAiB,UACjB3N,MAAO,MACPtC,MAAO,QACP7B,QAAS,OACTG,WAAY,SACZC,UAAW,SACXhB,YAAa,KAwEN2G,4BAAWsQ,GAAXtQ,EApEf,SAAkBe,GAAQ,MAAD,EACCG,mBAAS,MADV,mBACd2nB,EADc,KACTC,EADS,KAEfC,EAAK,yCAAG,WAAOC,GAAP,kBAAAnxB,EAAA,mEAEHkJ,EAAMkoB,GAFH,gCAGiBloB,EAAMgoB,MAAMhoB,EAAMkoB,IAHnC,OAGI3V,EAHJ,QAIEJ,EAAS,IAAIC,YACVC,UAAY,KACf0V,EAAO5V,EAAOG,SAElBH,EAAOM,cAAcF,GARnB,yDAWN/Z,QAAQuT,MAAR,MAXM,0DAAH,sDAeH9L,EAAYD,EAAZC,QACR,OACI,cAAC,KAAD,CACIkoB,mBAAiB,EACjBxd,SAAUqd,EAFd,SAII,cAAC,KAAD,CACI1nB,UAAWC,IAAWN,EAAQunB,SAAUvnB,EAAQ7C,MAChD4D,QAAShB,EAAMgB,QAFnB,SAII,eAAC,KAAD,WACI,cAAC,KAAD,CACIV,UAAWL,EAAQwnB,MACnB/d,MAAOoe,GAAO,gBACdzgB,MAAOrH,EAAMrH,KAHjB,SAKKqH,EAAM6nB,YACH,sBAAKvnB,UAAWiP,GAAOlG,OAAvB,UACI,qBAAK/I,UAAWL,EAAQ2nB,oBACxB,qBAAKtnB,UAAWC,IAAWN,EAAQ4nB,YAAatY,GAAOlG,QAAvD,mDAEJ,OAGR,eAAC,KAAD,CAAa/I,UAAWC,IAAWN,EAAQmoB,GAAInoB,EAAQmB,KAAvD,UACI,cAAC,KAAD,UAAapB,EAAMrH,OACnB,cAAC,KAAD,CAAYuQ,UAAU,IAAI5I,UAAWL,EAAQynB,MAA7C,SACI,kCAAQ1nB,EAAM0nB,MAAO1nB,EAAMqoB,UAE/B,cAAC,KAAD,CAAYnf,UAAU,IAAI5I,UAAWL,EAAQ0nB,OAA7C,SACK3nB,EAAM2nB,sB,oBChFnC,MA6BMW,GAAkB,CACpBC,UAAW,OACXC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,GAGd,MAAMC,WAAcpnB,IAAMQ,UACtBC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAWnB4oB,UAXmB,wBAWP,6BAAA9xB,EAAA,sEACF,EAAKkJ,MAAM0T,KAAKmV,gBADd,cAGFlO,EAAS,CACX,CAAE7O,MAAO,OAAQlT,OAAO,IAJpB,SAOF,EAAKoH,MAAM0T,KAAKyR,YAAYxK,GAP1B,2CAXO,KAqBnBjS,aAAe,CAAC/P,EAAMC,KAClB0J,KAAKY,SAAS,CAAC,CAACvK,GAAOC,KAtBR,KAyBnBkwB,cAAiBC,IACVA,EAAUhX,KACTzP,KAAKtC,MAAMkB,QAAQC,KAAnB,8BAA+C4nB,EAAUhX,OA3B9C,KA8BnBiX,kBAAqBC,IACdA,EAAQ1F,WAAW5sB,OAAS,GAC3B2L,KAAKtC,MAAMkB,QAAQC,KAAnB,yBAA0C8nB,EAAQ1F,cAhCvC,KAmCnB2F,iBAAmB,KAAO,MACdC,EAAe7mB,KAAKtC,MAAM0T,KAA1ByV,WACAlpB,EAAYqC,KAAKtC,MAAjBC,QACR,OAAOkpB,EAAW5W,KAAKpO,KAAI4kB,IACvB,MAAMK,EAAU,IAAIxhB,KAAKmhB,EAAUM,KACnC,OACI,qBAAK/oB,UAAW,gBAAhB,SACI,cAAC,GAAD,CACI+G,MAAO0hB,EAAUpwB,KACjB+e,YAAW,UAAKpV,KAAKtC,MAAMkC,UAAU,oBAA1B,YAAiDknB,EAAQE,SAAzD,YAAqEF,EAAQG,WAAa,EAA1F,KACXhC,mBAAoB,IAAKjlB,KAAKwmB,cAAcC,GAC5CzoB,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQwpB,IAAKxpB,EAAQypB,QAL1BX,EAAUhX,SAzCzC,KAqDnB4X,eAAiB,KAAO,MACZC,EAAatnB,KAAKtC,MAAM0T,KAAxBkW,SACR,OAAOA,EAAS7Z,UACZ,qBAAKjP,MAAO,CAAC9G,SAAU,GAAvB,SACI,cAAC,KAAD,CAAgBe,MAAM,gBAChB6uB,EAASrX,KAAKpO,KAAI8kB,GAExB,cAAC,KAAD,CAAM3f,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGqgB,GAAI,EAA7B,SACI,cAAC,GAAD,CACI7oB,QAAS,IAAKsB,KAAK0mB,kBAAkBC,GACrCtwB,KAAMswB,EAAQtwB,KACd+uB,MAAOuB,EAAQa,eACfzB,KAAMzhB,GAAOmjB,SACb7B,GAAIe,EAAQe,YACZhC,MAAO1lB,KAAKtC,MAAMwG,MAAMyjB,QACxBtC,OAAQsB,EAAQhL,MAAQ,EAAI3b,KAAKtC,MAAMkC,UAAU,YAAcI,KAAKtC,MAAMkC,UAAU,gBARvD+mB,EAAQlX,QA1DrDzP,KAAKI,MAAQ,CACTwnB,aAAc,KAItB9V,oBACI9R,KAAKsmB,YAoETjmB,SAAU,MACE1C,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,gCACI,8BACI,cAAC,KAAD,CACIK,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkqB,mBAC3C5I,QAAS+G,GACT8B,gBAAgB,EAHpB,SAKM9nB,KAAK4mB,uBAQf,sBAAK5oB,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQoqB,KAAtD,UACI,cAAC,GAAD,CACI/pB,UAAWL,EAAQqqB,iBACnB1xB,MAAO0J,KAAKI,MAAMwnB,aAClBpe,MAAM,eACNnB,SAAUrI,KAAKoG,aACf6J,KAAM,CACF,CAAC5Z,KAAM2J,KAAKtC,MAAMkC,UAAU,cAAe6P,IAAK,KAChD,CAACpZ,KAAM2J,KAAKtC,MAAMkC,UAAU,YAAa6P,IAAK,KAC9C,CAACpZ,KAAM2J,KAAKtC,MAAMkC,UAAU,kBAAmB6P,IAAK,MAExD4C,UAAU,OACVpK,UAAQ,IAEZ,cAAC,KAAD,CAAM3Q,WAAS,EAACwR,QAAS,GAAzB,SACM9I,KAAKqnB,0BAYhBlzB,SACXsJ,IACAwG,GACAtH,sBAjKW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBgzB,kBAAmB,CACf,uBAAwB,GAGxB,+BAAgC,CAC5B7xB,YAAa,WAEjB,8BAA+B,CAC3BF,aAAc,WAGtBmyB,cAAe,CACXhM,UAAW,OACXiM,UAAW,SACXttB,SAAU,WACV,uBAAwB,CACpBhE,QAAS,SAGjBuxB,qBAAsB,CAClBvxB,QAAS,QAEboxB,iBAAkB,CACdtyB,aAAc,YAyIlBmoB,GACA1e,EACAqB,GANWrM,CAObkyB,ICpDa7lB,UAAiB7D,sBAzHhB9H,IAAD,CACbuzB,YAAa,CACXpwB,WAAY,kBACZyC,OAAQ,oBACR7C,aAAc,MACd,WAAY,CACVhB,QAAS,QAEX,UAAW,CACTA,QAAS,SAGbyS,WAAY,CACV5Q,MAAO,4BACPU,SAAU,YAEZkvB,WAAY,CACVpyB,QAAS,gBACTkD,SAAU,WACVV,MAAO,cAsGqBkE,EAlGhC,SAA8Be,GAAQ,MAElCC,EAQED,EARFC,QACAsS,EAOEvS,EAPFuS,KACAoC,EAME3U,EANF2U,UACApK,EAKEvK,EALFuK,SACA3R,EAIEoH,EAJFpH,MACA+R,EAGE3K,EAHF2K,SACAmB,EAEE9L,EAFF8L,MACA8I,EACE5U,EADF4U,SAGArK,IACW,OAAV3R,QAA4Bic,IAAVjc,GAAiC,KAAVA,IAC1C2Z,GACAA,EAAK5b,OAAS,GAEdgU,EAASmB,EAAOyG,EAAK,GAAGR,KAG1B,MAAM+C,EAAWC,IACf,MAAMnc,EAAQ2Z,EAAKvO,MAAMtM,GAAMA,EAAEqa,MAAQgD,IACzC,OAAOnc,EAAQA,EAAM+b,GAAa,MAW9B9I,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAWlC,EAAM8L,OAC9D,OACE,eAAC,KAAD,CACExL,UAAWC,IAAWP,EAAMM,WAC5BiK,SAAUA,EACV1D,UAAW7G,EAAM6G,UACjBrB,QAAQ,SACRuG,MAAO/L,EAAMgM,WAAiC,KAApBhM,EAAMgM,UALlC,UAOGH,GACC,cAAC,KAAD,CACErB,QAASxK,EAAM8L,MACfxL,UAAWC,IAAWN,EAAQ0L,YAFhC,SAIGE,IAGL,eAAC,KAAD,CACEjT,MAAuB,OAAhBoH,EAAMpH,MAAiBoH,EAAMpH,MAAQ,GAC5C+R,SAAW3C,GAAM2C,EAAS3K,EAAM8L,MAAO9D,EAAEW,OAAO/P,OAChDoO,GAAIhH,EAAM8L,MACV8I,SAAU5U,EAAM4U,SAChBI,YA9BeD,GACdH,EAIEG,EAAS5Q,KAAK5K,GAAMub,EAAQvb,KAAI0b,KAAK,OAHnCH,EAAQC,GA6Bb3N,SAAUpH,EAAMoH,SAChB6E,MAAO,cAAC,KAAD,CAAatT,KAAMqH,EAAM8L,MAAO9E,GAAIhH,EAAM8L,QACjDxL,UAAWL,EAAQyqB,YACnBzqB,QAAS,CAAE2qB,OAAQ3qB,EAAQ0qB,YAT7B,WAWI3qB,EAAMuK,WAAaqK,GACnB,cAAC,KAAD,CAAUhc,MAAM,GAAhB,SACE,wCAGH2Z,EAAKpO,KAAKzM,GACT,eAAC,KAAD,CAAsBkB,MAAOlB,EAAEqa,IAA/B,UACG6C,GACC,cAAC,KAAD,CACEjI,aAA4CkI,IAAnCjc,EAAMoL,MAAM0C,GAAMA,IAAMhP,EAAEqa,QAGvC,cAAC,KAAD,CAAcrX,QAAShD,EAAEid,OANZjd,EAAEqa,UAUrB,cAAC,KAAD,UAAiB/R,EAAMgM,mB,0CCtCdlJ,UAAiB7D,sBAjEhB9H,GAAD,YAAC,eACTwC,EAAgBxC,IADR,IAEb0zB,SAAU,CACR9vB,MAAM,GAAD,OAAK5D,EAAMsD,QAAQI,UAAUF,KAA7B,cACLpC,QAAS,GAEXuyB,cAAe,CACb/vB,MAAO,mBAETgwB,aAAc,CACZtvB,SAAU,QAEZuvB,eAAgB,CACdjzB,YAAa,KAEfkzB,qBAAsB,CACpBhzB,WAAY,IACZF,YAAa,KAEf8T,MAAO,CACH5T,WAAY,UA6CcgH,EAzChC,SAAgCe,GAAQ,MAC9BC,EAAYD,EAAZC,QACF4L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAWlC,EAAM8L,OACxDof,IAAUlrB,EAAMkrB,SAAUlrB,EAAMkrB,QACtC,OACE,cAAC,KAAD,CACExe,QACE,cAAC,KAAD,CAEEC,QAAS3M,EAAMpH,MACf+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAOgE,SACtD1M,QAAS,CAAEyE,KAAMnE,IAAWN,EAAQ4qB,SAAU7qB,EAAMiX,OAAShX,EAAQ6qB,gBACrEK,KACE,cAAC,KAAD,CACE7qB,UAAWC,IAAWN,EAAQ8qB,gBAGlCK,YACE,cAAC,KAAD,CAAc9qB,UAAWC,IAAWN,EAAQ8qB,gBAE9C3jB,SAAUpH,EAAMoH,WAGpByE,OAAQqf,GAAWrf,EACnB5L,QAAS,CAAEyE,KAAM1E,EAAMkrB,SAAWjrB,EAAQ+qB,eAAgBtmB,KAAMzE,EAAQgrB,qBAAsBpf,MAAOtL,IAAWN,EAAQ4L,MAAO7L,EAAMqrB,eACrI/qB,UAAWC,IAAWP,EAAMM,iB,oBC1D3B,MAAMgrB,GAAe5D,IAAWrK,KAAKkO,MAAe,IAAR7D,EAAevS,OAAOqW,SAAW,KAAKC,QAAQ,GAAK,OAASC,GAAkB9kB,GAAOmjB,UAC3H2B,GAAqB3B,IAC9B,OAAOA,GACH,IAAK,MACD,MAAO,SACX,IAAK,MACD,MAAO,IACX,QACI,MAAO,iBCgBnB,MAAM4B,WAAwBpqB,IAAMQ,UAChCC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAsCnB4oB,UAtCmB,wBAsCP,+BAAA9xB,EAAA,6DACAgoB,EAAa,EAAK9e,MAAMwG,MAAxBsY,SACFnE,EAAS,CACX,CAAE7O,MAAO,aAAclT,MAAO,GAC9B,CAAEkT,MAAO,WAAYlT,OAAO,IAJxB,SAOFkmB,EAASnE,GAPP,uBAQF,EAAK3a,MAAMwG,MAAMolB,gBARf,OASR,EAAK5rB,MAAM0T,KAAKmY,kBAChB,EAAKC,eAVG,2CAtCO,KAmDnBA,aAAe,KAAO,MACVlqB,EAASU,KAAKtC,MAAM4B,KAApBA,KACHA,IAGLU,KAAKtC,MAAM0T,KAAKqY,kBAAkB,CAC9BC,YAAapqB,EAAKjJ,KAClByX,QAASxO,EAAKwO,QACdF,KAAMtO,EAAKsO,KACXJ,MAAOlO,EAAKkO,MACZE,IAAKpO,EAAKoO,IACVic,IAAKrqB,EAAKuO,WAGd7N,KAAK4pB,iBAjEU,KAoEnBC,oBApEmB,yCAoEG,WAAOrgB,EAAOlT,GAAd,gBAAA9B,EAAA,6DACZ6jB,EAAS,CACX,CAAE7O,MAAO,YAAalT,SACtB,CAAEkT,MAAO,WAAYlT,OAAO,IAGhC,EAAKoH,MAAM0T,KAAK0Y,qBAAqBtgB,EAAOlT,GAN1B,SAOZ,EAAKoH,MAAMwG,MAAMolB,cAAcjR,GAPnB,2CApEH,6DA8EnBuR,aAAe,KAAO,MACVG,EAAiB/pB,KAAKtC,MAAM0T,KAAK4Y,SAAS/Z,KAA1C8Z,aACR,IAAIE,EAAa,GAEjB,IAAI,IAAI90B,KAAO6K,KAAKI,MAAM8pB,iBAMtBD,EAAW90B,GALA,QAARA,EAKe40B,EAAa50B,GAAKd,QAAU,EAAI2L,KAAKtC,MAAMkC,UAAU,kBAAoB,KAJrEmqB,EAAa50B,GAAKd,QAAU,EAAI2L,KAAKtC,MAAMkC,UAAU,kBAAoB,KAOnG,GAAGmqB,EAAaI,YACZ,IAAI,IAAIh1B,KAAO6K,KAAKI,MAAMgqB,kBACtBH,EAAW90B,GAAO40B,EAAa50B,GAAKd,QAAU,EAAI2L,KAAKtC,MAAMkC,UAAU,kBAAoB,KAInG,GAAGmqB,EAAaM,aACZ,IAAI,IAAIl1B,KAAO6K,KAAKI,MAAMkqB,uBACtBL,EAAW90B,GAAO40B,EAAa50B,GAAKd,QAAU,EAAI2L,KAAKtC,MAAMkC,UAAU,kBAAoB,KAInG,MAAM2qB,EAAqE,IAApDhI,OAAOiI,OAAOP,GAAY5R,QAAOoS,GAAKA,IAAGp2B,OAC1Dq2B,EAAuBX,EAAaY,cAAgBZ,EAAaa,cACvE5qB,KAAKY,SAAS,CAACqpB,aAAYnb,QAASyb,GAAkBG,KAvGtD1qB,KAAKI,MAAQ,CACTgqB,kBAAmB,CACfS,mBAAoB,KACpBC,eAAgB,KAChBC,YAAa,KACbC,WAAY,KACZC,cAAe,KACfC,oBAAqB,MAEzBZ,uBAAwB,CACpBa,IAAK,KACLC,IAAK,KACLC,MAAO,KACPC,IAAK,KACLC,KAAM,KACNC,aAAc,MAElBtB,iBAAkB,CACdR,YAAa,KACblc,MAAO,KACPM,QAAS,KACTF,KAAM,KACN+b,IAAK,KACL8B,OAAQ,KACRC,aAAc,KACdhe,IAAK,MAETuc,WAAY,GACZnb,SAAS,GAIjBgD,oBACI9R,KAAKsmB,YAyETjmB,SAAU,IAAD,aACG1C,EAAYqC,KAAKtC,MAAjBC,QACAkjB,EAAU7gB,KAAKtC,MAAMwG,MAArB2c,MACA8K,EAAe3rB,KAAKtC,MAAMwG,MAA1BynB,WAEF7B,EAAoB,yCAAG,WAAOtgB,EAAOlT,GAAd,UAAA9B,EAAA,sEACnB,EAAKkJ,MAAM0T,KAAK0Y,qBAAqBtgB,EAAOlT,GADzB,OAEzB,EAAKszB,eAFoB,2CAAH,wDAKlBG,EAAiB/pB,KAAKtC,MAAM0T,KAAK4Y,SAAS/Z,KAA1C8Z,aAER,OACI,+BACI,qBAAK/rB,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,eAAC,KAAD,CACIA,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,UAMI,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAf,SACI,oBAAIjJ,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkuB,IAAKluB,EAAQmuB,YAA5D,SAA0E9rB,KAAKtC,MAAMkC,UAAU,wBAGnG,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAf,SACI,cAAC+J,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaL,YACpBlgB,MAAM,cACNE,UAAW1J,KAAKI,MAAM6pB,WAAWP,YACjC5f,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAavc,MACpBhE,MAAM,QACNE,UAAW1J,KAAKI,MAAM6pB,WAAWzc,MACjC1D,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAC6E,GAAD,CACI1jB,SAAUrI,KAAK6pB,oBACftlB,WAAS,EACT0D,UAAQ,EACRgI,KAAM4Q,EAAM5Q,KACZ3Z,MAAOyzB,EAAajc,QACpBtE,MAAM,UACN6I,UAAU,OACVvN,UAAU,EACV4E,UAAW1J,KAAKI,MAAM6pB,WAAWnc,QACjChE,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQquB,KAA7D,SACI,cAAChb,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAanc,KACpBpE,MAAM,OACNE,UAAW1J,KAAKI,MAAM6pB,WAAWrc,KACjC9D,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,KAAhD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaJ,IACpBngB,MAAM,MACNE,UAAW1J,KAAKI,MAAM6pB,WAAWN,IACjC7f,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQquB,KAA7D,SACI,cAAChb,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAa0B,OACpBjiB,MAAM,SACNE,UAAW1J,KAAKI,MAAM6pB,WAAWwB,OACjC3hB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,KAAhD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAa2B,aACpBliB,MAAM,eACNE,UAAW1J,KAAKI,MAAM6pB,WAAWyB,aACjC5hB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAarc,IACpBlE,MAAM,MACNE,UAAW1J,KAAKI,MAAM6pB,WAAWvc,IACjC5D,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAC,GAAD,CACI7e,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaI,YACpB3gB,MAAM,kBAIbugB,EAAaI,aAAe,qCACzB,cAAC,KAAD,CAAMnjB,MAAI,EAACC,GAAI,GAAf,SACI,cAAC+J,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAac,mBACpBrhB,MAAM,qBACND,MAAOvJ,KAAKtC,MAAMkC,UAAU,qBAC5B8J,UAAW1J,KAAKI,MAAM6pB,WAAWY,mBACjC/gB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAC6E,GAAD,CACI1jB,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACRgI,KAAM4Q,EAAM5Q,KACZ3Z,MAAOyzB,EAAae,eACpBthB,MAAM,iBACN6I,UAAU,OACV9I,MAAOvJ,KAAKtC,MAAMkC,UAAU,iBAC5B8J,UAAW1J,KAAKI,MAAM6pB,WAAWa,eACjChhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQquB,KAA7D,SACI,cAAChb,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAagB,YACpBvhB,MAAM,cACND,MAAOvJ,KAAKtC,MAAMkC,UAAU,cAC5B8J,UAAW1J,KAAKI,MAAM6pB,WAAWc,YACjCjhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,KAAhD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaiB,WACpBxhB,MAAM,aACND,MAAOvJ,KAAKtC,MAAMkC,UAAU,aAC5B8J,UAAW1J,KAAKI,MAAM6pB,WAAWe,WACjClhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQquB,KAA7D,SACI,cAAChb,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAakB,cACpBzhB,MAAM,gBACND,MAAOvJ,KAAKtC,MAAMkC,UAAU,gBAC5B8J,UAAW1J,KAAKI,MAAM6pB,WAAWgB,cACjCnhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,KAAhD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAamB,oBACpB1hB,MAAM,sBACND,MAAOvJ,KAAKtC,MAAMkC,UAAU,sBAC5B8J,UAAW1J,KAAKI,MAAM6pB,WAAWiB,oBACjCphB,OAAQ9J,KAAK4pB,oBAKzB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAf,SACI,cAAC,GAAD,CACIoB,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaM,aACpB7gB,MAAM,mBAIbugB,EAAaM,cAAgB,qCAC1B,cAAC,KAAD,CAAMrjB,MAAI,EAACC,GAAI,GAAf,SACI,cAAC+J,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaoB,IACpB3hB,MAAM,MACNE,UAAW1J,KAAKI,MAAM6pB,WAAWkB,IACjCrhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAaqB,IACpB5hB,MAAM,MACNE,UAAW1J,KAAKI,MAAM6pB,WAAWmB,IACjCthB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAasB,MACpB7hB,MAAM,QACNE,UAAW1J,KAAKI,MAAM6pB,WAAWoB,MACjCvhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAauB,IACpB9hB,MAAM,MACNE,UAAW1J,KAAKI,MAAM6pB,WAAWqB,IACjCxhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAawB,KACpB/hB,MAAM,OACNE,UAAW1J,KAAKI,MAAM6pB,WAAWsB,KACjCzhB,OAAQ9J,KAAK4pB,iBAIrB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,cAAClW,GAAD,CACI3I,SAAUyhB,EACVvlB,WAAS,EACT0D,UAAQ,EACR3R,MAAOyzB,EAAayB,aACpBhiB,MAAM,eACNE,UAAW1J,KAAKI,MAAM6pB,WAAWuB,aACjC1hB,OAAQ9J,KAAK4pB,oBAKzB,cAAC,KAAD,CAAM5iB,MAAI,EAACC,GAAI,GAAf,SACI,oBAAIjJ,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkuB,IAAKluB,EAAQmuB,YAA5D,SAA0E9rB,KAAKtC,MAAMkC,UAAU,gBAGnG,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAf,SACI,qBAAKjJ,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,SACK6wB,GAAcA,EAAW1b,KAAKpO,KAAImF,GAE3B,sBACIhJ,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,iBAAkBqC,EAAQknB,uBACrFnmB,QAAUgH,GAAMokB,EAAqB,eAAgB9iB,EAAKyI,KAF9D,UAII,sBAAKzR,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,uBAA5E,UACI,wCAGA,qBAAK7mB,UAAWC,IAAWN,EAAQ2E,IAAK3E,EAAQtE,OAAhD,SACK2N,EAAK3Q,UAId,sBAAK2H,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,uBAA5E,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQypB,IAAKzpB,EAAQpD,UAAhD,UACKyuB,GAAYhiB,EAAKoe,OADtB,IAC+BgE,GAAkB9kB,GAAOmjB,aAExD,8BACI,cAAC,KAAD,CACIpf,SAAW3C,GAAMokB,EAAqB,eAAgB9iB,EAAKyI,KAC3DnZ,MAAO0Q,EAAKyI,IACZpF,QAAS0f,EAAaY,eAAiB3jB,EAAKyI,oBAW5E,cAAC,KAAD,CAAMzI,MAAI,EAACC,GAAI,GAAf,SACI,oBAAIjJ,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkuB,IAAKluB,EAAQmuB,YAA5D,SAA0E9rB,KAAKtC,MAAMkC,UAAU,eAGnG,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAf,SACI,qBAAKjJ,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,SAEQivB,EAAakC,eAAepqB,KAAImF,GAExB,sBAAKhJ,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,iBAAkBqC,EAAQknB,uBAAwBnmB,QAAUgH,GAAMokB,EAAqB,gBAAiB9iB,EAAKtC,IAA7K,UACI,sBAAK1G,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,uBAA5E,UACI,wCAGA,qBAAK7mB,UAAWC,IAAWN,EAAQ2E,IAAK3E,EAAQtE,OAAhD,SACK2N,EAAK3Q,UAId,sBAAK2H,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,uBAA5E,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQypB,IAAKzpB,EAAQpD,UAAhD,UACKyuB,GAAYhiB,EAAKoe,OADtB,IAC+BgE,GAAkB9kB,GAAOmjB,aAExD,8BACI,cAAC,KAAD,CACIpf,SAAW3C,GAAMokB,EAAqB,gBAAiB9iB,EAAKtC,IAC5DpO,MAAO0Q,EAAKtC,GACZ2F,QAAS0f,EAAaa,gBAAkB5jB,EAAKtC,mBAWjF,cAAC,KAAD,CAAMsC,MAAI,EAACC,GAAI,GAAf,SACI,cAAC,GAAD,CACIvI,QAAS,KAAQsB,KAAKtC,MAAMwuB,WAAW,IACvCluB,UAAWC,IAAWN,EAAQwuB,IAAKxuB,EAAQinB,KAC3C9f,UAAW9E,KAAKI,MAAM0O,QACtBlR,WAAS,EAJb,SAMKoC,KAAKtC,MAAMkC,UAAU,wBAUvCzL,SACXwI,sBA7fW9H,GAAK,eACbwC,EAAgBxC,MA6fnB2L,GACAyD,GACA4Z,GACA1e,EALWhL,CAMbk1B,I,SCtbal1B,SACXwI,sBAnFW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBu3B,iBAAkB,CACdrxB,MAAO,QAEXsxB,aAAc,CACV3jB,gBAAiB,UACjB3N,MAAO,OACPG,OAAQ,OACR9B,WAAY,OACZpC,UAAW,SACXmC,SAAU,OACVvB,aAAc,MACdqsB,OAAQ,WAEZqI,UAAW,CACPvxB,MAAO,OACP/D,UAAW,cAmEf6mB,GACA1e,EACAqB,GACAyD,GALW9P,EA7Df,SAAyBuJ,GAAQ,MACrBC,EAAYD,EAAZC,QADoB,EAQNE,mBAAS,MARH,mBAQrB2nB,EARqB,KAQhBC,EARgB,KAyB5B,OAhBc,yCAAG,+BAAAjxB,EAAA,mEAENkJ,EAAMgqB,YAFA,gCAGchqB,EAAMwG,MAAMyjB,QAAQjqB,EAAMgqB,aAHxC,OAGCzX,EAHD,QAIDJ,EAAS,IAAIC,YACVC,UAAY,KACf0V,EAAO5V,EAAOG,SAElBH,EAAOM,cAAcF,GARhB,yDAWT/Z,QAAQuT,MAAR,MAXS,0DAAH,oDAcd8iB,GAGI,qCACI,sBAAKvuB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,iBAAkBqC,EAAQknB,uBAA1F,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,8BACI,qBACI0C,UAAWL,EAAQyuB,iBACnB1pB,IAAM8iB,GAAO,GACb3iB,IAAI,OAGZ,sBAAK7E,UAAWC,IAAWN,EAAQO,QAASP,EAAQ6uB,KAApD,UACI,qBAAKxuB,UAAWC,IAAWN,EAAQpE,QAAnC,SAA6CmE,EAAM+uB,cACnD,8BAlCZ,qBAAKzuB,UAAWC,IAAWN,EAAQW,SAAnC,6BAqCI,sBAAKN,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,UAAnC,SAA+CyuB,GAAYtrB,EAAMgvB,aAAehvB,EAAMivB,gBACtF,qBAAK3uB,UAAWC,IAAWN,EAAQW,QAASX,EAAQivB,WAApD,SAAiElvB,EAAMkC,UAAU,oBAGzF,oBAAI5B,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQinB,IAAKjnB,EAAQkuB,IAAKluB,EAAQnD,gB,UC1CtF,MAAMqyB,WAAwB5tB,IAAMQ,UAChCC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAgBnB4oB,UAhBmB,wBAgBP,+BAAA9xB,EAAA,6DACAgoB,EAAa,EAAK9e,MAAMwG,MAAxBsY,SACFnE,EAAS,CACX,CAAE7O,MAAO,aAAclT,MAAO,GAC9B,CAAEkT,MAAO,WAAYlT,OAAO,IAJxB,SAOFkmB,EAASnE,GAPP,uBAQF,EAAK3a,MAAMwG,MAAMolB,gBARf,2CAhBO,KA2BnBljB,aA3BmB,yCA2BJ,WAAOoD,EAAOlT,GAAd,UAAA9B,EAAA,yDACX,EAAKoM,SAAS,CACV,CAAC4I,GAAQlT,IAGC,iBAAVkT,GAA4BlT,EAAMjC,SAAWiQ,GAAOwoB,mBAL7C,gCAMD,EAAKpvB,MAAM0T,KAAK2b,oBAAoBz2B,GANnC,2CA3BI,6DAqCnB02B,iBArCmB,wBAqCA,6CAAAx4B,EAAA,sDACPy4B,EAAS,EAAKvvB,MAAM0T,KAApB6b,KADO,eAGCA,EAAKhd,KAAKqX,UAHX,4DAIoB,UAD3BtgB,EAHO,SAIH2f,QAAQ1F,WAJL,wBAKD5I,EAAS,CACX,CAAE7O,MAAO,MAAOlT,MAAO0Q,EAAK2f,QAAQpF,YAAY1f,KAAImF,GAAMA,EAAKtC,KAAKyR,GAAG,OANpE,UAQc,EAAKzY,MAAM0T,KAAKyR,YAAYxK,GAR1C,QAQHiP,EARG,sBASgBA,EAASrX,MATzB,IASP,IAAI,EAAJ,qBACkC,YAD1Bid,EAA8B,SACnBjM,YACX,EAAKrgB,SAAS,CAACusB,aAAcD,EAAaE,oBAAqBpmB,EAAK2f,UAXrE,qOArCA,KA0EnB0G,cAAgB,KAAO,MACX1B,EAAe3rB,KAAKtC,MAAMwG,MAA1BynB,WACA2B,EAAWttB,KAAKtC,MAAM0T,KAAK4Y,SAAS/Z,KAApCqd,OACA3C,EAAiB3qB,KAAKtC,MAAM0T,KAAK4Y,SAAS/Z,KAAK8Z,aAA/CY,aACArD,EAAatnB,KAAKtC,MAAM0T,KAAK6b,KAAKhd,KAAlCqX,SAER,IAAIiG,EAAgB,EAChBC,EAAY,EACZpI,EAAQ,EARM,qBAUCkC,GAVD,IAUlB,2BAA6B,CAAC,MAAnBtgB,EAAkB,QACM,SAA5BA,EAAK2f,QAAQ1F,WACZuM,GAAaxmB,EAAK2f,QAAQa,eAE1B+F,GAAkBvmB,EAAK2U,MAAQ3U,EAAK2f,QAAQa,gBAdlC,8BAkBd8F,EAAO7d,MAEqB,IAAxB6d,EAAOG,aACPrI,EAAQA,GAAS,IAAQkI,EAAOI,QAAU,IAE1CtI,GAASkI,EAAOI,QAGxB,IAAIC,EAAgB3tB,KAAKI,MAAM+sB,aAAentB,KAAKI,MAAM+sB,aAAa3F,eAAiB,EACnFxnB,KAAKI,MAAMwtB,qBAGRL,EAAgBI,GACfJ,EAAgB,EAChBI,GAAiBJ,IAEjBA,GAAgCI,EAChCA,EAAgB,GAEpBvI,EAAQmI,EAAgBC,GATxBpI,EAAQmI,EAAgBC,EAe5B,MAAMK,EAAYlC,EAAW1b,KAAKvO,MAAKtM,GAAKA,EAAEqa,MAAQkb,IAKtD,OAJIkD,IACAzI,GAASyI,EAAUzI,OAGhB4D,GAAY5D,IA1HJ,KA6HnB0I,gBA7HmB,wBA6HD,+DAAAt5B,EAAA,sDACNy4B,EAAS,EAAKvvB,MAAM0T,KAApB6b,KADM,EAEmB,EAAKvvB,MAAM0T,KAAK4Y,SAAS/Z,KAAlD8Z,EAFM,EAENA,aAAcuD,EAFR,EAEQA,OAElBS,EAAQ,GAJE,eAKQd,EAAKhd,KAAKqX,UALlB,6DAKHX,EALG,SAMFA,QAAQhL,MAAQgL,EAAQhL,OAC7B,EAAKvb,MAAMgtB,qBAAuBzG,EAAQA,QAAQlX,MAAQ,EAAKrP,MAAMgtB,oBAAoB3d,IAPlF,wBAQNse,EAAMlvB,KAAN,2BAAe8nB,EAAQA,SAAvB,IAAgCjiB,GAAIiiB,EAAQA,QAAQlX,IAAKue,UAAW,EAAK5tB,MAAMwtB,uBARzE,gCAYVG,EAAMlvB,KAAN,2BAAe8nB,EAAQA,SAAvB,IAAgCjiB,GAAIiiB,EAAQA,QAAQlX,OAZ1C,kJAgBRpZ,EAAO0zB,EAAaL,YAAY3pB,MAAM,KAAK,GAC3CkuB,EAAUlE,EAAaL,YAAY3pB,MAAM,KAAK,GAC9CmuB,EAAc,EAAKxwB,MAAMwG,MAAM2c,MAAM5Q,KAAKvO,MAAMtM,GAAKA,EAAEqa,MAAQsa,EAAajc,UAC5EqgB,EAAkB,EAAKzwB,MAAMwG,MAAMynB,WAAW1b,KAAKvO,MAAMtM,GAAKA,EAAEqa,MAAQsa,EAAaY,eAEtFuD,GAAgBC,EArBP,0DAwBRC,EAAyBF,EAAY/4B,IACrCk5B,EAAcF,EAAgBh5B,IAzBtB,UA2BM,EAAKuI,MAAM0T,KAAKkd,YAAY,CAE5Cj4B,OACA43B,UACAM,MAAOxE,EAAarc,IACpBF,MAAOuc,EAAavc,MACpBie,OAAQ1B,EAAa0B,OACrB+C,cAAezE,EAAa2B,aAC5B+C,YAAa1E,EAAaJ,IAC1B/b,KAAMmc,EAAanc,KACnBE,QAASic,EAAajc,QACtB4gB,UAAU,2BAAMpB,GAAP,IAAe5oB,GAAI4oB,EAAO7d,MAGnCkf,QAAS5E,EAAagB,YACtB6D,WAAY,GACZC,WAAY9E,EAAae,eACzBgE,eAAgB/E,EAAaiB,WAC7B+D,UAAWhF,EAAakB,cACxB+D,iBAAkBjF,EAAakB,cAG/BoD,cACAY,kBAAmBlF,EAAaa,cAChCmD,QACAK,yBACAc,GAAI5qB,GAAO6qB,OAAOC,eArDR,aA2BRC,EA3BQ,gCAyDFC,EAAeD,EAAfC,WAzDE,UA0DWC,aAAWjrB,GAAO6qB,OAAOzqB,IA1DpC,eA0DJyqB,EA1DI,iBA4DWA,EAAOK,mBAAmB,CAC3CC,UAAWH,IA7DL,SA4DJtf,EA5DI,QAgECvG,OAIPvT,QAAQuT,MAAMuG,EAAOvG,OApEf,QAuEdvT,QAAQC,IAAIk5B,GAvEE,gEA7HC,KAuMnBK,gBAAkB,KAAO,MACb/xB,EAAYqC,KAAKtC,MAAjBC,QACA2vB,EAAWttB,KAAKtC,MAAM0T,KAAK4Y,SAAS/Z,KAApCqd,OAER,OACI,mCACMA,EAAO7d,KACL,sBAAKzR,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,sBAAuBlnB,EAAQ7C,MAA3G,UACI,qBAAKkD,UAAWC,IAAWN,EAAQpE,QAAnC,SACKyG,KAAKtC,MAAMkC,UAAU,qBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQpE,QAAnC,UARW+O,EASYglB,EAAOG,aATbC,EAS2BJ,EAAOI,OATd,IAATplB,EAAA,WAAiBolB,EAAjB,gBAAiCA,GAAjC,OAA0CtE,GAAkB9kB,GAAOmjB,mBAArF,IAACnf,EAAMolB,GA1MlB,KA2NnBiC,0BAA4B,KAAO,MACvBhyB,EAAYqC,KAAKtC,MAAjBC,QAER,OAASqC,KAAKI,MAAM+sB,cAChB,cAAC,KAAD,CAAMnmB,MAAI,EAACC,GAAI,GAAIjJ,UAAWL,EAAQmB,IAAtC,SACI,sBAAKd,UAAWC,IAAWN,EAAQiwB,oBAAqBjwB,EAAQiyB,IAAKjyB,EAAQkyB,IAAKlyB,EAAQ9F,UAAW8F,EAAQQ,MAAOR,EAAQrC,kBAA5H,UACI,8BACI,cAAC,GAAD,CACI+M,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMwtB,oBAClBpkB,MAAM,sBACNof,SAAO,MAGf,sBAAK5qB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQpE,QAAnC,SACKyG,KAAKtC,MAAMkC,UAAU,0BAE1B,sBAAK5B,UAAWC,IAAWN,EAAQW,SAAnC,eACO0qB,GAAYhpB,KAAKI,MAAM+sB,aAAa3F,gBAD3C,2BA7OhBxnB,KAAKI,MAAQ,CACTwtB,qBAAqB,EACrBkC,aAAc,GACd3C,aAAc,KACdC,oBAAqB,MAI7Btb,oBACI9R,KAAKtC,MAAM0T,KAAKmY,kBAChBvpB,KAAKsmB,YACLtmB,KAAKgtB,mBA0CT+C,kBAEI,OADiB/vB,KAAKtC,MAAM0T,KAApB6b,KACIhd,KAAKqX,SAASzlB,KAAImF,IAAS,MAC3B2f,EAAY3f,EAAZ2f,QACR,OACI,cAAC,GAAD,CAEIqJ,UAAWrJ,EAAQjiB,GACnB+nB,YAAa9F,EAAQtwB,KACrBq2B,aAAc/F,EAAQa,eACtBE,YAAaf,EAAQe,YACrBiF,aAAc3lB,EAAK2U,MACnBsU,aAActJ,EAAQhL,OANjBgL,EAAQjiB,OA2L7BrE,SAAU,MACE1C,EAAYqC,KAAKtC,MAAjBC,QACAosB,EAAiB/pB,KAAKtC,MAAM0T,KAAK4Y,SAAS/Z,KAA1C8Z,aACFjc,EAAU9N,KAAKtC,MAAMwG,MAAM2c,MAAM5Q,KAAKvO,MAAMtM,GAAKA,EAAEqa,MAAQsa,EAAajc,UAC9E,OACI,qCACI,qBAAK9P,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQuyB,eAAtD,SACI,eAAC,KAAD,CACI54B,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,UAMI,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWL,EAAQinB,IAAtC,SACI,sBAAK5mB,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,UACI,sBAAKkD,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQrC,kBAA/F,UACI,qBAAK0C,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQtD,YAAnD,SACK2F,KAAKtC,MAAMkC,UAAU,gBAE1B,qBAAK5B,UAAWL,EAAQpE,OAAxB,SACKwwB,EAAaL,iBAGtB,sBAAK1rB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQrC,iBAAkBqC,EAAQmB,KAAzH,UACI,qBAAKd,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQtD,YAAnD,SACK2F,KAAKtC,MAAMkC,UAAU,iBAE1B,qBAAK5B,UAAWL,EAAQpE,OAAxB,SACKwwB,EAAavc,WAGtB,sBAAKxP,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQrC,iBAAkBqC,EAAQmB,KAAzH,UACI,qBAAKd,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQtD,YAAnD,SACK2F,KAAKtC,MAAMkC,UAAU,eAE1B,qBAAK5B,UAAWL,EAAQpE,OAAxB,oBACSwwB,EAAarc,UAI1B,sBAAK1P,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQwyB,KAA/F,UACI,qBAAKnyB,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQtD,YAAnD,SACK2F,KAAKtC,MAAMkC,UAAU,sBAE1B,sBAAK5B,UAAWC,IAAWN,EAAQO,QAASP,EAAQivB,WAApD,UACI,qBAAK5uB,UAAWL,EAAQpE,OAAxB,SACKwwB,EAAa0B,SAElB,qBAAKztB,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQyyB,KAAnD,mBACQrG,EAAavc,MADrB,aAC+Buc,EAAaJ,OAE5C,qBAAK3rB,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQyyB,KAAnD,SACKtiB,EAAUA,EAAQzX,KAAO,KAE9B,qBAAK2H,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQupB,IAAKvpB,EAAQrD,cAAeoE,QAAS,KAAQsB,KAAKtC,MAAMwuB,WAAW,IAAtH,SACKlsB,KAAKtC,MAAMkC,UAAU,qBAO1C,eAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIjJ,UAAWL,EAAQoqB,IAAtC,UACI,oBAAI/pB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQkuB,IAAKluB,EAAQnD,UAC5DwF,KAAK+vB,qBAGT/vB,KAAK2vB,4BAEN,eAAC,KAAD,CAAM3oB,MAAI,EAACC,GAAI,GAAIjJ,UAAWL,EAAQwyB,IAAtC,UACI,oBAAInyB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQkuB,IAAKluB,EAAQnD,UAC7D,cAACwW,GAAD,CACI3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAM0vB,aAClBtmB,MAAM,yBAMtB,qBAAKxL,UAAWC,IAAWN,EAAQ0yB,eAAgB1yB,EAAQ2yB,KAA3D,SACI,qBAAKtyB,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,sBAAK0G,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,UAEKkF,KAAK0vB,kBAEN,sBAAK1xB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQupB,IAAKvpB,EAAQknB,uBAA/D,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQtD,YAAnC,SACK2F,KAAKtC,MAAMkC,UAAU,gBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQW,SAAnC,SACK0B,KAAKtC,MAAMkC,UAAU,uBAG9B,qBAAK5B,UAAWC,IAAWN,EAAQpD,UAAnC,SACKyF,KAAKqtB,qBAGd,cAAC,GAAD,CACI3uB,QAASsB,KAAK8tB,gBACdlwB,WAAS,EACTI,UAAWC,IAAWN,EAAQinB,KAHlC,SAIK5kB,KAAKtC,MAAMkC,UAAU,yBAUvCzL,SACXwI,sBAhYW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB+4B,oBAAqB,CACjBnzB,OAAQ,oBACRzC,WAAY,WAEhBq4B,eAAgB,CACZz1B,SAAU,QACViC,OAAQ,IACRR,KAAM,IACNtB,MAAO,OACP/C,WAAY,UACZuE,OAAQ,GAEZ2zB,cAAe,CACXn6B,cAAe,aAkXnByK,GACAyD,GACA4Z,GACA1e,EALWhL,CAMb04B,ICrWa14B,SACXwI,sBA7CW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB07B,aAAc,CACVx1B,MAAO,MACPG,OAAQ,OACRlD,WAAY,OAEhBw4B,mBAAoB,CAChBx4B,WAAY,aAoCL7D,EAhCf,SAAkBuJ,GAAQ,MAAD,EACiBG,mBAAS,GAD1B,mBACd4yB,EADc,KACDC,EADC,KAEb/yB,EAAYD,EAAZC,QAEFuuB,EAAclZ,IAChB0d,EAAe1d,IAEnB,OACI,qCACI,sBAAKhV,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,MAAlD,UACI,qBAAKkD,UAAWC,IAAWN,EAAQ4yB,gBAGnC,qBAAKvyB,UAAWC,IAAWN,EAAQ4yB,gBAGnC,qBAAKvyB,UAAWC,IAAWN,EAAQ4yB,aAAc5yB,EAAQ6yB,sBAGzD,qBAAKxyB,UAAWC,IAAWN,EAAQ4yB,mBAKvC,gCACqB,IAAhBE,GAAqB,cAAC,GAAD,CAAiBvE,WAAYA,IAClC,IAAhBuE,GAAqB,cAAC,GAAD,CAAiBvE,WAAYA,aCyFpD/3B,SACXwI,sBA3HW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBu3B,iBAAkB,CACdrxB,MAAO,QAEXsxB,aAAc,CACV3jB,gBAAiB,UACjB3N,MAAO,OACPG,OAAQ,OACR9B,WAAY,OACZpC,UAAW,SACXmC,SAAU,OACVvB,aAAc,MACdqsB,OAAQ,WAEZqI,UAAW,CACPvxB,MAAO,OACP/D,UAAW,UAEfq5B,eAAgB,CACZz1B,SAAU,QACViC,OAAQ,IACRR,KAAM,IACNtB,MAAO,OACP/C,WAAY,UACZuE,OAAQ,OAmGZshB,GACA5Z,GACA9E,EACAqB,GALWrM,EA7Ff,SAAkBuJ,GAAQ,MACdC,EAAYD,EAAZC,QADa,EAQCE,mBAAS,MARV,mBAQd2nB,EARc,KAQTC,EARS,OASa5nB,mBAAS,MATtB,mBASd4oB,EATc,KASHkK,EATG,KAWfpE,EAAQ,yCAAG,WAAOqE,EAAmB,MAA1B,kBAAAp8B,EAAA,kEAET0B,QAAQC,IAAIy6B,IACTlzB,EAAMgqB,cAAekJ,EAHf,gCAIclzB,EAAMwG,MAAMyjB,QAAQiJ,EAAmBA,EAAiBC,OAASnzB,EAAMgqB,aAJrF,OAICzX,EAJD,QAKDJ,EAAS,IAAIC,YACVC,UAAY,KACf0V,EAAO5V,EAAOG,SAElBH,EAAOM,cAAcF,GAThB,yDAYT/Z,QAAQuT,MAAR,MAZS,0DAAH,qDAgBRqnB,EAAY,yCAAG,+BAAAt8B,EAAA,sEACQkJ,EAAM0T,KAAKmV,gBADnB,OACXM,EADW,OAEX+J,EAAmB/J,EAAW5W,KAAKvO,MAAKtM,GAAKA,EAAEqa,MAAQ/R,EAAMqzB,eACnEJ,EAAaC,GACbrE,EAASqE,GAJQ,2CAAH,qDAQZI,EAAqBC,GAAavzB,EAAM0T,KAAK8f,kBAAkBxzB,EAAMsyB,UAAWiB,GAUtF,OARAE,oBAAS,wBAAE,uBAAA38B,EAAA,0DACJkJ,EAAMqzB,aADF,gCAEGD,IAFH,wCAKPvE,IALO,2CAMR,IAGC,sBAAKvuB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,sBAAKF,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,iBAAkBqC,EAAQknB,uBAA1F,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,8BACI,qBACI0C,UAAWL,EAAQyuB,iBACnB1pB,IAAK8iB,GAAO,GAAI3iB,IAAI,OAG5B,sBAAK7E,UAAWC,IAAWN,EAAQO,QAASP,EAAQ6uB,KAApD,UACI,qBAAKxuB,UAAWC,IAAWN,EAAQpE,QAAnC,SAA6CktB,EAAYA,EAAUpwB,KAAOqH,EAAM+uB,cAChF,8BArDZ,qBAAKzuB,UAAWC,IAAWN,EAAQW,SAAnC,6BAwDI,8BAAK,cAAC,KAAD,CAAWI,QA1BL,IAAMhB,EAAM0T,KAAKggB,kBAAkB1zB,EAAMsyB,kBA4BxD,sBAAKhyB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQnC,cAAemC,EAAQknB,uBAAzE,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UAC0B,SAApBoC,EAAM2zB,WAAwB,qCAChC,qBAAKrzB,UAAWC,IAAWN,EAAQ0uB,cAAe3tB,QAAS,IAAMsyB,GAAmB,GAApF,eACA,sBAAKhzB,UAAWC,IAAWN,EAAQ2uB,UAAW3uB,EAAQpE,QAAtD,UAAgEmE,EAAMivB,aAAtE,QACA,qBAAK3uB,UAAWC,IAAWN,EAAQ0uB,cAAe3tB,QAAS,IAAMsyB,EAAkB,GAAnF,kBAEA,qBAAKhzB,UAAWC,IAAWN,EAAQ2zB,IAAK3zB,EAAQW,SAAhD,SAA2DZ,EAAMivB,cAAgBjvB,EAAMuyB,aAAevyB,EAAMkC,UAAU,YAAclC,EAAMkC,UAAU,kBAExJ,sBAAK5B,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,UAAnC,SAA+CyuB,GAAYnW,OAAOnV,EAAMgvB,cAAgB7Z,OAAOnV,EAAMivB,iBACrG,qBAAK3uB,UAAWC,IAAWN,EAAQW,QAASX,EAAQivB,WAApD,SAAiElvB,EAAMkC,UAAU,oBAGzF,oBAAI5B,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQinB,IAAKjnB,EAAQkuB,IAAKluB,EAAQnD,gBCnFtF,MAAM+2B,WAAatyB,IAAMQ,UACrBC,YAAYhC,GACRiC,MAAMjC,GADS,KAUnB0I,aAAe,CAAC/P,EAAMC,KAClB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAXT,KAcnBk7B,oBAAsB,IACDxxB,KAAKtC,MAAM0T,KAApB6b,KACIhd,KAAKqX,SAASjzB,OAhBX,KAmBnBo9B,UAAY,IAAMzxB,KAAKtC,MAAMkB,QAAQC,KAAnB,UAnBC,KAoBnB6yB,aAAe,IAAM1xB,KAAKtC,MAAMkB,QAAQC,KAAK,mBApB1B,KAsBnB8yB,gBAAkB,KAAM,MACZh0B,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,sBAAKK,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQi0B,IAAKj0B,EAAQY,YAAhD,SACI,qBAAKP,UAAWL,EAAQk0B,aAAchvB,IAAI,GAAGH,IAAI,gIAGrD,sBAAK1E,UAAWC,IAAWN,EAAQY,WAAYZ,EAAQinB,KAAvD,UACK5kB,KAAKtC,MAAMkC,UAAU,kBAAkB,uBACvCI,KAAKtC,MAAMkC,UAAU,qBAG1B,cAAC,GAAD,CAAQ5B,UAAWC,IAAWN,EAAQinB,KAClClmB,QAASsB,KAAKyxB,UACd7zB,WAAS,EAFb,SAIKoC,KAAKtC,MAAMkC,UAAU,qBAvCnB,KA6CnBkyB,gBAAkB,IACO9xB,KAAKtC,MAAM0T,KAAK6b,KAAKhd,KAAlCqX,SACQzlB,KAAImF,IAAS,MACjB2f,EAAY3f,EAAZ2f,QACR,OACI,cAAC,GAAD,CAEIqJ,UAAWrJ,EAAQlX,IACnBgd,YAAa9F,EAAQtwB,KACrBq2B,aAAc/F,EAAQa,eACtBE,YAAaf,EAAQe,YACrBiF,aAAc3lB,EAAK2U,MACnBsU,aAActJ,EAAQhL,MACtB0V,UAAW1K,EAAQ1F,WACnB8P,aAAcpK,EAAQoK,cAAgBpK,EAAQoK,aAAarsB,IARtDiiB,EAAQlX,QAnDV,KAkEnB4d,cAAgB,KACZ,IAAIjI,EAAQ,EADK,MAETkC,EAAatnB,KAAKtC,MAAM0T,KAAK6b,KAAKhd,KAAlCqX,SAFS,qBAGCA,GAHD,IAGjB,IAAI,EAAJ,qBAA4B,CAAC,MAAnBtgB,EAAkB,QACxBoe,GAAUpe,EAAK2U,MAAQ3U,EAAK2f,QAAQa,gBAJvB,8BAMjB,OAAOwB,GAAY5D,IAxEJ,KA2EnB2M,WAAa,KAAM,MACPp0B,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,qCACMqC,KAAK8xB,kBACP,qBAAK9zB,UAAWC,IAAWN,EAAQq0B,eAAnC,SACI,cAAC,GAAD,CAAQh0B,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkuB,KAC/CntB,QAASsB,KAAK0xB,aACd9zB,WAAS,EAFb,SAIKoC,KAAKtC,MAAMkC,UAAU,oBAnFtCI,KAAKI,MAAQ,GAGjB0R,oBACI9R,KAAKtC,MAAM0T,KAAKmY,kBAyFpBlpB,SAAU,MACE1C,EAAYqC,KAAKtC,MAAjBC,QACFgvB,EAAe3sB,KAAKwxB,sBAE1B,OACI,qCACI,sBAAKxzB,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQoqB,KAAtD,UACI,qBAAI/pB,UAAWC,IAAWN,EAAQzE,SAAUyE,EAAQvD,YAAauD,EAAQ9E,UAAW8E,EAAQwuB,KAA5F,UAAmGnsB,KAAKtC,MAAMkC,UAAU,QAAxH,IAAkI+sB,EAAe,EAAf,YAAwBA,EAAxB,YAChIA,EAAe,EAAI3sB,KAAK+xB,aAAe/xB,KAAK2xB,qBAGlD,qBAAK3zB,UAAWC,IAAWN,EAAQ0yB,eAAgB1yB,EAAQ2yB,KAA3D,SACI,qBAAKtyB,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,qBAAK0G,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,SACI,sBAAKkD,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQupB,IAAKvpB,EAAQknB,uBAA/D,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQtD,YAAnC,SACK2F,KAAKtC,MAAMkC,UAAU,gBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQW,SAAnC,SACK0B,KAAKtC,MAAMkC,UAAU,iBAG9B,qBAAK5B,UAAWC,IAAWN,EAAQpD,UAAnC,SACKyF,KAAKqtB,+BAe3Bl5B,SACXsJ,IACAwG,GACAtH,sBA7JW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBg9B,aAAc,CACV92B,MAAO,OAEXi3B,cAAe,CACXx8B,UAAW,OACXqH,OAAQ,KAEZwzB,eAAgB,CACZz1B,SAAU,QACViC,OAAQ,IACRR,KAAM,IACNtB,MAAO,OACP/C,WAAY,UACZuE,OAAQ,OA+IZshB,GACA1e,EACAqB,GANWrM,CAObo9B,ICzHap9B,SACXwI,sBA/CW9H,GAAK,uCACbwC,EAAgBxC,IAChBiY,GAAUjY,IAFG,IAIhBuN,KAAM,CACFvL,eAAgB,UAEpBo7B,SAAU,CACN11B,OAAQ1H,EAAM0H,OAAOoF,OAAS,EAC9BlJ,MAAO,QAEXkJ,OAAQ,CACJ7E,oBAAqB,OACrBC,qBAAsB,YAmC1ByD,GAFWrM,EA7Bf,SAAqBuJ,GAAQ,MACjBC,EAAYD,EAAZC,QACR,OACI,cAAC,KAAD,CACIwF,OAAO,SACPE,KAAM3F,EAAMw0B,OACZ5uB,QAAS5F,EAAM4F,QAEf3F,QAAS,CAAE4F,MAAO5F,EAAQgE,QAL9B,SAOI,sBAAK3D,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQoqB,KAAtD,UACI,oBAAI/pB,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQw0B,KAApD,qBACA,2SAIA,oBAAIn0B,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQw0B,KAApD,qBACA,mTCpBhB,MA6CMC,GAAgB,CAClBC,YAAa,KACbC,iBAAkB,GAClBC,gBAAiB,KACjBC,oBAAoB,EACpBC,cAAc,EACdC,aAAc9tB,OAAOpD,UAGzB,MAAMmxB,WAAsB1zB,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAgBnBk1B,iBAhBmB,wBAgBA,iCAAAp+B,EAAA,2DACPq+B,EAAY,EAAKzyB,MAAMmyB,gBAAvBM,SADO,gCAGQ,EAAKn1B,MAAMwG,MAAMyjB,QAAQkL,GAHjC,OAGL5iB,EAHK,QAIPJ,EAAS,IAAIC,YACVC,UAAY,IAAM,EAAKnP,SAAS,CAACyxB,YAAaxiB,EAAOG,SAC5DH,EAAOM,cAAcF,GANV,2CAhBA,KA0BnBqW,UA1BmB,wBA0BP,iCAAA9xB,EAAA,6DACAib,EAAQ,EAAK/R,MAAMo1B,MAAMC,OAAzBtjB,IADA,SAEF,EAAK/R,MAAM0T,KAAK4hB,uBAAuBvjB,GAFrC,cAIF4I,EAAS,CAAC,CAAE7O,MAAO,OAAQlT,OAAO,IAJhC,SAKF,EAAKoH,MAAM0T,KAAKyR,YAAYxK,GAL1B,QAOF4a,EAAkB,EAAKv1B,MAAM0T,KAAK8hB,QAAQjjB,MAC7B5b,OAAS,GACxB,EAAKuM,SAAS,CAAE2xB,gBAAiBU,EAAgB,KAAM,KACnD,EAAKL,sBAVL,2CA1BO,KAyCnBxsB,aAAe,CAAC/P,EAAMC,IAAU0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,IAzCrC,KA2CnB68B,qBAAuB,CAAC98B,EAAMC,KAC1B0J,KAAKY,UAAUR,GACJ,2BACAA,GADP,IAEIkyB,iBAAiB,2BACVlyB,EAAMkyB,kBADG,IAEZ,CAACj8B,GAAOC,QAGjB,KACC,MAAMqwB,EAAU3mB,KAAKozB,gCACrBpzB,KAAKY,SAAS,CAAE2xB,gBAAiB5L,IAAW,IAAK3mB,KAAK4yB,yBAtD3C,KA0DnBS,yBAA4B3tB,IACxB,IAAI3K,EAAQ2K,EAAEW,OAAOitB,aACR5tB,EAAEW,OAAOktB,cACTx4B,GACT2K,EAAEW,OAAO7H,MAAMtD,OAAS,OACxBwK,EAAEW,OAAO7H,MAAMzD,MAAQ,SAEvB2K,EAAEW,OAAO7H,MAAMzD,MAAQ,OACvB2K,EAAEW,OAAO7H,MAAMtD,OAAS,SAlEb,KAsEnBs4B,gBAAkB,KACd,IAAIC,EAAY,GAChB,IAAK,IAAIC,KAAc1zB,KAAKtC,MAAM0T,KAAKuiB,gBAAgB1jB,KACnDwjB,EAAU50B,KACN,cAAC,GAAD,CAEIvI,MAAO0J,KAAKI,MAAMkyB,iBAAiBoB,GAAc1zB,KAAKI,MAAMkyB,iBAAiBoB,GAAY9gB,WAAa,GACtGpJ,MAAOkqB,EACPrrB,SAAUrI,KAAKmzB,qBACfljB,KAAMjQ,KAAKtC,MAAM0T,KAAKuiB,gBAAgB1jB,KAAKyjB,GAAYzjB,KACvDoC,UAAW,OACX9N,WAAS,EACT0D,UAAQ,GAPHyrB,IAWjB,OACI,mCACMD,KAxFK,KA6FnBL,8BAAgC,KAE5B,GAAI7Q,OAAOxtB,KAAKiL,KAAKI,MAAMkyB,kBAAkBj+B,SAAWkuB,OAAOxtB,KAAKiL,KAAKtC,MAAM0T,KAAKuiB,gBAAgB1jB,MAAM5b,OACtG,OAAO,KAHuB,qBAKd2L,KAAKtC,MAAM0T,KAAK8hB,QAAQjjB,MALV,IAKlC,2BAAkD,CAAC,IAA1C/M,EAAyC,QAC1C0wB,GAAqB,EACzB,IAAK,IAAIF,KAAc1zB,KAAKI,MAAMkyB,iBAC9B,GAAIpvB,EAAQse,YAActe,EAAQse,WAAWkS,KAAgB1zB,KAAKI,MAAMkyB,iBAAiBoB,GAAa,CAClGE,GAAqB,EACrB,MAIR,GAAIA,EACA,OAAO1wB,GAfmB,8BAiBlC,OAAO,MA9GQ,KAiHnB2wB,UAAY,KACJ7zB,KAAKI,MAAMmyB,kBACXvyB,KAAKtC,MAAM0T,KAAK0iB,eAAe9zB,KAAKI,MAAMmyB,iBAC1CvyB,KAAKY,SAAS,CAAC6xB,cAAc,MApHlB,KAwHnB/L,kBAAqBC,IACbA,EAAQ1F,YAAc0F,EAAQ1F,WAAW5sB,OAAS,GAClD2L,KAAKtC,MAAMkB,QAAQC,KAAnB,yBAA0C8nB,EAAQ1F,cA1HvC,KA6HnB8S,uBAAyB,KAAO,MACpBzM,EAAatnB,KAAKtC,MAAM0T,KAAxBkW,SACR,OAAOA,EAAS7Z,UACZ,qBAAKjP,MAAO,CAAE9G,SAAU,GAAxB,SACI,cAAC,KAAD,CAAgBe,MAAM,gBAChB6uB,EAASrX,KAAKpO,KAAI8kB,GAEpB,cAAC,KAAD,CAAM3f,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGqgB,GAAI,EAA7B,SACI,cAAC,GAAD,CACI7oB,QAAS,IAAMsB,KAAK0mB,kBAAkBC,GACtCtwB,KAAMswB,EAAQtwB,KACd+uB,MAAOuB,EAAQa,eACfzB,KAAMzhB,GAAOmjB,SACb7B,GAAIe,EAAQe,YACZhC,MAAO1lB,KAAKtC,MAAMwG,MAAMyjB,QACxBtC,OAAQsB,EAAQhL,MAAQ,EAAI3b,KAAKtC,MAAMkC,UAAU,YAAcI,KAAKtC,MAAMkC,UAAU,gBARvD+mB,EAAQlX,QApI1C,KAoJnBukB,sBAAwB,IAAMh0B,KAAKY,SAAS,CAAE4xB,oBAAoB,IApJ/C,KAqJnByB,kBAAoB,IAAMj0B,KAAKY,SAAS,CAAE4xB,oBAAoB,IArJ3C,KAuJnB0B,oBAAsB,KAAO,MACjBv2B,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,qCACI,qBAAKK,UAAWL,EAAQw2B,eAAxB,SACI,qBACIn2B,UAAWL,EAAQy2B,aACnB1xB,IAAK1C,KAAKI,MAAMiyB,YAAcryB,KAAKI,MAAMiyB,YAAc,GACvDgC,OAAS3uB,IAAQ1F,KAAKqzB,yBAAyB3tB,IAC/C7C,IAAK,OAGb,sBAAK7E,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQoqB,KAAtD,UACI,oBAAI/pB,UAAWC,IAAWN,EAAQpD,UAAlC,SAA8CyF,KAAKI,MAAMmyB,gBAAkBvyB,KAAKI,MAAMmyB,gBAAgBl8B,KAAO,KAC7G,sBAAK2H,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,sBAAuBlnB,EAAQ22B,KAA3G,UACI,sBAAKt2B,UAAWL,EAAQpD,SAAxB,UAAmCyF,KAAKI,MAAMmyB,gBAAkBvJ,GAAYhpB,KAAKI,MAAMmyB,gBAAgB/K,gBAAkB,GAAzH,IAA6H,uBAAOxpB,UAAWL,EAAQ42B,gBAA1B,mBAA7H,OACA,qBAAKv2B,UAAWL,EAAQ62B,aAAxB,SAAuCx0B,KAAKI,MAAMmyB,gBAAkBvyB,KAAKI,MAAMmyB,gBAAgB5W,MAAQ,EAAI3b,KAAKtC,MAAMkC,UAAU,YAAcI,KAAKtC,MAAMkC,UAAU,aAAe,QAGrLI,KAAKwzB,kBACJt9B,QAAQC,IAAI6J,KAAKI,MAAMmyB,iBAEzB,cAAC,GAAD,CACIv0B,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQ22B,KAC3C51B,QAASsB,KAAK6zB,UACd/uB,UAAW9E,KAAKI,MAAMmyB,iBAAoBvyB,KAAKI,MAAMmyB,iBAAmBvyB,KAAKI,MAAMmyB,gBAAgBztB,SACnGlH,WAAS,EAJb,SAMKoC,KAAKtC,MAAMkC,UAAU,iBAG1B,4BACKI,KAAKI,MAAMmyB,gBAAkBvyB,KAAKI,MAAMmyB,gBAAgBpR,kBAAoB,KAGjF,cAAC,GAAD,CACInjB,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQ22B,KAC3C51B,QAASsB,KAAKg0B,sBACdp2B,WAAS,EAHb,SAKKoC,KAAKtC,MAAMkC,UAAU,yBAG1B,oBAAI5B,UAAWC,IAAYN,EAAQpD,SAAUoD,EAAQw0B,KAArD,SAA4DnyB,KAAKtC,MAAMkC,UAAU,2BAEjF,cAAC,KAAD,CAAMtI,WAAS,EAACwR,QAAS,GAAI9K,UAAWL,EAAQupB,IAAhD,SACKlnB,KAAK+zB,8BAIZ,cAAC,GAAD,CACEzwB,QAAStD,KAAKi0B,kBACd/B,OAAQlyB,KAAKI,MAAMoyB,yBA3MhB,KAiNnBzxB,YAAc,IAAMf,KAAKY,SAAS,CAAC6xB,cAAc,IA/M7CzyB,KAAKI,MAAQgyB,GAGjBtgB,oBACI9R,KAAKsmB,YAGTmO,qBACOz0B,KAAKI,MAAMsyB,eAAiB9tB,OAAOpD,SAAS6D,OAC3CrF,KAAKY,SAAL,2BAAkBwxB,IAAlB,IAAiCM,aAAc9tB,OAAOpD,SAAS6D,QAC/DrF,KAAKsmB,aAsMbjmB,SACI,OACI,qCACML,KAAKtC,MAAM0T,KAAK8hB,QAAQzlB,UACtB,qBAAKjP,MAAO,CAAE9G,SAAU,GAAxB,SACI,cAAC,KAAD,CAAgBe,MAAM,gBAE1BuH,KAAKk0B,sBAET,cAAC,IAAD,CACIQ,aAAc,CACVC,SAAU,SACVC,WAAY,QAEhBvxB,KAAMrD,KAAKI,MAAMqyB,aACjBoC,iBAAkB,IAClBvxB,QAAStD,KAAKe,YACd+zB,QAAS90B,KAAKtC,MAAMkC,UAAU,8BAC9Bm1B,OACI,cAAC,IAAMC,SAAP,UACI,cAAC,IAAD,CAAY7Z,KAAK,QAAQ1Q,aAAW,QAAQhS,MAAM,UAAUiG,QAASsB,KAAKe,YAA1E,SACI,cAAC,IAAD,CAAW5H,SAAS,oBAcrChF,SACXsJ,IACAd,sBA9SW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBuN,KAAM,CACFsG,gBAAiB,WAErBjF,QAAS,CACLxN,QAAS,GAEbk+B,eAAgB,CACZp5B,MAAO,OACPG,OAAQ,QACRwB,SAAU,SACV9B,SAAU,YAIdw5B,aAAc,CACVx5B,SAAU,WACVG,MAAO,OACPuB,IAAK,MACLD,KAAM,MACN44B,UAAW,wBAEfC,eAAgB,CACZt6B,SAAU,WACV3E,QAAS,IAEbk/B,aAAc,CACVv/B,OAAQ,EACRK,QAAS,EACTF,cAAe,EACfoD,SAAU,IAEdi8B,aAAc,CACVx/B,OAAQ,EACRK,QAAS,EACTkD,SAAU,GACVvC,QAAS,gBAEb29B,gBAAiB,CACb97B,MAAO,OACPU,SAAU,OAsQd0kB,GACA5Z,GACA9E,EACAqB,GANWrM,CAObw+B,IChUF,MAOMrlB,GAAa,CACjBjX,KAAM,GACNg/B,UAAW,KACXvwB,UAAU,EACVsgB,MAAO,EACPjwB,IAAK,GAGP,MAAMoZ,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAMnB43B,uBAAyB,CAACj/B,EAAMC,KAC9B0J,KAAKY,SAAS,CAAE,CAACvK,GAAO,CAAEqO,GAAIpO,MAPb,KAUnB8P,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAXP,KAcnBmP,aAdmB,wBAcJ,mCAAAjR,EAAA,2DAKT,EAAKkJ,MAAMwG,MAHbqxB,EAFW,EAEXA,aACAC,EAHW,EAGXA,kBACAC,EAJW,EAIXA,cAJW,UAQP,EAAKr1B,MAAMqP,IARJ,gCASHgmB,EAAc,EAAKr1B,OAThB,6CAWHm1B,EAAa,EAAKn1B,OAXf,OAaXo1B,IACA,EAAK50B,SAAS0M,IACV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAfzB,kDAiBX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAjBW,0DAXbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GAgCvBwE,oBAAqB,IAAD,6IAEd0K,EAAc,EAAK9e,MAAMwG,MAAzBsY,SACFnE,EAAS,CACb,CAAE7O,MAAO,aAAclT,MAAO,GAC9B,CAAEkT,MAAO,WAAYlT,OAAO,IALR,SAOhBkmB,EAASnE,GAPO,uDAStBniB,QAAQuT,MAAR,MATsB,2DAa1BpJ,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAEiC9E,KAAKI,MAArC/J,EAFD,EAECA,KAAM+uB,EAFP,EAEOA,MAAOjwB,EAFd,EAEcA,IAAKkgC,EAFnB,EAEmBA,UAClBxU,EAAU7gB,KAAKtC,MAAMwG,MAArB2c,MAER,OACE,eAAC,GAAD,CACE7Y,SAAUhI,KAAKyF,aACfwD,QAAM,EACNnE,SAAUA,EAHZ,UAKE,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACRnD,SAAUA,MAGd,cAAC,GAAD,CACExO,MAAO++B,EACP7rB,MAAM,YACNnB,SAAUrI,KAAKoG,aACf6J,KAAM4Q,EAAM5Q,KACZoC,UAAU,OACVvN,SAAUA,IAEZ,cAAC0O,GAAD,CACEld,MAAO8uB,EACP5b,MAAM,QACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACL7K,UAAQ,IAEV,cAACuL,GAAD,CACEld,MAAOnB,EACPqU,MAAM,MACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACLE,KAAM,EACN/K,UAAQ,IAEV,cAAC,GAAD,CACEsB,MAAM,GACNjT,MAAO0J,KAAKI,MAAM0E,SAClB0E,MAAM,WACNnB,SAAUrI,KAAKoG,mBAeVjS,SAAQwI,sBA/HR9H,IAAK,CAClBye,cAAe,CACb1c,QAAS,OACToW,KAAM,OA4HiC/I,GAAW9E,EAAvChL,CAAiDoa,IClIhE,MAAM2N,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,QAASlB,KAAM,OACxB,CAAEkB,MAAO,MAAOlB,KAAM,OACtB,CAAEkB,MAAO,WAAYlB,KAAM,SAG7B,MAAM8T,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YASnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KAVT,KAanByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAdP,KAiBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAlBP,KAqBnB7D,aArBmB,yCAqBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAMwG,MAAMolB,cAAcrT,EAASnC,EAAMoE,EAAM7X,GAFtD,wEAKX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MALW,wDArBI,iEA8BnBoR,OA9BmB,yCA8BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA9BU,2DAkCnBsO,WAAanjB,IACJ,EAhCP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAiCZ5J,SAAU,MACAq1B,EAAoB11B,KAAKtC,MAAMwG,MAA/BwxB,gBACA91B,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,aACL5H,SAAUrI,KAAKoG,aACfyO,SAAU6gB,EACV3wB,MAAOnF,EAAU,cACjB2X,OAAQvX,KAAKuX,OACbrT,MAAOlE,KAAKtC,MAAMwG,MAClB+R,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,eAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,aACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CACEgG,KAAMjQ,KAAKI,MAAMhL,EACjB4S,SAAUhI,KAAKe,oBAQZ5M,SACb8P,GACA9E,EACAqB,GAHarM,CAIbioB,ICtDajoB,SACbwI,sBA5Ba9H,GAAK,2BACbwC,EAAgBxC,IADH,IAElB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UA0BzB5J,EAFahL,EApBf,SAAsBuJ,GAAQ,MACnBC,EAAWD,EAAXC,QACT,OACE,eAAC,KAAD,CAAMrG,WAAS,EAAf,UACE,cAAC,KAAD,CAAM0P,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAIjJ,UAAWL,EAAQ+e,GAAtC,SACE,cAAC,GAAD,Y,mBCzBD,MAAMiZ,GAAI,yCAAG,WAAO1lB,GAAP,UAAAzb,EAAA,+EAEHohC,QAAKD,KAAK1lB,GAFP,2IAAH,sDA4BX4lB,GAAW,IACRC,WAAQC,UAAUC,aAGrBC,GAAaC,IACjBhgC,QAAQC,IAAI,cAAe+/B,IAGvBC,GAAgBD,IACpBhgC,QAAQC,IAAI,iBAAkB+/B,ICjBhC,MAAME,WAA4Bn3B,IAAMQ,UACpCC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAWnB24B,eAXmB,yCAWF,WAAM/I,GAAN,kBAAA94B,EAAA,6DACL8K,EAAS,EAAK5B,MAAM4B,KAApBA,KACF2Q,EAAO,CACTqmB,QAAS,EAAK54B,MAAMkC,UAAU,wBAC9B6G,KAAMnC,GAAOsxB,KAAKjoB,QAClB4oB,SAAUjyB,GAAOsxB,KAAKv/B,KACtBmgC,aAAc,CACV9xB,GAAIpF,EAAKmQ,KAEbgnB,WAAYnyB,GAAOsxB,KAAKc,mBACxB3D,OAAQ,CAACzzB,EAAKjJ,KAAMi3B,IAVX,SAYPqJ,GAAe1mB,GAZR,2CAXE,2DA0BnBqW,UA1BmB,wBA0BP,iCAAA9xB,EAAA,2DACFoiC,EAAQ,IAAIjlB,gBAAgB,EAAKjU,MAAM8D,SAASoQ,SAD9C,sBAGElN,EAAKkyB,EAAM/kB,IAAI,OAHjB,iCAKqB,EAAKnU,MAAM0T,KAAKylB,YAAYnyB,GALjD,YAKMsL,EALN,4BAOI,EAAKpP,SAAS,CAACk2B,WAAW,IAC1B,EAAKp5B,MAAM0T,KAAK2lB,sBAEb/mB,EAAOsd,OAVd,kCAWc,EAAK+I,eAAermB,EAAOsd,OAAO0J,MAXhD,4CA1BO,KA4CnBvF,UAAY,IAAMzxB,KAAKtC,MAAMkB,QAAQC,KAAnB,UA5CC,KA8CnBwB,OAAS,KAAO,MACJ1C,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,mCACI,sBAAKK,UAAWC,IAAWN,EAAQO,QAASP,EAAQrG,WAApD,UAEQ0I,KAAKtC,MAAM0T,KAAK4Y,SAASvc,UAAa,cAAC,KAAD,IAClC,qCACI,qBAAKzP,UAAWC,IAAWN,EAAQi0B,IAAKj0B,EAAQY,YAAhD,SACI,qBAAKP,UAAWL,EAAQk0B,aAAchvB,IAAI,GAAGH,IAAK1C,KAAKI,MAAM02B,UAAY,yFAA2F,kEAExK,qBAAK94B,UAAWC,IAAWN,EAAQY,WAAYZ,EAAQinB,KAAvD,SACK5kB,KAAKtC,MAAMkC,UAAUI,KAAKI,MAAM02B,UAAY,sBAAwB,uBAMrF,cAAC,GAAD,CACI94B,UAAWC,IAAWN,EAAQinB,KAC9BlmB,QAASsB,KAAKyxB,UACd7zB,WAAS,EAHb,SAKKoC,KAAKtC,MAAMkC,UAAU,uBAnEtCI,KAAKI,MAAQ,CACT02B,WAAW,GAInBhlB,oBACI9R,KAAKsmB,aAsEEnyB,SACXwI,sBAvFW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBg9B,aAAc,CACV92B,MAAO,WAqFXyF,GACAyD,GACA4Z,GACA1e,EACA1B,IANWtJ,CAObiiC,IC9FF,MAOM9oB,GAAa,CACjBjX,KAAM,GACN+e,YAAa,GACb6hB,WAAY,GACZC,SAAU,KACVpZ,WAAY,EACZqZ,MAAO,IAAI7xB,KACXyhB,IAAK,IAAIzhB,KACT4Y,KAAM,KACNC,WAAY,KACZqF,MAAO,KACP4T,OAAQ,MAGV,MAAM7oB,WAAoBtP,IAAMQ,UAC9BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAgBnB0I,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,SAAS,CAAE,CAACvK,GAAOC,KAjBP,KAoBnB+gC,uBAAyB,CAAChhC,EAAMC,KAC9B,MAAMm0B,EAAIn0B,EAAMuL,KAAKzM,IAAD,CAAUsP,GAAItP,MAClC4K,KAAKY,SAAS,CAAE,CAACvK,GAAOo0B,KAtBP,KAyBnB6M,qBAAuB,CAACjhC,EAAMC,KAC5B0J,KAAKY,SAAS,CAAE,CAACvK,GAAO,CAAEqO,GAAIpO,MA1Bb,KA6BnBmP,aA7BmB,wBA6BJ,mCAAAjR,EAAA,2DAC8C,EAAKkJ,MAAM0T,KAA9DmmB,EADK,EACLA,aAAcC,EADT,EACSA,kBAAmBC,EAD5B,EAC4BA,cAD5B,UAIP,EAAKr3B,MAAMqP,IAJJ,gCAKHgoB,EAAc,EAAKr3B,OALhB,6CAOHm3B,EAAa,EAAKn3B,OAPf,OAUXo3B,IACA,EAAK52B,SAAS0M,IAEV,EAAK5P,MAAMsK,UAAU,EAAKtK,MAAMsK,WAbzB,kDAeX,EAAKtK,MAAM4B,KAAK6G,UAAhB,MAfW,0DA3BbnG,KAAKI,MAAQ1C,EAAMuS,MAAQ3C,GAGvBwE,oBAAqB,IAAD,iJAEY,EAAKpU,MAAM0T,KAArCsN,EAFc,EAEdA,WAAYK,EAFE,EAEFA,UAFE,SAIhBL,IAJgB,uBAKhBK,IALgB,uDAOtB7oB,QAAQuT,MAAR,MAPsB,2DA2C1BpJ,SAAU,MAAD,EACuBL,KAAKtC,MAA3BC,EADD,EACCA,QAASmH,EADV,EACUA,SADV,EAcH9E,KAAKI,MAXP/J,EAHK,EAGLA,KACA+e,EAJK,EAILA,YACA+hB,EALK,EAKLA,MACApQ,EANK,EAMLA,IACAkQ,EAPK,EAOLA,WACAC,EARK,EAQLA,SACApZ,EATK,EASLA,WACAI,EAVK,EAULA,KACAC,EAXK,EAWLA,WACAqF,EAZK,EAYLA,MACA4T,EAbK,EAaLA,OAbK,EAeqBp3B,KAAKtC,MAAM0T,KAA/BsmB,EAfD,EAeCA,QAASC,EAfV,EAeUA,OAEjB,OACE,eAAC,GAAD,CAAM3vB,SAAUhI,KAAKyF,aAAcwD,QAAM,EAACnE,SAAUA,EAApD,UACE,cAACyO,GAAD,CACEjd,MAAOD,EACPmT,MAAM,OACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACRnD,SAAUA,IAEZ,qBAAK9G,UAAWL,EAAQ2V,cAAxB,SACE,cAACC,GAAD,CACEjd,MAAO8e,EACP5L,MAAM,cACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,EACR1D,WAAS,EACTO,SAAUA,MAGd,cAAC,GAAD,CACExO,MAAO4gC,EAAWA,EAASxyB,GAAK,KAChC8E,MAAM,WACNnB,SAAUrI,KAAKs3B,qBACfrnB,KAAM0nB,EAAO1nB,KACboC,UAAU,OACVpK,UAAQ,EACRkM,QAAQ,KACRrP,SAAUA,IAGZ,cAAC0O,GAAD,CACEld,MAAOwnB,EACPtU,MAAM,aACNnB,SAAUrI,KAAKoG,aACf0M,IAAK,EACLC,IAAK,EACLC,KAAM,EACN/K,UAAQ,IAGV,cAAC2O,GAAD,CACEtgB,MAAO6gC,EACP3tB,MAAM,QACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,IAGV,cAAC2O,GAAD,CACEtgB,MAAOywB,EACPvd,MAAM,MACNnB,SAAUrI,KAAKoG,aACf6B,UAAQ,IAGV,qBAAKjK,UAAWL,EAAQ2V,cAAxB,SACE,cAAC,GAAD,CACEhd,MAAO2gC,EAAWp1B,KAAKzM,GAAMA,EAAEsP,KAC/B8E,MAAM,aACNnB,SAAUrI,KAAKq3B,uBACf9yB,WAAS,EACT0L,KAAMynB,EAAQznB,KACdoC,UAAU,OACVpK,UAAQ,EACRqK,UAAQ,EACR6B,QAAQ,KACRrP,SAAUA,MAId,cAACyZ,GAAD,CACEd,SAAS,aACTnnB,MAAO4nB,EACP1U,MAAM,OACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAAO3K,EAC5B5J,OAAQoJ,GAAOka,YAGjB,cAACD,GAAD,CACEd,SAAS,aACTnnB,MAAO6nB,EACP3U,MAAM,aACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAAO3K,EAC5B5J,OAAQoJ,GAAOma,gBAGjB,cAACF,GAAD,CACEd,SAAS,YACTnnB,MAAOktB,EACPha,MAAM,QACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAAO3K,IAG9B,cAACyZ,GAAD,CACEd,SAAS,aACTnnB,MAAO8gC,EACP5tB,MAAM,SACNnB,SAAUrI,KAAKoG,aACftB,SAAU9E,KAAKI,MAAMqP,KAAO3K,EAC5B5J,OAAQoJ,GAAOszB,gBAeVzjC,SACbwI,sBA5Mc9H,IAAD,CACbye,cAAe,CACb1c,QAAS,OACToW,KAAM,OA0MR6Q,GACA1e,EACA8E,GAJa9P,CAKboa,ICrNF,MAAM2N,GAAO,CACX,CAAE1S,MAAO,OAAQ4K,gBAAgB,GACjC,CAAE5K,MAAO,eACT,CAAEA,MAAO,QAASlB,KAAM,QACxB,CAAEkB,MAAO,MAAOlB,KAAM,QACtB,CAAEkB,MAAO,QAGX,MAAM4S,WAAqBnd,IAAMQ,UAC/BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAQnB2e,mBAAqB,CAAChmB,EAAMC,KAC1B0J,KAAKY,SAAS,CAAE0b,SAAUhmB,KATT,KAYnByK,YAAc,KACZf,KAAKY,SAAS,CAAEqJ,QAAQ,KAbP,KAgBnBsS,WAAa,KACXvc,KAAKY,SAAS,CAAEqJ,QAAQ,KAjBP,KAoBnB7D,aApBmB,yCAoBJ,WAAO6P,EAASiC,EAAMpE,EAAMzT,GAA5B,UAAA7L,EAAA,+EAEE,EAAKkJ,MAAM0T,KAAKmV,cAActQ,EAASnC,EAAMoE,EAAM7X,GAFrD,wEAIX,EAAK3C,MAAM4B,KAAK6G,UAAhB,MAJW,wDApBI,iEA4BnBoR,OA5BmB,yCA4BV,WAAOniB,GAAP,UAAAZ,EAAA,sDACP,EAAKoM,SAAS,CAAExL,IAAG6U,QAAQ,IADpB,2CA5BU,2DAgCnBsO,WAAcnjB,IACL,EA/BP4K,KAAKI,MAAQ,CACXhL,EAAG,KACH6U,QAAQ,GAgCZ5J,SAAU,MACAw3B,EAAoB73B,KAAKtC,MAAM0T,KAA/BymB,gBACAj4B,EAAcI,KAAKtC,MAAnBkC,UAER,OACE,gCACE,cAAC,GAAD,CACEgK,KAAMsS,GACNjM,KAAK,aACL5H,SAAUrI,KAAKoG,aACfyO,SAAUgjB,EACV9yB,MAAOnF,EAAU,oBACjB2X,OAAQvX,KAAKuX,OACbrT,MAAK,2BAAOlE,KAAKtC,MAAM0T,MAASpR,KAAKtC,MAAMwG,OAC3C+R,QAAS,GACTsC,WAAYvY,KAAKuY,WACjBxM,SAAS,eAEX,cAAC,GAAD,CACEhH,MAAOnF,EAAU,mBACjB0D,QAAStD,KAAKe,YACdkJ,OAAQjK,KAAKI,MAAM6J,OAHrB,SAKE,cAAC,GAAD,CAAMgG,KAAMjQ,KAAKI,MAAMhL,EAAG4S,SAAUhI,KAAKe,oBAOpC5M,SACb8P,GACA4Z,GACA1e,EACAqB,GAJarM,CAKbioB,ICvDajoB,SACbwI,sBA1Ba9H,IAAK,CAClB0O,MAAO,CACLtN,QAASpB,EAAMiU,QAAQC,UAyBzB5J,EAFahL,EAnBf,SAAsBuJ,GACpB,OACE,eAAC,KAAD,CAAMpG,WAAS,EAACwR,QAAS,GAAzB,UACE,cAAC,KAAD,CAAM9B,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,KAAD,CAAOjJ,UAAWN,EAAMC,QAAQ4F,MAAhC,SACE,cAAC,GAAD,QAGJ,cAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,Y,yCCuKO9S,SAAQwI,sBAzLP9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAEbijC,iBAAkB,CAChB/8B,MAAO,OACPG,OAAQ,OACRtD,aAAc,OACd8E,SAAU,SACV9B,SAAU,YAEZm9B,WAAY,CACVh9B,MAAO,OACPG,OAAQ,OACRN,SAAU,WACV0B,IAAK,IACLD,KAAM,IACNG,UAAW,SAEbw7B,eAAgB,CACdj9B,MAAO,OACPG,OAAQ,QACRlD,WAAY,kBACZ0E,SAAU,SACV9B,SAAU,YAEZq9B,QAAS,CACPl9B,MAAO,OACPG,OAAQ,OACRN,SAAU,WACVyB,KAAM,EACN67B,MAAO,EACP17B,UAAW,SAEb27B,SAAU,CACRngC,WAAY,eAwJ2BwI,GAA5BrM,EAhJf,SAAsBuJ,GAAQ,MACpBC,EAAYD,EAAZC,QACFy6B,EAAe,IAAI9yB,KAAK5H,EAAM06B,cAEpC,OACE,qBAAKp6B,UAAWC,IAAWP,EAAMM,UAAWL,EAAQw6B,SAAUx6B,EAAQ06B,KAAtE,SACE,sBAAKr6B,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,UACE,qBAAKkD,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQ7C,KACR6C,EAAQrC,iBACRqC,EAAQknB,uBALZ,UAQE,sBACE7mB,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQknB,uBAJZ,UAOE,qBAAK7mB,UAAWC,IAAWN,EAAQm6B,kBAAnC,SACE,qBACEj1B,IAAI,YACJH,IACEhF,EAAM6J,OACF,0BAA4B7J,EAAM6J,OAClC,qBAENvJ,UAAWC,IAAWN,EAAQo6B,gBAGlC,sBAAK/5B,UAAWC,IAAWN,EAAQO,QAASP,EAAQ6uB,KAApD,UACE,qBAAKxuB,UAAWC,IAAWN,EAAQpE,QAAnC,SACGmE,EAAM46B,WAET,qBAAKt6B,UAAWC,IAAWN,EAAQW,QAASX,EAAQ3D,SAApD,SACG0D,EAAM66B,cAET,qBAAKv6B,UAAWC,cAGpB,2CAIJ,qBAAKD,UAAWC,IAAWN,EAAQq6B,eAAgBr6B,EAAQoqB,KAA3D,SACE,qBACEllB,IAAI,YACJH,IACEhF,EAAM0J,MACF,0BAA4B1J,EAAM0J,MAClC,qBAENpJ,UAAWL,EAAQs6B,YAIvB,qBAAKj6B,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQoqB,KAAtD,SACE,sBAAK/pB,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,UACE,sBACEkD,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQknB,uBAJZ,UAOE,sBACE7mB,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,kBAHZ,UAME,wCACA,sBAAK0C,UAAWC,IAAWN,EAAQ66B,QAAS76B,EAAQ6uB,KAApD,UACE,qBAAKxuB,UAAWC,IAAWN,EAAQpE,QAAnC,SACGmE,EAAM+6B,aAET,qBAAKz6B,UAAWC,IAAWN,EAAQW,QAASX,EAAQ3D,SAApD,mBACM0D,EAAMg7B,gBADZ,2BApFGC,EAsFCP,EArFd,GAAN,OAAUO,EAAKC,UAAf,YAA4BD,EAAK1R,WAAa,EAA9C,YAAmD0R,EAAKpzB,yBA0F5C,sBACEvH,UAAWC,IACTN,EAAQk7B,SACRl7B,EAAQrC,kBAHZ,UAME,qBAAK0C,UAAWC,IAAWN,EAAQpE,QAAnC,SACGmE,EAAMo7B,gBAET,qBACE96B,UAAWC,IACTN,EAAQW,QACRX,EAAQ3D,QACR2D,EAAQivB,WAJZ,mBAMKlvB,EAAMq7B,yBANX,YAMuCr7B,EAAMs7B,6BAGjD,qBAAKh7B,UAAWC,IAAWN,EAAQW,QAASX,EAAQmB,KAApD,SACGpB,EAAM0X,cAET,sBACEpX,UAAWC,IACTN,EAAQ7C,KACR6C,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQknB,sBACRlnB,EAAQmB,KANZ,UASE,sBAAKd,UAAWC,MAAhB,mBAAqCP,EAAMu7B,cAC3C,qBAAKj7B,UAAWC,MAAhB,sBACA,qBAAKD,UAAWC,MAAhB,gCA3HO06B,SCErB,MAAMO,WAAaj6B,IAAMQ,UACrBC,YAAYhC,GACRiC,MAAMjC,GADS,KAYnBy7B,gBAAkB,CAACx4B,EAAOy4B,KACtBp5B,KAAKY,SAAS,CAACy4B,WAAYD,KAbZ,KAgBnBE,oBAAsB,KAAO,MACjB37B,EAAYqC,KAAKtC,MAAjBC,QAGR,MAFoB,CAAC,EAAE,EAAE,EAAE,GAENkE,KAAI03B,GAEjB,cAAC,GAAD,CAAcv7B,UAAWC,IAAWN,EAAQ22B,UAtBrC,KA2BnBkF,WAAa,KACTtjC,QAAQC,IAAI,OACZ6J,KAAKY,SAAS,CAAC64B,YAAY,KA7BZ,KAgCnBC,aAAe,KACX15B,KAAKY,SAAS,CAAC64B,YAAY,KA/B3Bz5B,KAAKI,MAAQ,CACTi5B,WAAY,EACZI,YAAY,GAIpB3nB,qBA4BAzR,SAAU,MACE1C,EAAYqC,KAAKtC,MAAjBC,QAER,OACI,qCACG,eAAC,KAAD,CACKrG,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJhB,UAMK,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQg8B,IAAKh8B,EAAQi8B,IAAKj8B,EAAQ5F,SAA3E,SACI,qBAAKiG,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,sBAAK0G,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,qBAAK0C,UAAWC,IAAWN,EAAQjG,UAAnC,SACI,eAAC,KAAD,CACIpB,MAAO0J,KAAKI,MAAMi5B,WAClBhxB,SAAUrI,KAAKm5B,gBACf1uB,aAAW,sBACXvH,QAAQ,YACRvF,QAAS,CAACyE,KAAMzE,EAAQk8B,gBAAiBC,UAAW77B,IAAWN,EAAQo8B,aAAcp8B,EAAQ9F,YAC7FmG,UAAWC,IAAWN,EAAQ9F,WANlC,UAQI,cAAC,KAAD,CACI0R,MAAM,WAEN5L,QAAS,CAAC8U,SAAU9U,EAAQq8B,YAAa53B,KAAMnE,IAAWN,EAAQW,QAASX,EAAQtD,WAAYsD,EAAQrI,eAE3G,cAAC,KAAD,CACIiU,MAAM,SAEN5L,QAAS,CAAC8U,SAAU9U,EAAQq8B,YAAa53B,KAAMnE,IAAWN,EAAQW,QAASX,EAAQtD,WAAYsD,EAAQrI,eAE3G,cAAC,KAAD,CACIiU,MAAM,OAEN5L,QAAS,CAAC8U,SAAU9U,EAAQq8B,YAAa53B,KAAMnE,IAAWN,EAAQW,QAASX,EAAQtD,WAAYsD,EAAQrI,oBAInH,qBAAK0I,UAAWC,IAAWN,EAAQs8B,iBAAkBt8B,EAAQivB,WAAYluB,QAASsB,KAAKw5B,WAAvF,yBAOZ,cAAC,KAAD,CAAMxyB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,MAA9B,SACK+B,KAAKs5B,2BAIZt5B,KAAKI,MAAMq5B,YAAc,qBAAKz7B,UAAWC,IAAWN,EAAQu8B,eAAnC,SACvB,sBAAKl8B,UAAWC,IAAWN,EAAQrG,WAAnC,UACI,qBAAK0G,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQgnB,OAAQhnB,EAAQoqB,KAArE,oBAGA,cAAC,GAAD,CAAQnqB,WAAS,EAACc,QAASsB,KAAK05B,aAAhC,oCAQTvlC,SACXwI,sBArIY9H,GAAD,YAAC,eACTwC,EAAgBxC,IADR,IAEXolC,iBAAkB,CACdl/B,MAAO,QAEX8+B,gBAAiB,CACb7hC,WAAY,UACZyC,OAAQ,qBAEZs/B,aAAc,CACV7+B,OAAQ,OACRlD,WAAY,WAEhBgiC,YAAa,CACTz9B,OAAQ,EACR9D,MAAO,SAEXyhC,cAAe,CACXt/B,SAAU,QACVM,OAAQ,OACRH,MAAO,OACP/C,WAAY,UACZsE,IAAK,EACLD,KAAM,EACNE,OAAQ,GACR1G,WAAY,YA6GhBsJ,EACAqB,GACA/C,IAJWtJ,CAKb+kC,IClJF,MAiBMiB,GAAexB,GACb,GAAN,OAAUA,EAAKC,UAAf,YAA4BD,EAAK1R,WAAa,EAA9C,YAAmD0R,EAAKpzB,eAwG3CpR,SAAQwI,sBA1HP9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAEbulC,cAAe,CACbpiC,WAAY,UACZS,MAAO,SAET4hC,SAAU,CACR5hC,MAAO,yBAET6hC,aAAc,CACZv/B,MAAO,OACPG,OAAQ,MACRtD,aAAc,MACdI,WAAY,eA6GD7D,EA/Ef,SAAyBuJ,GAAQ,MACvBC,EAAYD,EAAZC,QADsB,EAtBZ,EAAC48B,EAAWC,KAC9B,MAAMC,EAAW,IAAIn1B,KAAKi1B,GACpBG,EAAS,IAAIp1B,KAAKk1B,GAGlBG,EAA0B,IAAIr1B,KAASo1B,EAAOE,UAC9CC,EAAmB9f,KAAKkO,MAC5BlO,KAAK+f,IAAIH,GAAT,OAEII,EAAoBhgB,KAAKkO,MAAM0R,EAAuB,MACtDK,EAAsBjgB,KAAKkO,MAAM0R,EAAuB,KAE9D,MAAO,CACLF,SAAUN,GAAYM,GACtBC,OAAQP,GAAYO,GACpBO,UACuB,IAArBJ,EACIA,EAAmB,SADvB,UAEOE,EAFP,aAE6BC,EAF7B,SAQoCE,CACtCx9B,EAAM+8B,SACN/8B,EAAMg9B,QAFAD,EAFsB,EAEtBA,SAAUC,EAFY,EAEZA,OAAQO,EAFI,EAEJA,UAK1B,OACE,mCACE,qBACEj9B,UAAWC,IACTN,EAAQy8B,cACRz8B,EAAQ9F,UACR8F,EAAQ+mB,GACRhnB,EAAMM,WALV,SAQE,sBAAKA,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,UACE,sBACEkD,UAAWC,IACTN,EAAQQ,MACRR,EAAQknB,sBACRlnB,EAAQ7C,MAJZ,UAOE,sBAAKkD,UAAWC,IAAWN,EAAQO,SAAnC,UACE,qBACEF,UAAWC,IACTN,EAAQnF,UACRmF,EAAQw9B,WACRx9B,EAAQpD,SACRoD,EAAQquB,KALZ,SAQGtuB,EAAMrH,OAET,qBAAK2H,UAAWC,IAAWN,EAAQ08B,SAAU18B,EAAQW,SAArD,mBACMm8B,EADN,cACoBC,QAGtB,sBAAK18B,UAAWC,IAAWN,EAAQO,SAAnC,UACE,qBAAKF,UAAWC,IAAWN,EAAQY,YAAnC,mBACA,qBAAKP,UAAWC,IAAWN,EAAQW,SAAnC,SAA8C28B,UAGlD,sBACEj9B,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,KAAM6C,EAAQinB,KAD/D,UAGE,sBACE5mB,UAAWC,IACTN,EAAQQ,MACRR,EAAQknB,sBACRlnB,EAAQ7C,MAJZ,UAOE,qBAAKkD,UAAWC,IAAWN,EAAQW,SAAnC,2BACA,qBAAKN,UAAWC,IAAWN,EAAQW,SAAnC,mBACMZ,EAAM09B,gBADZ,YAC+B19B,EAAM29B,iBAGvC,qBAAKr9B,UAAWC,IAAWN,EAAQupB,KAAnC,SACE,qBAAKlpB,UAAWC,IAAWN,EAAQ28B,+BC3GjD,MAAMgB,GAAch3B,GAAOG,IAAI2M,KAAO,cAEzBgN,GAAS,yCAAG,WAAOnO,GAAP,gBAAAzb,EAAA,mEAEjByb,EAAKiO,KAFY,gCAGDha,SAAM2G,SAASoF,EAAKiO,MAHnB,OAGbqd,EAHa,OAInBtrB,EAAK4iB,QAAU0I,EAAI9rB,IACnBQ,EAAKiO,KAAO,KALO,WAOjBjO,EAAKkO,WAPY,kCAQDja,SAAM2G,SAASoF,EAAKkO,YARnB,QAQbod,EARa,OASnBtrB,EAAKyX,YAAc6T,EAAI9rB,IACvBQ,EAAKkO,WAAa,KAVC,yBAYfqd,QAAKjC,KAAK+B,GAAarrB,GAZR,+HAAH,sDA0BTqO,GAAU,yCAAG,WAAOrO,GAAP,UAAAzb,EAAA,+EAEhBgnC,QAAKC,IAAIH,GAAarrB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQViP,GAAU,yCAAG,WAAOzI,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEfgnC,QAAK3pB,IAAIypB,GAAarlB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAQVyG,GAAY,yCAAG,WAAOja,GAAP,UAAAlQ,EAAA,+EAElBgnC,QAAKE,QAAQJ,GAAa52B,GAFR,yHAAH,sDAQnBi3B,GAAiBr3B,GAAOG,IAAI2M,KAAO,iBAE5BmmB,GAAY,yCAAG,WAAOtnB,GAAP,gBAAAzb,EAAA,mEAEpByb,EAAKiO,KAFe,gCAGJha,SAAM2G,SAASoF,EAAKiO,MAHhB,OAGhBqd,EAHgB,OAItBtrB,EAAK4iB,QAAU0I,EAAI9rB,IACnBQ,EAAKiO,KAAO,KALU,WAOpBjO,EAAKkO,WAPe,kCAQJja,SAAM2G,SAASoF,EAAKkO,YARhB,QAQhBod,EARgB,OAStBtrB,EAAKyX,YAAc6T,EAAI9rB,IACvBQ,EAAKkO,WAAa,KAVI,YAYpBlO,EAAKuT,MAZe,kCAaJtf,SAAM2G,SAASoF,EAAKuT,OAbhB,QAahB+X,EAbgB,OActBtrB,EAAK4gB,OAAS0K,EAAI9rB,IAClBQ,EAAKuT,MAAQ,KAfS,YAiBpBvT,EAAKmnB,OAjBe,kCAkBJlzB,SAAM2G,SAASoF,EAAKmnB,QAlBhB,QAkBhBmE,EAlBgB,OAmBtBtrB,EAAK2rB,QAAUL,EAAI9rB,IACnBQ,EAAKmnB,OAAS,KApBQ,yBAuBlBoE,QAAKjC,KAAKoC,GAAgB1rB,GAvBR,+HAAH,sDA0CZwnB,GAAa,yCAAG,WAAOxnB,GAAP,UAAAzb,EAAA,+EAEnBgnC,QAAKC,IAAIE,GAAgB1rB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQb8W,GAAa,yCAAG,WAAOtQ,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAElBgnC,QAAK3pB,IAAI8pB,GAAgB1lB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAQb2f,GAAe,yCAAG,WAAOnzB,GAAP,UAAAlQ,EAAA,+EAErBgnC,QAAKE,QAAQC,GAAgBj3B,GAFR,yHAAH,sDAStBm3B,GAAev3B,GAAOG,IAAI2M,KAAO,eAE1BqQ,GAAU,yCAAG,WAAOxR,GAAP,gBAAAzb,EAAA,mEAElByb,EAAKiO,KAFa,gCAGFha,SAAM2G,SAASoF,EAAKiO,MAHlB,OAGdqd,EAHc,OAIpBtrB,EAAK4iB,QAAU0I,EAAI9rB,IACnBQ,EAAKiO,KAAO,KALQ,WAOlBjO,EAAKkO,WAPa,kCAQFja,SAAM2G,SAASoF,EAAKkO,YARlB,QAQdod,EARc,OASpBtrB,EAAKyX,YAAc6T,EAAI9rB,IACvBQ,EAAKkO,WAAa,KAVE,eAYlBlO,EAAKsR,cACPtR,EAAKsR,YAActR,EAAKsR,YAAY1f,KAAKmuB,IAAD,CACtCtrB,GAAIsrB,OAdc,UAkBhBwL,QAAKjC,KAAKsC,GAAc5rB,GAlBR,+HAAH,sDAwBV6rB,GAAU,yCAAG,WAAOp3B,GAAP,UAAAlQ,EAAA,+EAETgnC,QAAKO,QAAQF,GAAcn3B,GAFlB,2IAAH,sDAQVsuB,GAAsB,yCAAG,WAAOtuB,GAAP,UAAAlQ,EAAA,+EAErBgnC,QAAKO,QAAL,UAAgBF,GAAhB,YAAwCn3B,GAFnB,2IAAH,sDAQtBid,GAAW,yCAAG,WAAO1R,GAAP,UAAAzb,EAAA,+EAEjBgnC,QAAKC,IAAII,GAAc5rB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQXoT,GAAW,yCAAG,WAAO5M,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEhBgnC,QAAK3pB,IAAIgqB,GAAc5lB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAgBlB8jB,GAAa13B,GAAOG,IAAI2M,KAAO,aAExB6qB,GAAQ,yCAAG,WAAOhsB,GAAP,UAAAzb,EAAA,sEAEpB0B,QAAQC,IAAI8Z,GAFQ,SAGPurB,QAAKjC,KAAKyC,GAAY/rB,GAHf,4IAAH,sDAiBR4mB,GAAW,yCAAG,WAAOqF,GAAP,UAAA1nC,EAAA,+EAEVgnC,QAAKjC,KAAL,UAAayC,GAAb,6BAA4CE,GAAa,IAF/C,2IAAH,sDASlBC,GAAa73B,GAAOG,IAAI2M,KAAO,cAExB2b,GAAmB,yCAAG,WAAOO,GAAP,UAAA94B,EAAA,+EAElBgnC,QAAKO,QAAQI,GAAY7O,GAFP,2IAAH,sDAS1B8O,GAAY93B,GAAOG,IAAI2M,KAAO,YAEvB8R,GAAO,yCAAG,WAAOjT,GAAP,gBAAAzb,EAAA,mEAEfyb,EAAKiO,KAFU,gCAGCha,SAAM2G,SAASoF,EAAKiO,MAHrB,OAGXqd,EAHW,OAIjBtrB,EAAK4iB,QAAU0I,EAAI9rB,IACnBQ,EAAKiO,KAAO,KALK,WAOfjO,EAAKkO,WAPU,kCAQCja,SAAM2G,SAASoF,EAAKkO,YARrB,QAQXod,EARW,OASjBtrB,EAAKyX,YAAc6T,EAAI9rB,IACvBQ,EAAKkO,WAAa,KAVD,yBAabqd,QAAKjC,KAAK6C,GAAWnsB,GAbR,+HAAH,sDA2BPmT,GAAQ,yCAAG,WAAOnT,GAAP,UAAAzb,EAAA,+EAEdgnC,QAAKC,IAAIW,GAAWnsB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQR4T,GAAQ,yCAAG,WAAOpN,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEbgnC,QAAK3pB,IAAIuqB,GAAWnmB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAQRoL,GAAU,yCAAG,WAAO5e,GAAP,UAAAlQ,EAAA,+EAEhBgnC,QAAKE,QAAQU,GAAW13B,GAFR,yHAAH,sDASjB23B,GAAa/3B,GAAOG,IAAI2M,KAAO,aAExBwN,GAAQ,yCAAG,WAAO3O,GAAP,UAAAzb,EAAA,+EAQdgnC,QAAKjC,KAAK8C,GAAYpsB,GARR,yHAAH,sDAuBR6O,GAAS,yCAAG,WAAO7O,GAAP,UAAAzb,EAAA,+EAEfgnC,QAAKC,IAAIY,GAAYpsB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQTsP,GAAS,yCAAG,WAAO9I,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEdgnC,QAAK3pB,IAAIwqB,GAAYpmB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAQT8G,GAAW,yCAAG,WAAOta,GAAP,UAAAlQ,EAAA,+EAEjBgnC,QAAKE,QAAQW,GAAY33B,GAFR,yHAAH,sDASlB43B,GAAeh4B,GAAOG,IAAI2M,KAAO,eAE1BqS,GAAU,yCAAG,WAAOxT,GAAP,gBAAAzb,EAAA,mEAElByb,EAAKuT,MAFa,gCAGFtf,SAAM2G,SAASoF,EAAKuT,OAHlB,OAGd+X,EAHc,OAIpBtrB,EAAK4gB,OAAS0K,EAAI9rB,IAClBQ,EAAKuT,MAAQ,KALO,uBAOhBgY,QAAKjC,KAAK+C,GAAcrsB,GAPR,8HAAH,sDAqBV0T,GAAW,yCAAG,WAAO1T,GAAP,UAAAzb,EAAA,+EAEjBgnC,QAAKC,IAAIa,GAAcrsB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQXoU,GAAW,yCAAG,WAAO5N,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEhBgnC,QAAK3pB,IAAIyqB,GAAcrmB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAQX4L,GAAa,yCAAG,WAAOpf,GAAP,UAAAlQ,EAAA,+EAEnBgnC,QAAKE,QAAQY,GAAc53B,GAFR,yHAAH,sDASpB63B,GAAWj4B,GAAOG,IAAI2M,KAAO,YAEtBmS,GAAQ,yCAAG,WAAOtN,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEbgnC,QAAK3pB,IAAI0qB,GAAUtmB,EAASnC,EAAMoE,IAFrB,mGAAH,0DAQR6d,GAAO,yCAAG,WAAOrxB,GAAP,UAAAlQ,EAAA,wFAEZgnC,QAAKO,QAAQQ,GAAU73B,IAFX,mGAAH,sDAQP83B,GAAU,yCAAG,WAAO93B,GAAP,UAAAlQ,EAAA,wFAEfgnC,QAAKjC,KAAL,UAAagD,GAAb,yBAAsC73B,GAAM,KAF7B,mGAAH,sDAQV+3B,GAAS,yCAAG,WAAOC,GAAP,UAAAloC,EAAA,wFAEdgnC,QAAKjC,KAAL,UAAaj1B,GAAOG,IAAI2M,KAAxB,mBAA+CsrB,IAFjC,mGAAH,sDAQTC,GAAY,yCAAG,WAAOj4B,GAAP,UAAAlQ,EAAA,wFAEjBgnC,QAAKE,QAAQa,GAAb,uBAAuC73B,KAFtB,mGAAH,sDASnBk4B,GAAat4B,GAAOG,IAAI2M,KAAO,aAExByrB,GAAQ,yCAAG,WAAO5sB,GAAP,UAAAzb,EAAA,+EAEdgnC,QAAKjC,KAAKqD,GAAY3sB,GAFR,yHAAH,sDAgBR6sB,GAAS,yCAAG,WAAO7sB,GAAP,UAAAzb,EAAA,+EAEfgnC,QAAKC,IAAImB,GAAY3sB,EAAMA,EAAKR,KAFjB,yHAAH,sDAQTstB,GAAS,yCAAG,WAAO9mB,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,wFAEdgnC,QAAK3pB,IAAI+qB,GAAY3mB,EAASnC,EAAMoE,IAFtB,mGAAH,0DAQT8kB,GAAW,yCAAG,WAAOt4B,GAAP,UAAAlQ,EAAA,+EAEjBgnC,QAAKE,QAAQkB,GAAYl4B,GAFR,yHAAH,sD,mCCpcxB,SAASu4B,GAAY7qB,GAAa,MACxB8qB,EAAuC9qB,EAAvC8qB,WAAYv/B,EAA2ByU,EAA3BzU,QAASkP,EAAkBuF,EAAlBvF,IAAQqQ,EADN,YACgB9K,EADhB,gCAG/B,OACE,cAAC,KAAD,aACE8qB,WAAU,aACRjgB,SAAUpQ,EACVlP,QAAS,CACPyE,KAAMzE,EAAQ2L,UACdK,MAAOhM,EAAQw/B,aAEdD,IAEDhgB,IA6DV,IAAIkgB,GAiFWzgC,6BA/GA9H,IAAK,CAClBuN,KAAM,CACJ1K,SAAU,GAEZJ,UAAW,CACTI,SAAU,EACVkD,SAAU,YAEZ2I,MAAO,CACL3I,SAAU,WACV2B,OAAQ,EACR/G,UAAWX,EAAMiU,QAAQC,KACzB1M,KAAM,EACN67B,MAAO,GAETmF,KAAM,CACJznC,OAAO,GAAD,OAAKf,EAAMiU,QAAQC,KAAO,EAA1B,cAAiClU,EAAMiU,QAAQC,KAAO,EAAtD,OAERO,UAAW,CACT7R,SAAU,QAEZ0lC,WAAY,CACVpiC,MAAO,OACPrD,SAAU,GAEZ4lC,QAAS,CACPpiC,OAA6B,EAArBrG,EAAMiU,QAAQC,SAqFXpM,EAhFf,SAA8Be,GAAQ,MAC5BC,EAAYD,EAAZC,QAaR,OACE,qBAAKK,UAAWL,EAAQyE,KAAxB,SACE,cAAC,KAAD,CACEm7B,aAAcv2B,GAAQA,EAAOA,EAAKtJ,EAAM2U,WAAa,GACrD3N,GAAG,mBACH2D,SAAW/R,GAAUoH,EAAM2K,SAAS3K,EAAM8L,MAAOlT,GACjDknC,mBAjBsBlnC,IACtB8mC,IACFK,aAAaL,IAGfA,GAASM,YAAW,KAClB,MAAMznB,EAAU,CAAC,CAAEzM,MAAO9L,EAAM2U,UAAW/b,QAAO6f,GAAI,UACtDzY,EAAMigC,eAAe1nB,KACpB,MAUC2nB,aAAclgC,EAAMpH,MALtB,SAOG,EACCunC,gBACAC,eACAC,eACAC,mBACAC,aACAh0B,SACA2zB,kBAEA,sBAAK5/B,UAAWL,EAAQrG,UAAxB,UACG2lC,GAAY,CACX14B,UAAW7G,EAAM6G,UACjB5G,UACA4L,MAAO7L,EAAM6L,MACbtB,SAAUvK,EAAMuK,SAChBnD,SAAUpH,EAAMoH,SAChBo4B,WAAYW,EAAc,CACxB3rB,YAAa,OAGjB,+CAAS6rB,KAAT,aACG9zB,EACC,cAAC,KAAD,CAAOjM,UAAWL,EAAQ4F,MAAO+D,QAAM,EAAvC,SACG5J,EAAMuS,KAAKpO,KAAI,CAACq8B,EAAY7oC,IAvG/C,UAA0B,WAAE6oC,EAAF,MAAc7oC,EAAd,UAAqB8oC,EAArB,iBAAgCH,EAAhC,aAAkDJ,EAAlD,UAAgEvrB,IACxF,MAAM+rB,EAAgBJ,IAAqB3oC,EACrC0jB,EAAa6kB,GAAgBM,EAAWzuB,MAAQmuB,EAAanuB,IAEnE,OACE,wBAAC,KAAD,2BACM0uB,GADN,IAEEhpC,IAAK+oC,EAAWzuB,IAChBgD,SAAU2rB,EACVx3B,UAAU,MACVpI,MAAO,CACL9E,WAAYqf,EAAa,IAAM,OAGhCmlB,EAAW7rB,IA0FEgsB,CAAiB,CACfH,aACA7oC,QACA8oC,UAAWL,EAAa,CAAE92B,KAAMk3B,IAChCF,mBACAJ,eACAvrB,UAAW3U,EAAM2U,gBAIrB,kBCrHlB,MAwFM2T,GAAkB,CACtBC,UAAW,OACXC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,GAGZ,MAAMkY,WAAgBr/B,IAAMQ,UAC1BC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAiBnB+Y,YAAengB,GACN,CACL,CACEkT,MAAO,aACP2M,GAAI,KACJ7f,UAtBa,KA0DnBioC,YA1DmB,yCA0DL,WAAOC,EAAQl/B,GAAf,gBAAA9K,EAAA,sDACNiqC,EAAWD,EAAO38B,KAAK68B,IACvBA,EAAEC,QAAUD,EAAEC,OAAO9L,SACvB,EAAKlL,QAAQ+W,EAAEC,OAAO9L,QAAS,EAAK+L,wBAAyBF,EAAEjvB,KAE1D,2BACFivB,GADL,IAEEpG,SAAUh5B,EAAKjJ,KACfkiC,YAAY,GAAD,OAAKj5B,EAAKsO,KAAV,YAAkBtO,EAAKwO,SAClCvG,OAAQjI,EAAKiI,YAIjB,EAAK3G,SAAS,CAAE69B,aAbJ,2CA1DK,6DA0EnBI,wBAA2BC,IAAc,MAC/BjY,EAA8BiY,EAA9BjY,WAAYkY,EAAkBD,EAAlBC,cAEpB,IAAIC,EAAuB,GACvBC,EAA0B,GAC1BF,IACFE,EAA0BF,EACvB1mB,QAAQqmB,GAAqB,OAAfA,EAAEQ,WAChBr9B,KAAK68B,IAAD,CAAUh6B,GAAIg6B,EAAEh6B,GAAIiX,MAAO+iB,EAAE/iB,WAGtCqjB,EAAuBC,EAAwBp9B,KAAKs9B,IAClD,MAAMC,EAAQvY,EAAWnlB,MAAMg9B,GAAMA,EAAEjvB,MAAQ0vB,EAAQz6B,KACvD,OAAO,2BACF06B,GADL,IAEEC,qBAAsBF,EAAQxjB,WAIlC3b,KAAKY,SAAS,CAAEo+B,0BA7FC,KAgGnBM,UAAaR,IAAc,MACjBjY,EAA8BiY,EAA9BjY,WAAYkY,EAAkBD,EAAlBC,cAEpB,IAAIQ,EAAS,GACTC,EAA2B,GAC3BT,IACFS,EAA2BT,EACxB1mB,QAAQqmB,GAAqB,OAAfA,EAAEQ,WAChBr9B,KAAK68B,GAAMA,EAAEh6B,MAGlB66B,EAASC,EAAyB39B,KAAK6C,IACrC,MAAM+6B,EAAQ5Y,EAAWnlB,MAAMg9B,GAAMA,EAAEjvB,MAAQ/K,IAG/C,OAFA1E,KAAK2nB,QAAQ8X,EAAM5O,OAAQ7wB,KAAK0/B,uBAAwBD,EAAMhwB,KAEvDgwB,KAGTz/B,KAAKY,SAAS,CAAE2+B,YAlHC,KAsHnB/C,WAtHmB,wBAsHN,6BAAAhoC,EAAA,sDACHib,EAAQ,EAAK/R,MAAMo1B,MAAMC,OAAzBtjB,IAER,EAAK/R,MAAM0T,KAAKorB,WAAW/sB,GAC3B,EAAK7O,SAAS,CAAE++B,yBAAyB,IAJ9B,2CAtHM,KA4HnBhD,aA5HmB,yCA4HJ,WAAOj4B,GAAP,gBAAAlQ,EAAA,sDACLib,EAAQ,EAAK/R,MAAMo1B,MAAMC,OAAzBtjB,IAER,EAAK/R,MAAM0T,KAAKurB,aAAaltB,GAC7B,EAAK7O,SAAS,CAAE++B,yBAAyB,IAJ5B,2CA5HI,2DAoInBD,uBAAyB,CAACE,EAASl7B,KACjC,MAAM66B,EAAS,IAAIv/B,KAAKI,MAAMm/B,QAE9Bv/B,KAAKY,SAAS,CACZ2+B,OAAQ,IACHA,EAAO19B,KAAKg+B,GACTA,EAAEpwB,MAAQ/K,EAAW,2BAAKm7B,GAAZ,IAAeD,YAC1BC,QA3II,KAgJnBjB,wBAA0B,CAACkB,EAAQp7B,KACjC,MAAM+5B,EAAW,IAAIz+B,KAAKI,MAAMq+B,UAEhCz+B,KAAKY,SAAS,CACZ69B,SAAU,IACLA,EAAS58B,KAAKg+B,GACXA,EAAEpwB,MAAQ/K,EAAW,2BAAKm7B,GAAZ,IAAeC,WAC1BD,QAvJI,KA6JnBlY,QA7JmB,yCA6JT,WAAOoY,EAAQC,EAAUC,GAAzB,kBAAAzrC,EAAA,mEAEFurC,EAFE,gCAGe,EAAKriC,MAAMwG,MAAMyjB,QAAQoY,GAHxC,OAGE9vB,EAHF,QAKAJ,EAAS,IAAIC,YACVC,UAAP,wBAAmB,uBAAAvb,EAAA,sDACjBwrC,EAASnwB,EAAOG,OAAQiwB,GADP,2CAGnBpwB,EAAOM,cAAcF,GATjB,yDAYN/Z,QAAQuT,MAAR,MAZM,0DA7JS,+DA6KnB+c,cAAiBC,IACXA,EAAUhX,KACZzP,KAAKtC,MAAMkB,QAAQC,KAAnB,8BAA+C4nB,EAAUhX,OA/K1C,KAkLnBywB,sCAlLmB,wBAkLqB,qCAAA1rC,EAAA,2DAC9BsqC,EAAa,EAAK1+B,MAAlB0+B,UAD8B,uBAI9BqB,EAAYrB,EAASjY,WAAWhlB,KAAK68B,GAAMA,EAAEjvB,MAC7C4I,EAAS,CACb,CAAE7O,MAAO,MAAOlT,OAAO,IAAIgP,MAAO86B,cAAejqB,GAAI,OANnB,SASR,EAAKzY,MAAM0T,KAAKmV,cAC1ClO,EACA,CAAE7O,MAAO,OAAQ8K,IAAK,OACtB,CAAE0E,MAAO,IAAMC,KAAM,IACrB,GAbkC,OAS9BonB,EAT8B,OAgB9BC,EAA+BD,EACjCA,EAAcpwB,KAAKoI,QAChBkoB,QAGOhuB,IAFN4tB,EAAUz+B,MACP8+B,GAAaA,EAAS/wB,MAAQ8wB,EAAa9wB,QAGlD,GAEJ,EAAK7O,SAAS,CAAE0/B,iCAzBoB,2CAlLrB,KA+MnBG,4BAA8B,CAACpqC,EAAMqqC,KACnC1gC,KAAK2gC,kBAAkBD,EAAOjxB,MAhNb,KAmNnBmxB,kCAnNmB,yCAmNiB,WAAOvoB,GAAP,UAAA7jB,EAAA,sEAC5B,EAAKkJ,MAAM4B,KAAKikB,SAASlL,GADG,2CAnNjB,2DAuNnBwoB,aAAe,KAAO,MACZljC,EAAYqC,KAAKtC,MAAjBC,QACR,OAAOqC,KAAKI,MAAMm/B,OAAO19B,KAAK49B,GAE1B,qBAAKzhC,UAAW,gBAAhB,SACE,sBACEA,UAAWC,IACTN,EAAQO,QACRP,EAAQmjC,UACRnjC,EAAQrC,kBAJZ,UAOE,qBACE0C,UAAWC,IACTN,EAAQojC,WACRpjC,EAAQpE,OACRoE,EAAQY,WACRZ,EAAQO,QACRP,EAAQU,qBACRV,EAAQoB,IACRpB,EAAQqjC,IACRrjC,EAAQi8B,KATZ,SAYG6F,EAAMppC,OAET,qBAAK2H,UAAWC,IAAWN,EAAQsjC,gBAAnC,SACE,qBACEp+B,IAAI,WACJH,IAAK+8B,EAAMG,QACX5hC,UAAWC,IAAWN,EAAQujC,sBArPzB,KA8PnBC,mBAAqB,KAAO,MAClBxjC,EAAYqC,KAAKtC,MAAjBC,QAER,OAAOqC,KAAKI,MAAM4+B,qBAAqBn9B,KAAK4kB,GAExC,cAAC2a,GAAD,CACEpjC,UAAWC,IAAWN,EAAQmB,KAC9BzI,KAAMowB,EAAUpwB,KAChBglC,WAAY5U,EAAUwQ,WAAW5iC,OACjC+mC,gBAAiB3U,EAAU4Y,qBAC3B5E,SAAUhU,EAAU0Q,MACpBuD,OAAQjU,EAAUM,SAzQP,KA+QnBH,iBAAmB,KAAO,MAChBjpB,EAAYqC,KAAKtC,MAAjBC,QAER,OAAOqC,KAAKI,MAAMkgC,6BAA6Bz+B,KAAK4kB,GAEhD,qBAAKzoB,UAAWC,IAAW,gBAAiBN,EAAQkyB,KAApD,SACE,cAAC,GAAD,CACE7xB,UAAWC,IAAWN,EAAQ4E,KAC9BwC,MAAO0hB,EAAUpwB,KACjB+e,YAAaqR,EAAUrR,YACvB6P,mBAAoB,IAAMjlB,KAAKwmB,cAAcC,GAC7C1B,gBAAiB,cA1RR,KAiSnBsc,eAAiB,KAAO,MACd1jC,EAAYqC,KAAKtC,MAAjBC,QADa,EAEsBqC,KAAKI,MAAxCq+B,EAFa,EAEbA,SAAUK,EAFG,EAEHA,SAAUwC,EAFP,EAEOA,WAE5B,OAAO7C,EAAS58B,KAAK0/B,IAAW,MAE5BnsB,EASEmsB,EATFnsB,YACAkjB,EAQEiJ,EARFjJ,SACAC,EAOEgJ,EAPFhJ,YACAhxB,EAMEg6B,EANFh6B,OACAi6B,EAKED,EALFC,QACA7C,EAIE4C,EAJF5C,OACAlY,EAGE8a,EAHF9a,UACAqZ,EAEEyB,EAFFzB,OACA7G,EACEsI,EADFtI,WAGIwI,EACJH,GAAc7a,EACV6a,EAAWvC,cAAcr9B,MAAMg9B,GAAMA,EAAEh6B,KAAO+hB,EAAUhX,MACxDqvB,GAAYrY,EACZqY,EAASC,cAAcr9B,MAAMg9B,GAAMA,EAAEh6B,KAAO+hB,EAAUhX,MACtD,KACN,OACE,cAAC,GAAD,CACEzR,UAAWC,IAAWN,EAAQmB,KAC9BsW,YAAaA,EACbkjB,SAAUA,EACVC,YAAaA,EACbhxB,OAAQA,EACRH,MAAO04B,EACPrH,WAAYkG,EAASA,EAAOtoC,KAAO,MACnCqiC,gBAAiBiG,EAASA,EAAOt3B,UAAY,EAC7C+wB,aAAcoJ,EACd1I,cAAerS,EAAYA,EAAUpwB,KAAO,MAC5C2iC,oBAAqBvS,EAAYA,EAAUwQ,WAAW5iC,OAAS,EAC/D0kC,yBACE0I,EAAoBA,EAAkB9lB,MAAQ,EAEhDsd,WAAYA,GAAc,QAxUf,KA8UnB0H,kBAAqBj8B,GAAO1E,KAAKtC,MAAMkB,QAAQC,KAAnB,0BAA2C6F,IA9UpD,KA+UnBg9B,oBAAsB,IAAM1hC,KAAKtC,MAAMkB,QAAQC,KAAnB,qBA7U1BmB,KAAKI,MAAQ,CACXsgC,OAAQ,KACRY,WAAY,KACZxC,SAAU,KACVS,OAAQ,GACRP,qBAAsB,GACtBsB,6BAA8B,GAC9BX,yBAAyB,EACzBlB,SAAU,GACV/G,QAAS,GACTiK,YAAa,KACbC,kBAAkB,GAchB9vB,oBAAqB,IAAD,kJAChBrC,EAAQ,EAAK/R,MAAMo1B,MAAMC,OAAzBtjB,IACAnQ,EAAS,EAAK5B,MAAM4B,KAApBA,KAEFsiC,EAAmBnyB,IAAQnQ,EAAKmQ,IACtC,EAAK7O,SAAS,CAAEghC,qBALQ,SAOD,EAAKlkC,MAAM0T,KAAK2kB,QAAQz2B,EAAKmQ,KAP5B,cAOlBqvB,EAPkB,OAQxB,EAAKl+B,SAAS,CAAEk+B,aAEVzmB,EAAS,EAAK5B,YAAYhH,GAAOnQ,EAAKmQ,KAVpB,UAWHstB,GAAU1kB,GAXP,WAWlBmmB,EAXkB,QAapB/uB,EAboB,kCAcG,EAAK/R,MAAM0T,KAAK2kB,QAAQtmB,GAd3B,eAchB6xB,EAdgB,iBAeD,EAAK5jC,MAAM4B,KAAKy2B,QAAQtmB,GAfvB,QAehBixB,EAfgB,OAgBhBf,OACgDptB,IAApDusB,EAAS+C,aAAangC,MAAMsU,GAAMA,EAAEtR,KAAO+K,IAE7C,EAAK7O,SAAS,CAAE0gC,aAAYZ,SAAQf,4BAEpC,EAAKpB,YAAYC,EAAOvuB,KAAMywB,GAC9B,EAAK7B,wBAAwByC,GAC7B,EAAKhC,UAAUgC,GAvBO,wBAyBtB,EAAK/C,YAAYC,EAAOvuB,KAAM3Q,GAC9B,EAAKu/B,wBAAwBC,GAC7B,EAAKQ,UAAUR,GA3BO,8CAsT1Bz+B,SAAU,MAAD,EACwBL,KAAKtC,MAA5BC,EADD,EACCA,QAASiC,EADV,EACUA,UADV,EAEiBI,KAAKtC,MAAM4B,KAA3BA,EAFD,EAECA,KAAMwiC,EAFP,EAEOA,MAFP,EAYH9hC,KAAKI,MARPsgC,EAJK,EAILA,OACAnB,EALK,EAKLA,OACAP,EANK,EAMLA,qBACAsC,EAPK,EAOLA,WACAxC,EARK,EAQLA,SACAa,EATK,EASLA,wBACAgC,EAVK,EAULA,YACAC,EAXK,EAWLA,iBAGIG,EAA6B,OAAXrB,EACxB,OACE,mCACE,8BACE,eAAC,KAAD,CAAMppC,WAAS,EAAC8L,UAAU,MAAMwoB,QAAQ,SAAS70B,WAAW,SAA5D,UAEE,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQoqB,KAAjD,SACE,qBAAK/pB,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQ7C,KACR6C,EAAQrC,iBACRqC,EAAQknB,uBALZ,UAQE,qBAAK7mB,UAAWC,IAAWN,EAAQpE,QAAnC,oBACEwoC,GACA,8BACE,cAAC,KAAD,CAAWrjC,QAASsB,KAAK0hC,+BAQnC,cAAC,KAAD,CAAM16B,MAAI,EAACC,GAAI,GAAf,SACE,qBAAKjJ,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQ7C,KACR6C,EAAQinB,KALZ,UAQE,qBAAK5mB,UAAWC,IAAWN,EAAQm6B,kBAAnC,SACE,qBACEj1B,IAAI,YACJH,IACEg+B,GAAUA,EAAOn5B,OACb,0BAA4Bm5B,EAAOn5B,OACnCjI,GAAQA,EAAKiI,OACb,0BAA4BjI,EAAKiI,OACjC,qBAENvJ,UAAWC,IAAWN,EAAQo6B,gBAGlC,sBACE/5B,UAAWC,IACTN,EAAQO,QACRP,EAAQjG,SACRiG,EAAQ2E,KAJZ,UAOE,sBACEtE,UAAWC,IACTN,EAAQQ,MACRR,EAAQknB,sBACRlnB,EAAQ7C,MAJZ,UAOE,sBAAKkD,UAAWC,IAAWN,EAAQO,SAAnC,UACE,qBACEF,UAAWC,IACTN,EAAQqkC,UACRrkC,EAAQtD,YAHZ,SAMG0nC,GAAmBT,EAChBA,EAAWW,UACXnD,EACAA,EAASmD,UACT,IAEN,qBACEjkC,UAAWC,IACTN,EAAQW,QACRX,EAAQ1D,SAHZ,SAMG2F,EAAU,gBAGf,sBAAK5B,UAAWC,IAAWN,EAAQO,SAAnC,UACE,qBACEF,UAAWC,IACTN,EAAQqkC,UACRrkC,EAAQtD,YAHZ,SAMG0nC,GAAmBT,EAChBA,EAAWY,aAAa7tC,OACxByqC,EACAA,EAASoD,aAAa7tC,OACtB,IAEN,qBACE2J,UAAWC,IACTN,EAAQW,QACRX,EAAQ1D,SAHZ,mBAQQ2F,EADJmiC,EACc,YACA,kBAIpB,sBAAK/jC,UAAWC,IAAWN,EAAQO,SAAnC,UACE,qBACEF,UAAWC,IACTN,EAAQqkC,UACRrkC,EAAQtD,YAHZ,SAMG0nC,GAAmBT,EAChBA,EAAWO,aAAaxtC,OACxByqC,EACAA,EAAS+C,aAAaxtC,OACtB,IAEN,qBACE2J,UAAWC,IACTN,EAAQW,QACRX,EAAQ1D,SAHZ,mBAQQ2F,EADJmiC,EACc,WACA,sBAKtB,qBAAK/jC,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ7C,MAAhD,SACGinC,EACC,cAAC,GAAD,CACEj9B,SAAU88B,EACVhkC,WAAS,EACTc,QACEihC,EACI3/B,KAAK28B,aACL38B,KAAKw8B,WANb,mBAWQ58B,EADJ+/B,EACc,YACA,aAIlB,cAACwC,GAAD,CACExkC,QAASA,EACT0K,SAAUrI,KAAKygC,4BACf9C,eACE39B,KAAK4gC,kCAEP3wB,KAAM6xB,EAAQA,EAAM7xB,KAAO,GAC3BzG,MAAM,cACN6I,UAAU,WACV9I,MAAO3J,EAAU,iBACjBtJ,MAAOqrC,EACPp9B,WAAS,gBAUvB,cAAC,KAAD,CAAMyC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACE,sBAAK5mB,UAAWC,IAAWN,EAAQrG,WAAnC,UACE,qBAAK0G,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQvC,QAArD,SACG2mC,EAAkBrB,EAAOrqC,KAAOiJ,EAAKjJ,OAExC,qBACE2H,UAAWC,IACTN,EAAQpD,SACRoD,EAAQpE,OACRoE,EAAQvC,OACRuC,EAAQmB,KALZ,SAQGijC,EAAe,UACTrB,EAAO9yB,KADE,aACO8yB,EAAO5yB,SADd,UAETxO,EAAKsO,KAFI,aAEKtO,EAAKwO,WAE5B,qBACE9P,UAAWC,IACTN,EAAQW,QACRX,EAAQvC,OACRuC,EAAQyyB,KAJZ,SAOG2R,EAAkBrB,EAAOhwB,IAAMpR,EAAKoR,MAIvC,oBACE1S,UAAWC,IACTN,EAAQ7C,KACR6C,EAAQinB,IACRjnB,EAAQkuB,IACRluB,EAAQnD,eAOhB,eAAC,KAAD,CACEwM,MAAI,EACJC,GAAI,GACJjJ,UAAWC,IACTN,EAAQw0B,IACRx0B,EAAQ5F,QACR4F,EAAQykC,IACRzkC,EAAQ0kC,KAPZ,UAUE,qBAAKrkC,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQknB,uBAJZ,UAOE,qBAAK7mB,UAAWC,IAAWN,EAAQrD,cAAnC,mBACMsF,EAAU,UADhB,aAC8B2/B,EAAOlrC,OADrC,OAGA,qBACE2J,UAAWC,IACTN,EAAQpE,OACRoE,EAAQ1D,QACR0D,EAAQtD,YAJZ,SAOGuF,EAAU,kBAIjB,8BACE,cAAC,KAAD,CACE5B,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQ2kC,eAC3CrjB,QAAS+G,GACT8B,gBAAgB,EAHlB,SAKG9nB,KAAK6gC,sBAMZ,cAAC,KAAD,CAAM75B,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQw0B,KAAjD,SACE,sBAAKn0B,UAAWC,IAAWN,EAAQrG,WAAnC,UACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQknB,uBAJZ,UAOE,qBAAK7mB,UAAWC,IAAWN,EAAQrD,cAAnC,mBACMsF,EAAU,oBADhB,aAEIo/B,EAAqB3qC,OAFzB,OAKA,qBACE2J,UAAWC,IACTN,EAAQpE,OACRoE,EAAQ1D,QACR0D,EAAQtD,YAJZ,SAOG0nC,EAAkB,GAAKniC,EAAU,gBAIrCI,KAAKmhC,2BAKRY,GACA,eAAC,KAAD,CAAM/6B,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQw0B,KAAjD,UACE,qBAAKn0B,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQknB,uBAJZ,UAOE,qBAAK7mB,UAAWC,IAAWN,EAAQrD,cAAnC,4BAGA,qBACE0D,UAAWC,IACTN,EAAQpE,OACRoE,EAAQ1D,QACR0D,EAAQtD,YAJZ,SAOGuF,EAAU,kBAIjB,8BACE,cAAC,KAAD,CACE5B,UAAWC,IACTN,EAAQupB,IACRvpB,EAAQ4kC,oBAEVtjB,QAAS+G,GACT8B,gBAAgB,EANlB,SAQG9nB,KAAK4mB,0BAOd,eAAC,KAAD,CACE5f,MAAI,EACJC,GAAI,GACJjJ,UAAWC,IAAWN,EAAQw0B,IAAKx0B,EAAQ5F,QAAS4F,EAAQykC,KAH9D,UAKE,qBAAKpkC,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,qBACE0G,UAAWC,IAAWN,EAAQrD,aAAcqD,EAAQvC,QADtD,SAGGwE,EAAU,cAGf,8BAAMI,KAAKqhC,8BAaVltC,SACbwI,sBAryBc9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAEbijC,iBAAkB,CAChB/8B,MAAO,QACPG,OAAQ,QACRtD,aAAc,QACd8E,SAAU,SACV9B,SAAU,YAEZm9B,WAAY,CACVh9B,MAAO,OACPG,OAAQ,OACRN,SAAU,WACV0B,IAAK,IACLD,KAAM,IACNG,UAAW,SAEbskC,UAAW,CACT/lC,MAAO,QACPH,SAAU,WACV,UAAW,CACT6I,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACVyB,KAAM,EACNC,IAAK,EACLvB,MAAO,OACPG,OAAQ,QACRtD,aAAc,OACdI,WAAY,UACZuE,OAAQ,OAGZ0kC,eAAgB,CACdlmC,MAAO,QACPG,OAAQ,SAEVgmC,SAAU,CACRnmC,MAAO,OACPG,OAAQ,QAEV6lC,WAAY,CACVyB,UAAW,QAsBbF,cAAe,CACb,uBAAwB,GAGxB,+BAAgC,CAC9BtsC,YAAa,WAEf,8BAA+B,IAIjCusC,mBAAoB,CAClB,uBAAwB,GAGxB,+BAAgC,CAC9BvsC,YAAa,WAEf,8BAA+B,QAotBjC6nB,GACA1e,EACA8E,GACAzD,GACA/C,IANatJ,CAObmqC,IC/uBanqC,SACXwI,sBA1EW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB4tC,cAAe,CACX,eAAgB,CACZhqC,MAAO5D,EAAMsD,QAAQuqC,OAAOC,MAC5B,cAAe,CACXj6B,gBAAiB,YAGzBxL,WAAYrI,EAAM+tC,YAAYC,OAAO,YAAa,CAC9CC,SAAUjuC,EAAM+tC,YAAYE,SAASC,SACrCC,OAAQnuC,EAAM+tC,YAAYI,OAAOC,SAGzCC,WAAY,CACRjO,UAAW,mBACX,cAAe,CACXnd,QAAS,EACTrd,OAAQ,SAGhB0oC,OAAQ,CACJvrC,aAAc,GACdmD,MAAO,GACPG,OAAQ,GACR1F,WAAY,GACZG,YAAa,GACb8E,OAAQ,YACRypB,YAAarvB,EAAMsD,QAAQwQ,KAAK,KAChCD,gBAAiB7T,EAAMsD,QAAQwQ,KAAK,IACpCmP,QAAS,EACT5a,WAAYrI,EAAM+tC,YAAYC,OAAO,CAAC,mBAAoB,YAE9DO,QAAS,CACLroC,MAAO,GACPG,OAAQ,IAEZmoC,eAAgB,CACZznC,UAAW/G,EAAMyuC,QAAQ,IAE7BC,iBAAkB,CACd9tC,YAAa,WAgCNtB,EA5Bf,SAAyBuJ,GAAQ,MACrBC,EAAYD,EAAZC,QACR,OACI,mCACI,cAAC,KAAD,CACIA,QAAS,CAACyE,KAAMzE,EAAQ4lC,kBACxBn5B,QACI,cAAC,KAAD,CACIzM,QAAS,CACL6lC,WAAY7lC,EAAQ8kC,cACpBgB,IAAK9lC,EAAQwlC,OACbta,KAAMlrB,EAAQylC,QACdM,YAAa/lC,EAAQ0lC,eACrBh5B,QAAS1M,EAAQulC,YAErBS,eAAa,EACb7+B,SAAUpH,EAAMoH,SAChBuF,QAAS3M,EAAMpH,MACf+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAOgE,SACtD/T,MAAOoH,EAAM8L,QAGrBD,MAAO7L,EAAM6L,aCvC7B,SAASyT,GAAKtf,GAAQ,MACZuf,EAAuBvf,EAAvBuf,SAAaC,EADF,YACYxf,EADZ,cAGnB,OACE,cAAC,KAAD,2BACMwf,GADN,IAEErQ,IAAKoQ,EACL3H,KAAM,CAAC,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,MACjE6H,gBAAiB,SACjBC,UAAQ,KAgEC5c,UAAiB7D,sBAjGhB9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAEbuU,UAAW,CACTpR,WAAY,kBACZyC,OAAQ,oBACR7C,aAAc,MACd,WAAY,CACVhB,QAAS,QAEX,UAAW,CACTA,QAAS,SAGbyS,WAAY,CACV5Q,MAAO,4BACPU,SAAU,YAEZmQ,UAAW,CACTrT,QAAS,gBACTkD,SAAU,WACVV,MAAO,cA6EqBkE,EAvDhC,SAA4Be,GAAQ,MAC1BC,EAAYD,EAAZC,QACF4L,EAAQ7L,EAAM6L,OAAS7L,EAAMkC,UAAU,SAAWlC,EAAM8L,OAE9D,OACE,eAAC,KAAD,CACExL,UAAWC,IAAWP,EAAMM,WAC5BkF,QAAQ,SACRqB,UAAW7G,EAAM6G,UACjB0D,SAAUvK,EAAMuK,SAChBwB,MAAO/L,EAAMgM,WAAiC,KAApBhM,EAAMgM,UALlC,UAOE,cAAC,KAAD,CACExB,QAAQ,mBACRlK,UAAWC,IAAWN,EAAQ0L,YAFhC,SAIGE,IAEH,cAAC,KAAD,CACE7E,GAAG,gBACH6E,MAAOA,EACPjT,MAAOoH,EAAMpH,OAAS,GACtB+R,SAAW3C,GAAMhI,EAAM2K,SAAS3K,EAAM8L,MAAO9D,EAAEW,OAAO/P,OACtDwT,OAAQpM,EAAMoM,OACdlU,OAAO,SACPsN,QAAQ,SACRma,eAAgBL,GAChBhf,UAAWL,EAAQyL,UACnBzL,QAAS,CAAEgM,MAAOhM,EAAQ2L,aAE5B,cAAC,KAAD,UAAiB5L,EAAMgM,mBCnCdvV,SACXwI,sBA5CW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB+uC,kBAAmB,CACf5rC,WAAY,SAEhB6rC,WAAY,CACR9oC,MAAO,OACPG,OAAQ,YAoCD/G,EAhCf,SAA4BuJ,GAAQ,MACxBC,EAAYD,EAAZC,QAQR,OAAKD,EAAM4G,OAKP,mCACI,qBAAKtG,UAAWC,IAAWN,EAAQmmC,GAAInmC,EAAQimC,kBAAmBjmC,EAAQ9F,UAAW8F,EAAQvC,QAASsD,QAZ1F,KAChB,MACM+F,EAAG,qFAAiF/G,EAAM4G,OAAOI,GAA9F,yBADQC,8BACR,wBACTC,OAAOpD,SAASqD,QAAQJ,IASpB,SACI,sBAAKzG,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,qBAAKoH,IAAK,oBAAqB1E,UAAWC,IAAWN,EAAQkmC,cAC7D,sBAAK7lC,UAAWC,IAAWN,EAAQO,QAASP,EAAQ6uB,KAApD,UACI,qBAAKxuB,UAAWC,MAAhB,kDAGA,qBAAKD,UAAWC,IAAWN,EAAQtE,MAAOsE,EAAQ1D,SAAlD,iFAZT,QCuBA9F,SACXwI,sBA7CW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB+uC,kBAAmB,CACf5rC,WAAY,SAEhB6rC,WAAY,CACR9oC,MAAO,OACPG,OAAQ,YAqCD/G,EAjCf,SAA0BuJ,GAAQ,MACtBC,EAAYD,EAAZC,QASR,OAAKD,EAAM4G,OAKP,mCACI,qBAAKtG,UAAWC,IAAWN,EAAQmmC,GAAInmC,EAAQimC,kBAAmBjmC,EAAQ9F,UAAW8F,EAAQvC,OAAQsC,EAAMM,WAAYU,QAb3G,KAChB,MAEM+F,EAAG,2DAAuD/G,EAAM4G,OAAOI,GAApE,qEAFQC,8BAER,eACTC,OAAOpD,SAASqD,QAAQJ,IASpB,SACI,sBAAKzG,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,qBAAKoH,IAAK,wBAAyB1E,UAAWC,IAAWN,EAAQkmC,cACjE,sBAAK7lC,UAAWC,IAAWN,EAAQO,QAASP,EAAQ6uB,KAApD,UACI,qBAAKxuB,UAAWC,MAAhB,gDAGA,qBAAKD,UAAWC,IAAWN,EAAQW,QAASX,EAAQ1D,SAApD,iFAZT,QCHf,MA8BMqT,GAAa,CACjBzH,SAAU,CACRvP,MAAO,GACPoT,UAAW,IAEb6D,iBAAkB,CAChBjX,MAAO,GACPoT,UAAW,IAEb8D,MAAO,CACLlX,MAAO,GACPmX,WAAW,EACX/D,UAAW,IAEbrT,KAAM,GACNuP,SAAU,CACRtP,MAAO,GACPmX,WAAW,EACX/D,UAAW,IAEbgE,IAAK,CACHpX,MAAO,GACPoT,UAAW,IAEbiE,QAAS,GACTC,KAAM,GACNC,SAAU,GACVC,QAAS,GACTC,KAAK,EACLxG,OAAQ,KACRyG,eAAe,EACfC,eAAe,EACfC,sBAAsB,EACtBC,YAAY,EACZ41B,WAAY,MAGRC,GAAc,CAClB,CAAEC,QAAS,OAAQx0B,IAAK,GACxB,CAAEw0B,QAAS,MAAOx0B,IAAK,IAsBnBrB,GAAc9O,IAAU,MAAD,EAnBCoO,KAC5B,QAAY6E,IAAR7E,GAA6B,KAARA,EAAY,MAAO,CAAEpX,MAAO,GAAI2tC,QAAS,MAElE,MAAMA,EAAUv2B,EAAIw2B,UAAU,EAAG,GACjC,OAAQD,GACN,IAAK,OACL,IAAK,OACH,MAAO,CACL3tC,MAAOoX,EAAIw2B,UAAU,GACrBD,QAASD,GAAYtiC,MAAMge,GAAMA,EAAEukB,UAAYA,IAASx0B,KAE5D,QACE,MAAO,CACLnZ,MAAOoX,EAAIw2B,UAAU,GACrBD,QAASD,GAAYtiC,MAAMge,GAAMA,EAAEukB,UAAYv2B,EAAIw2B,UAAU,EAAG,KAAIz0B,OAM/C00B,CAAqB7kC,EAAKoO,KAA7CpX,EADmB,EACnBA,MAAO2tC,EADY,EACZA,QAEf,OAAO,uCACF32B,IACAhO,GAFL,IAGEkO,MAAM,2BAAMF,GAAWE,OAAlB,IAAyBlX,MAAOgJ,EAAKkO,QAC1C5H,SAAS,2BAAM0H,GAAW1H,UAAlB,IAA4BtP,MAAOgJ,EAAKsG,WAChD8H,IAAI,2BAAMJ,GAAWI,KAAlB,IAAuBpX,UAC1BytC,WAAYE,EACZ51B,oBAAoB,EACpBC,eAAe,KAInB,MAAM81B,WAAwBnlC,IAAMQ,UAClCC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YASnB4oB,UATmB,wBASP,+BAAA9xB,EAAA,6DACFgoB,EAAa,EAAK9e,MAAMwG,MAAxBsY,SACFnE,EAAS,CACb,CAAE7O,MAAO,aAAclT,MAAO,GAC9B,CAAEkT,MAAO,WAAYlT,OAAO,IAJpB,SAMJkmB,EAASnE,GANL,2CATO,KAkBnBjS,aAAe,CAAC/P,EAAMC,KACpB0J,KAAKY,UAAUR,GAAUoO,KAAEC,IAAIrO,EAAO/J,EAAMC,MAnB3B,KAsBnBoY,qBAAwB/N,IAAW,MAAD,EACNA,EAAM0F,OAAxBhQ,EADwB,EACxBA,KAAMgU,EADkB,EAClBA,QACdrK,KAAKY,UAAUR,GAAUoO,KAAEC,IAAIrO,EAAO/J,EAAMgU,MAxB3B,KA2BnBuF,mBAAsBjP,IACpBA,EAAMgF,iBACN,MAAMkK,EAAS,IAAIC,WACnBD,EAAOE,UAAP,wBAAmB,6BAAAvb,EAAA,sEACA,EAAKkJ,MAAMmO,MAAMC,OAAO+D,EAAOG,OAAQ,KADvC,OAEjBC,GADIA,EADa,QAELlQ,MAAM,KAAKmQ,MACvB,EAAKtP,SAAS,CAAE2G,OAAQ0I,EAAM3B,eAAe,IAH5B,2CAKnBuB,EAAOM,cAAcxP,EAAM0F,OAAO+J,MAAM,IAKxCzP,EAAM0F,OAAO/P,MAAQ,IAxCJ,KA2CnB+tC,oBAAsB,CAAChuC,EAAMC,KACb,KAAVA,GAAc0J,KAAKoG,aAAa,YAAa,IACjDpG,KAAKoG,aAAa/P,EAAMC,IA7CP,KAgDnBqZ,mBAAqB,KACnB3P,KAAKY,SAAS,CAAE2G,OAAQ,KAAM+G,eAAe,KAjD5B,KAoDnBK,eAAiB,KAAO,MACd/O,EAAcI,KAAKtC,MAAnBkC,UAGF0kC,EAFUtkC,KAAKI,MAAbsN,IAEcpX,MAAMuO,QAAQ,MAAO,IACrC+J,EAAQ,IAAIC,OAAO,cACnBC,EAAwB,KAAdw1B,GAAoB11B,EAAMG,KAAKu1B,GAEzC56B,EAAYoF,EAAU,GAAKlP,EAAU,qBAM3C,OAJAI,KAAKY,UAAUR,IAAD,CACZsN,IAAI,2BAAMtN,EAAMsN,KAAb,IAAkBhE,kBAGhBoF,GAlEU,KAqEnBE,eAAiB,KAAO,MAAD,EACkBhP,KAAKI,MAApCyF,EADa,EACbA,SAAU0H,EADG,EACHA,iBACV3N,EAAcI,KAAKtC,MAAnBkC,UAEFgP,EAAQ,IAAIC,OAAOvK,GAAO2K,iBAC1BC,GAAmBrJ,EAASvP,OAASsY,EAAMG,KAAKlJ,EAASvP,OACzD6Y,EAAoBD,EACtB,GACAtP,EAAU,sBAERwP,EAA0BvJ,EAASvP,QAAUiX,EAAiBjX,MAC9D+Y,EAA4BD,EAC9B,GACAxP,EAAU,yBAUd,OARAI,KAAKY,UAAUR,IAAD,CACZyF,SAAS,2BAAMzF,EAAMyF,UAAb,IAAuB6D,UAAWyF,IAC1C5B,iBAAiB,2BACZvN,KAAKI,MAAMmN,kBADA,IAEd7D,UAAW2F,QAIRH,GAAmBE,GA5FT,KA+FnBE,WA/FmB,wBA+FN,mCAAA9a,EAAA,yDACHoL,EAAc,EAAKlC,MAAnBkC,UACA4N,EAAU,EAAKpN,MAAfoN,MAER,EAAK5M,UAAUR,IAAD,CACZoN,MAAM,2BACDpN,EAAMoN,OADN,IAEHC,WAAW,QAPJ,MAWMD,EAAMlX,MAXZ,qCAW4B,EAAKwY,QAAQtB,EAAMlX,OAX/C,iCAWLwY,EAXK,KAYLpF,EAAYoF,EAAU,GAAKlP,EAAU,oBAE3C,EAAKgB,UAAUR,IAAD,CACZoN,MAAM,2BAAMpN,EAAMoN,OAAb,IAAoB9D,YAAW+D,WAAW,QAftC,kBAkBJqB,GAlBI,4CA/FM,KAoHnBA,QApHmB,yCAoHT,WAAOlJ,GAAP,kBAAApR,EAAA,6DACA8K,EAAS,EAAK5B,MAAd4B,KADA,SAGU,EAAK5B,MAAM4B,KAAKiQ,UAAU3J,GAHpC,cAGF4J,EAHE,yBAKS,IAAfA,EAAInb,QAAgC,IAAfmb,EAAInb,QAAgBmb,EAAI,GAAGC,MAAQnQ,EAAKA,KAAKmQ,KAL5D,2CApHS,2DA6HnBC,cA7HmB,wBA6HH,mCAAAlb,EAAA,yDACNoL,EAAc,EAAKlC,MAAnBkC,UACAgG,EAAa,EAAKxF,MAAlBwF,SAER,EAAKhF,UAAUR,IAAD,CACZwF,SAAS,2BACJxF,EAAMwF,UADH,IAEN6H,WAAW,QAPD,MAWG7H,EAAStP,MAXZ,qCAW4B,EAAKwY,QAAQlJ,EAAStP,OAXlD,iCAWRwY,EAXQ,KAYRpF,EAAYoF,EAAU,GAAKlP,EAAU,uBAE3C,EAAKgB,UAAUR,IAAD,CACZwF,SAAS,2BAAMxF,EAAMwF,UAAb,IAAuB8D,YAAW+D,WAAW,QAfzC,kBAkBPqB,GAlBO,4CA7HG,KAkJnBrJ,aAlJmB,wBAkJJ,yDAAAjR,EAAA,2DAeT,EAAK4L,MAbPyF,EAFW,EAEXA,SACAxP,EAHW,EAGXA,KACAuP,EAJW,EAIXA,SACA4H,EALW,EAKXA,MACAE,EANW,EAMXA,IACAC,EAPW,EAOXA,QACAC,EARW,EAQXA,KACAC,EATW,EASXA,SACAC,EAVW,EAUXA,QACAC,EAXW,EAWXA,IACAxG,EAZW,EAYXA,OACA+G,EAbW,EAaXA,cACAy1B,EAdW,EAcXA,WAdW,KAkBX,EAAKp1B,kBACL,EAAKK,kBAnBM,qCAoBJ,EAAKM,aApBD,+EAqBJ,EAAKI,gBArBD,8FA0BPu0B,EAAUF,EACZC,GAAYtiC,MAAMge,GAAMA,EAAEjQ,MAAQs0B,IAAYE,QAC9C,GA5BS,oBA8BL,EAAKvmC,MAAM4B,KAAKkR,WAAW,EAAKpQ,MAAMqP,IAAK,CAC/CjC,MAAOA,EAAMlX,MACbuP,SAAUA,EAASvP,MACnBD,OACAuP,SAAUA,EAAStP,MACnBoX,IAAKu2B,EAAUv2B,EAAIpX,MAAMuO,QAAQ,MAAO,IACxC8I,UACAC,OACAC,WACAC,UACAC,MACAxG,OAAQ+G,EAAgB/G,EAAS,OAzCxB,QA2CX,EAAK3G,SAASwN,GAAW,EAAK1Q,MAAM4B,KAAKA,OACzC,EAAK5B,MAAM4B,KAAK4G,QAAQ,OA5Cb,mDA8CX,EAAKxI,MAAM4B,KAAK6G,UAAhB,MA9CW,2DAlJI,KAoMnBo+B,YAAc,IAAMvkC,KAAKtC,MAAMkB,QAAQC,KAAnB,YAlMlBmB,KAAKI,MAAQgO,GAAWpO,KAAKtC,MAAM4B,KAAKA,MAG1CwS,oBACE9R,KAAKsmB,YAgMPjmB,SAAU,MAAD,EAC0CL,KAAKtC,MAA9CC,EADD,EACCA,QAASiC,EADV,EACUA,UAAmBkF,GAD7B,EACqBjF,OADrB,EAC6BiF,UAG5B+b,GAFS7gB,KAAKtC,MAAM4B,KAApBA,KACaM,EAAU,WACbI,KAAKtC,MAAMwG,MAArB2c,OAJD,EAqBH7gB,KAAKI,MAfPoN,EANK,EAMLA,MACAE,EAPK,EAOLA,IAEAC,GATK,EAQLI,IARK,EASLJ,SACAC,EAVK,EAULA,KACAC,EAXK,EAWLA,SACAC,EAZK,EAYLA,QACAvG,EAbK,EAaLA,OACAlR,EAdK,EAcLA,KACAqa,EAfK,EAeLA,IACA1C,EAhBK,EAgBLA,cACAC,EAjBK,EAiBLA,cACAC,EAlBK,EAkBLA,qBACAC,EAnBK,EAmBLA,WACA41B,EApBK,EAoBLA,WAGF,OACE,mCACE,8BACE,eAAC,KAAD,CAAMzsC,WAAS,EAAC8L,UAAU,MAAMwoB,QAAQ,SAAS70B,WAAW,SAA5D,UACE,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQoqB,KAAjD,SACE,qBAAK/pB,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,qBACE0G,UAAWC,IAAWN,EAAQpE,QAC9BmF,QAASsB,KAAKukC,YAFhB,8BASJ,cAAC,KAAD,CAAMv9B,MAAI,EAACC,GAAI,GAAf,SACE,sBAAKjJ,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQupB,KAAtD,UACE,qBAAKlpB,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQw9B,YAArD,wBAGA,sBACEn9B,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQ7C,KACR6C,EAAQmB,KALZ,UASE,qBAAKd,UAAWC,IAAWN,EAAQm6B,kBAAnC,SACE,qBACEj1B,IAAI,YACJH,IACE6E,EACI,0BAA4BA,EAC5B,qBAENvJ,UAAWC,IAAWN,EAAQo6B,gBAIlC,sBACE/5B,UAAWC,IACTN,EAAQO,QACRP,EAAQjG,SACRiG,EAAQ2E,KAJZ,UAOE,qBAAKtE,UAAWC,IAAWN,EAAQW,SAAnC,0GAIA,qBAAKN,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ7C,MAAhD,SACE,eAAC,GAAD,CAAQ8C,WAAS,EAAjB,UACE,uBAAO4mC,IAAI,gBAAX,0BACA,uBACEziC,QAAM,EACNuG,KAAK,OACLsI,OAAO,aACPvI,SAAUrI,KAAK4P,mBACflL,GAAG,uBAIT,qBAAK1G,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ7C,MAAhD,SACE,cAAC,GAAD,CACE8C,WAAS,EACTL,SAAO,EACPmB,QAASsB,KAAK2P,mBAHhB,wCAaV,cAAC,KAAD,CAAM3I,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQwyB,KAAjD,SACE,sBAAKnyB,UAAWC,IAAWN,EAAQrG,WAAnC,UACE,cAAC,GAAD,CAAoBgN,OAAQA,GAAOsD,KACnC,cAAC,GAAD,CACEtD,OAAQA,GAAOwD,OACf9J,UAAWC,IAAWN,EAAQmB,YAKpC,cAAC,KAAD,CAAMkI,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQwyB,KAAjD,SACE,sBAAKnyB,UAAWC,IAAWN,EAAQrG,WAAnC,UACE,qBAAK0G,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQw9B,YAArD,gCAIA,eAAC,KAAD,CACE7jC,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJb,UAME,cAAC,KAAD,CACEiQ,MAAI,EACJC,GAAI,GACJjJ,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQ8mC,KAH7C,SAKE,cAACzzB,GAAD,CACE3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAOD,EACPmT,MAAM,OACN1E,SAAUA,MAYd,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACE,cAAC5T,GAAD,CACE3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAOoa,EACPlH,MAAM,MACNI,KAAM,EACNC,WAAS,EACT/E,SAAUA,SAKhB,qBACE9G,UAAWC,IACTN,EAAQpD,SACRoD,EAAQw9B,WACRx9B,EAAQwyB,KAJZ,kCAUA,eAAC,KAAD,CACE74B,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJb,UAME,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACE,cAAC5T,GAAD,CACE3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAOkX,EAAMlX,MACbkT,MAAM,cACNlB,KAAK,QACLxD,SAAUA,GAAY0I,EAAMC,UAC5B3D,OAAQ9J,KAAKsP,WACb5F,UAAW8D,EAAM9D,cAerB,cAAC,KAAD,CAAM1C,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,KAAhD,SACE,cAAC6E,GAAD,CACE1jB,SAAUrI,KAAKqkC,oBACf9/B,WAAS,EACT0L,KAAM+zB,GACN1tC,MAAOytC,EACPv6B,MAAM,aACN6I,UAAU,UACVvN,UAAU,MAId,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQupB,KAAhD,SACE,cAACwd,GAAD,CACEpuC,MAAOoX,EAAIpX,MACXiO,WAAS,EACTiF,MAAM,YACNnB,SAAUrI,KAAKoG,aACf0D,OAAQ9J,KAAK2O,eACbjF,UAAWgE,EAAIhE,UACf5E,SAAUA,MAId,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACE,cAACmH,GAAD,CACE1jB,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0L,KAAM4Q,EAAM5Q,KACZ3Z,MAAOwX,EACPtE,MAAM,UACN6I,UAAU,OACVvN,SAAUA,MAGd,cAAC,KAAD,CACEkC,MAAI,EACJC,GAAI,EACJjJ,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQquB,KAH7C,SAKE,cAAChb,GAAD,CACEzM,WAAS,EACTjO,MAAOsX,EACPpE,MAAM,OACNlB,KAAK,OACLD,SAAUrI,KAAKoG,aACftB,SAAUA,MAGd,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,EAAGjJ,UAAWC,IAAWN,EAAQinB,KAAhD,SACE,cAAC5T,GAAD,CACEzM,WAAS,EACTjO,MAAOuX,EACPrE,MAAM,WACNlB,KAAK,WACLD,SAAUrI,KAAKoG,aACftB,SAAUA,MAGd,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACE,cAAC5T,GAAD,CACEzM,WAAS,EACTjO,MAAOqX,EACPnE,MAAM,UACNlB,KAAK,UACLD,SAAUrI,KAAKoG,aACftB,SAAUA,cAOpB,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQwyB,KAAjD,SACE,sBAAKnyB,UAAWC,IAAWN,EAAQrG,WAAnC,UACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQ7C,KACR6C,EAAQrC,iBACRqC,EAAQknB,uBALZ,UAQE,qBAAK7mB,UAAWC,IAAWN,EAAQpD,UAAnC,yBAGA,8BACE,cAAC,GAAD,CACEjE,MAAO0X,EACPxE,MAAM,gBACNnB,SAAUrI,KAAKoG,oBAMrB,qBAAKpI,UAAWC,IAAWN,EAAQvC,QAAnC,SACE,cAAC,GAAD,CACEiN,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO2X,EACPzE,MAAM,gBACND,MAAO3J,EAAU,iBACjBkF,UAAWkJ,GAAiBlJ,MAIhC,qBAAK9G,UAAWC,IAAWN,EAAQvC,QAAnC,SACE,cAAC,GAAD,CACEiN,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO4X,EACP1E,MAAM,uBACND,MAAO3J,EAAU,wBACjBkF,UAAWkJ,GAAiBlJ,MAIhC,qBAAK9G,UAAWC,IAAWN,EAAQvC,QAAnC,SACE,cAAC,GAAD,CACEiN,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO6X,EACP3E,MAAM,aACND,MAAO3J,EAAU,cACjBkF,UAAWkJ,GAAiBlJ,WAMpC,cAAC,KAAD,CAAMkC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQwuB,KAA9D,SACE,qBAAKnuB,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,cAAC,GAAD,CAAQsG,WAAS,EAACc,QAASsB,KAAKyF,aAAhC,2CAgBDtR,SACbwI,sBAnpBc9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAEbijC,iBAAkB,CAChB/8B,MAAO,QACPG,OAAQ,QACR+W,SAAU,QACVvV,SAAU,SACV9B,SAAU,YAEZm9B,WAAY,CAEVngC,aAAc,QACd6C,OAAQ,kBACRM,MAAO,OACPG,OAAQ,OACRN,SAAU,WACVyB,KAAM,EACN67B,MAAO,EACP17B,UAAW,SAEb+K,OAAQ,GACRq8B,kBAAmB,CACjB5rC,WAAY,SAEd6rC,WAAY,CACV9oC,MAAO,OACPG,OAAQ,YA0nBViE,EACAqB,GACAyD,GACAyG,GALavW,CAMbiwC,IClkBajwC,SACXwI,sBAxGW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAGhB4vB,KAAM,CACF1pB,MAAO,QACPH,SAAU,WACV8B,SAAU,SACV9E,aAAc,QAElB+sC,mBAAoB,CAChBzpC,OAAQ,SAEZ0pC,aAAc,CACVhqC,SAAU,SACVyB,KAAM,IACN67B,MAAO,IACPn9B,MAAO,OACPG,OAAQ,OACRsB,UAAW,SAGfqoC,YAAa,CACT7sC,WAAYnD,EAAMsD,QAAQI,UAAUF,MAExCysC,oBAAqB,CACjB/pC,MAAO,SAEXgqC,cAAe,CACXhqC,MAAO,QAEXiqC,cAAe,CACXjqC,MAAO,MACPG,OAAQ,MACRtD,aAAc,OACd6C,OAAQ,oBACRhF,YAAa,OAEjBwvC,UAAW,CACPjtC,WAAY,QACZyC,OAAQ,uBAkEZ+F,GAFWrM,EA3Df,SAAuBuJ,GAAQ,MACnBC,EAAuCD,EAAvCC,QAAwBmgB,GAAepgB,EAA9BwnC,cAA8BxnC,EAAfogB,YAC1BqnB,EAAY/uB,KAAO1Y,EAAMy5B,OAAO9hB,OAAO,cAE7C,OACI,qBAAKrX,UAAWC,IAAWN,EAAQ8mB,KAAM/mB,EAAMM,WAA/C,SACI,sBAAKA,UAAWC,IAAWN,EAAQO,QAASP,EAAQ7C,MAApD,UACI,qBAAKkD,UAAWC,IAAWN,EAAQgnC,oBAAnC,SACI,qBAAKjiC,IAAK,2BAA4B1E,UAAWC,IAAWN,EAAQinC,kBAExE,sBAAK5mC,UAAWC,IAAWN,EAAQknC,YAAalnC,EAAQO,QAASP,EAAQ7C,KAAM6C,EAAQ+mB,IAAvF,UACI,sBAAK1mB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,uBAA1F,UACI,sBAAK7mB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,sBAAKF,UAAWC,IAAWN,EAAQO,SAAnC,UACI,sBAAKF,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQynC,KAA5E,UACI,qBAAKpnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,gBAEjF,qBAAKjnC,UAAWC,IAAWN,EAAQ/E,mBAAoB+E,EAAQ5E,SAAU4E,EAAQtE,MAAOsE,EAAQtD,YAAhG,2BAIJ,sBAAK2D,UAAWC,IAAWN,EAAQO,QAASP,EAAQinB,KAApD,UACI,qBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQrD,aAAcqD,EAAQtE,OAA5E,SACK8rC,IAEL,qBAAKnnC,UAAWC,IAAWN,EAAQ/E,mBAAoB+E,EAAQ5E,SAAU4E,EAAQtE,MAAOsE,EAAQtD,YAAhG,yBAKR,qBAAK2D,UAAWC,IAAWN,EAAQmnC,qBAAnC,SACI,qBAAKpiC,IAAK,oBAAqB1E,UAAWC,IAAWN,EAAQonC,sBAGrE,qBAAK/mC,UAAWC,IAAWN,EAAQ/E,mBAAoB+E,EAAQtE,MAAOsE,EAAQmB,KAA9E,SACKpB,EAAM0X,cAEX,cAAC,GAAD,CAAQpX,UAAWC,IAAWN,EAAQmB,KAAMlB,WAAS,EAArD,uCC3CLjB,6BA9CA9H,GAAK,uCACbwC,EAAgBxC,IAChBiY,GAAUjY,IAFG,IAGhBwwC,WAAY,CACRtqC,MAAO,WA0CA4B,EAtCf,SAAqBe,GAAQ,MACjBC,EAAYD,EAAZC,QADgB,EAEFE,mBAAS,MAFP,mBAEjB2nB,EAFiB,KAEZC,EAFY,KAIxB0L,qBAAU,KACD3L,GACD8f,MAEH,IAEL,MAAMA,EAAM,yCAAG,+BAAA9wC,EAAA,mEAEJkJ,EAAMmzB,OAFF,gCAGgBnzB,EAAMiqB,QAAQjqB,EAAMmzB,QAHpC,OAGG5gB,EAHH,QAICJ,EAAS,IAAIC,YACVC,UAAY,KACf0V,EAAO5V,EAAOG,SAElBH,EAAOM,cAAcF,GARlB,yDAWP/Z,QAAQuT,MAAR,MAXO,0DAAH,qDAcZ,OACI,8BACI,qBAAK/G,IAAK8iB,EAAKxnB,UAAWL,EAAQ0nC,WAAYxiC,IAAKnF,EAAMrH,YCwCtDsG,6BAzEA9H,GAAK,uCACbwC,EAAgBxC,IAChBiY,GAAUjY,IAFG,IAGhBmjC,eAAgB,CACZj9B,MAAO,OACPG,OAAQ,QACRlD,WAAY,kBACZ0E,SAAU,SACV9B,SAAU,YAEdq9B,QAAS,CACLl9B,MAAO,OACPG,OAAQ,OACRN,SAAU,WACVyB,KAAM,EACN67B,MAAO,EACP17B,UAAW,SAEf+oC,aAAc,CACVxqC,MAAO,IACPG,OAAQ,WAqDDyB,EAhDf,SAAkBe,GAAQ,MACdC,EAAWD,EAAXC,QADa,EAECE,mBAAS,MAFV,mBAEd2nB,EAFc,KAETC,EAFS,KAIrB0L,qBAAU,KACD3L,GACD8f,MAEH,IAEL,MAAMA,EAAM,yCAAG,+BAAA9wC,EAAA,mEAEJkJ,EAAMgqB,YAFF,gCAGgBhqB,EAAMiqB,QAAQjqB,EAAMgqB,aAHpC,OAGGzX,EAHH,QAICJ,EAAS,IAAIC,YACVC,UAAY,KACf0V,EAAO5V,EAAOG,SAElBH,EAAOM,cAAcF,GARlB,yDAWP/Z,QAAQuT,MAAR,MAXO,0DAAH,qDAeZ,OACI,sBAAKzL,UAAWC,IAAWN,EAAQ4nC,aAAc5nC,EAAQO,QAASP,EAAQ4E,KAA1E,UACI,qBAAKvE,UAAWC,IAAWN,EAAQq6B,gBAAnC,SACI,qBAAKt1B,IAAK8iB,EAAKxnB,UAAWL,EAAQs6B,QAASp1B,IAAKnF,EAAMqH,UAE1D,oBAAI/G,UAAWC,IAAWN,EAAQzE,SAAUyE,EAAQpD,SAAUoD,EAAQupB,KAAtE,SAA6ExpB,EAAMqH,QACnF,mBAAG/G,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQzE,UAA9C,SACKwE,EAAM+F,gB,4DCvCvB,MAqIMuiB,GAAkB,CACpBC,UAAW,OACXC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,GAGd,MAAMof,WAAgBvmC,IAAMQ,UACxBC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAcnB4oB,UAdmB,wBAcP,6BAAA9xB,EAAA,sEACF,EAAKkJ,MAAM0T,KAAKmV,gBADd,uBAEF,EAAK7oB,MAAM0T,KAAKyR,cAFd,uBAGF,EAAKnlB,MAAM0T,KAAKyS,cAHd,uBAIF,EAAKnmB,MAAM0T,KAAKiS,WAJd,OAMAoiB,EAAa,EAAK/nC,MAAM0T,KAAxBq0B,SAER,EAAK7kC,SAAS,CACV6kC,SAAUA,EAASx1B,KAAKoI,QAAOrR,GAA0B,KAAlBA,EAAKsB,KAAKnT,MACjDuwC,gBAAiBD,EAASx1B,KAAKoI,QAAOrR,GAA0B,KAAlBA,EAAKsB,KAAKnT,MACxDwwC,aAAcF,EAASx1B,KAAKoI,QAAOrR,GAA0B,KAAlBA,EAAKsB,KAAKnT,QAXjD,4CAdO,KA8BnByxB,iBAAmB,KAAO,MACdC,EAAe7mB,KAAKtC,MAAM0T,KAA1ByV,WACAlpB,EAAYqC,KAAKtC,MAAjBC,QACR,OAAOkpB,EAAW5W,KAAKpO,KAAI4kB,GAEnB,qBAAKzoB,UAAW,gBAAhB,SACI,cAAC,GAAD,CAEI+G,MAAO0hB,EAAUpwB,KACjB8gC,MAAO1Q,EAAU0Q,MACjBpQ,IAAKN,EAAUM,IACf6e,YAAanf,EAAUwQ,WAAW5iC,OAClCqK,QAAS,IAAMsB,KAAKwmB,cAAcC,GAClCye,cAAejnC,IAAWN,EAAQupB,IAAKvpB,EAAQwpB,IAAKxpB,EAAQypB,MANvDX,EAAUhX,UArChB,KAkDnB4X,eAAiB,KAAO,MACZC,EAAatnB,KAAKtC,MAAM0T,KAAxBkW,SACR,IAAIue,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAInf,EAAUW,EAASrX,KAAK61B,GAC5Bnf,GAAWkf,EAAOhnC,KACd,cAAC,KAAD,CAAMmI,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGqgB,GAAI,EAA7B,SACI,cAAC,GAAD,CAEI7oB,QAAS,IAAMsB,KAAK0mB,kBAAkBC,GACtCtwB,KAAMswB,EAAQtwB,KACd+uB,MAAOuB,EAAQa,eACfzB,KAAMzhB,GAAOmjB,SACb7B,GAAIe,EAAQe,YACZhC,MAAO1lB,KAAKtC,MAAMwG,MAAMyjB,QACxBtC,OAAQsB,EAAQhL,MAAQ,EAAI3b,KAAKtC,MAAMkC,UAAU,YAAcI,KAAKtC,MAAMkC,UAAU,cAP/E+mB,EAAQlX,QAa7B,OAAOo2B,GAvEQ,KA0EnBE,eAAiB,KACb7vC,QAAQC,IAAI6J,KAAKI,MAAMqlC,UAChBzlC,KAAKI,MAAMqlC,SAAS5jC,KAAImF,GAEvB,cAAC,KAAD,CAAMA,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGqgB,GAAI,EAA7B,SACI,cAAC,GAAD,CAEIlxB,KAAM2Q,EAAK3Q,KACX2vC,KAAMh/B,EAAKoO,YACXyb,OAAQ7pB,EAAK6pB,OACblJ,QAAS3nB,KAAKtC,MAAMwG,MAAMyjB,SAJrB3gB,EAAKyI,UAhFX,KA2FnBw2B,sBAAwB,IACbjmC,KAAKI,MAAMslC,gBAAgB7jC,KAAImF,GAE9B,cAAC,KAAD,CAAMA,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGqgB,GAAI,EAA7B,SACI,cAAC,GAAD,CAEIlxB,KAAM2Q,EAAK3Q,KACX2vC,KAAMh/B,EAAKoO,YACXyb,OAAQ7pB,EAAK6pB,OACblJ,QAAS3nB,KAAKtC,MAAMwG,MAAMyjB,SAJrB3gB,EAAKyI,SAhGX,KA2GnBy2B,mBAAqB,IACVlmC,KAAKI,MAAMulC,aAAa9jC,KAAImF,GAE3B,cAAC,KAAD,CAAMA,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGqgB,GAAI,EAA7B,SACI,cAAC,GAAD,CAEIlxB,KAAM2Q,EAAK3Q,KACX2vC,KAAMh/B,EAAKoO,YACXyb,OAAQ7pB,EAAK6pB,OACblJ,QAAS3nB,KAAKtC,MAAMwG,MAAMyjB,SAJrB3gB,EAAKyI,SAhHX,KA2HnB02B,gBAAkB,IACPnmC,KAAKtC,MAAM0T,KAAKg1B,MAAMn2B,KAAKpO,KAAI03B,GAE9B,qBAAKv7B,UAAW,gBAAhB,SACI,cAAC,GAAD,CAEI+G,MAAOw0B,EAAKx0B,MACZtB,QAAS81B,EAAK91B,QACd+9B,QAASjI,EAAKiI,QACd9Z,YAAa6R,EAAK7R,YAClBC,QAAS3nB,KAAKtC,MAAMwG,MAAMyjB,SALrB4R,EAAK9pB,SAhIX,KA4InB42B,gBAAkBC,GAAS,CAAC3lC,EAAO7C,KAC/BkC,KAAKY,SAAS,CACZ2lC,cAAazoC,GAAWwoC,KA5I1BtmC,KAAKI,MAAQ,CACTqlC,SAAU,GACVC,gBAAiB,GACjBC,aAAc,GACdY,YAAa,UAIrBz0B,oBACI9R,KAAKsmB,YAuITjmB,SAAU,MACE1C,EAAYqC,KAAKtC,MAAjBC,QACA4oC,EAAgBvmC,KAAKI,MAArBmmC,YACR,OACI,qCACI,qBAAKvoC,UAAWC,IAAWN,EAAQ6oC,WAAW7oC,EAAQO,SAAtD,SACI,sBAAKF,UAAWC,IAAWN,EAAQqP,KAAMrP,EAAQO,QAASP,EAAQY,WAAYZ,EAAQ8oC,IAAK9oC,EAAQ+oC,IAAK/oC,EAAQgpC,IAAKhpC,EAAQipC,aAAcjpC,EAAQmF,mBAAnJ,UACI,qBAAK9E,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQpD,SAAUoD,EAAQkpC,YAAxE,SACK7mC,KAAKtC,MAAMkC,UAAU,iBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQmB,KAAtD,SACKkB,KAAKtC,MAAMkC,UAAU,oBAE1B,cAAC,GAAD,CAAQhC,WAAS,EAACI,UAAWC,IAAWN,EAAQmpC,SAAUnpC,EAAQinB,IAAKjnB,EAAQopC,UAAWppC,EAAQqpC,KAAlG,kCAGR,qBAAKhpC,UAAWC,IAAWN,EAAQspC,WAAYtpC,EAAQO,SAAvD,SAEI,sBAAKF,UAAWC,IAAWN,EAAQrG,WAAnC,UACI,sBAAK0G,UAAWC,IAAWN,EAAQupC,cAAevpC,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,uBAAvF,UACI,qBAAK7mB,UAAWC,IAAWN,EAAQwpC,qBAAsBxpC,EAAQmuB,YAAjE,eAGA,qBAAK9tB,UAAWC,IAAWN,EAAQypC,SAAnC,SACI,sBAAKppC,UAAWC,IAAWN,EAAQO,SAAnC,UACI,oBAAIF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAtD,SAAkEyF,KAAKtC,MAAMkC,UAAU,cACvF,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,uFAOZ,sBAAKyE,UAAWC,IAAWN,EAAQupC,cAAevpC,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,uBAAvF,UACI,qBAAK7mB,UAAWC,IAAWN,EAAQypC,SAAnC,SACI,sBAAKppC,UAAWC,IAAWN,EAAQO,SAAnC,UACI,oBAAIF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAtD,SAAkEyF,KAAKtC,MAAMkC,UAAU,mBACvF,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,+IAKR,qBAAKyE,UAAWC,IAAWN,EAAQwpC,qBAAsBxpC,EAAQmuB,YAAjE,kBAKJ,sBAAK9tB,UAAWC,IAAWN,EAAQupC,cAAevpC,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,uBAAvF,UACI,qBAAK7mB,UAAWC,IAAWN,EAAQwpC,qBAAsBxpC,EAAQmuB,YAAjE,eAGA,qBAAK9tB,UAAWC,IAAWN,EAAQypC,SAAnC,SACI,sBAAKppC,UAAWC,IAAWN,EAAQO,SAAnC,UACI,oBAAIF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAtD,SAAkEyF,KAAKtC,MAAMkC,UAAU,qBACvF,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,qGAOZ,sBAAKyE,UAAWC,IAAWN,EAAQupC,cAAevpC,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,uBAAvF,UACI,qBAAK7mB,UAAWC,IAAWN,EAAQypC,SAAnC,SACI,sBAAKppC,UAAWC,IAAWN,EAAQO,SAAnC,UACI,oBAAIF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAtD,SAAkEyF,KAAKtC,MAAMkC,UAAU,kBACvF,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,wGAKR,qBAAKyE,UAAWC,IAAWN,EAAQwpC,qBAAsBxpC,EAAQmuB,YAAjE,kBAKJ,sBAAK9tB,UAAWC,IAAWN,EAAQupC,cAAevpC,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,uBAAvF,UACI,qBAAK7mB,UAAWC,IAAWN,EAAQwpC,qBAAsBxpC,EAAQmuB,YAAjE,eAGA,qBAAK9tB,UAAWC,IAAWN,EAAQypC,SAAnC,SACI,sBAAKppC,UAAWC,IAAWN,EAAQO,SAAnC,UACI,oBAAIF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAtD,SAAkEyF,KAAKtC,MAAMkC,UAAU,eACvF,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,gJASpB,qBAAKyE,UAAWC,IAAWN,EAAQkpB,WAAYlpB,EAAQykC,KAAvD,SACI,cAAC,KAAD,CACI9qC,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,SAOI,eAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ0pC,mBAAjD,UACI,sBAAKrpC,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQY,WAAYZ,EAAQpD,UAA1E,UACI,8BAAMyF,KAAKtC,MAAMkC,UAAU,8BAC3B,8BAAMI,KAAKtC,MAAMkC,UAAU,iCAG/B,qBAAK5B,UAAWC,IAAWN,EAAQw0B,KAAnC,SACI,cAAC,KAAD,CACIn0B,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkqB,mBAC3C5I,QAAS+G,GACT8B,gBAAgB,EAHpB,SAKK9nB,KAAK4mB,8BAO1B,qBAAK5oB,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQ2pC,IAAK3pC,EAAQ5F,SAAnE,SACI,eAAC,KAAD,CACIT,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,UAOI,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,qBAAKvpC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,wBAI9B,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,MAA9B,SACI,qBAAKyE,IAAK,4BAA6B1E,UAAWC,IAAWN,EAAQ6pC,uBAGzE,cAAC,KAAD,CAAMxgC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,sBAAKlpB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAvD,SACKyF,KAAKtC,MAAMkC,UAAU,uBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,qQAOR,cAAC,KAAD,CAAMyN,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,qBAAK7kC,IAAK,uBAAwB1E,UAAWC,IAAWN,EAAQ6pC,uBAGpE,cAAC,KAAD,CAAMxgC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,sBAAKlpB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAvD,SACKyF,KAAKtC,MAAMkC,UAAU,iBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,2OAMR,cAAC,KAAD,CAAMyN,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,qBAAK7kC,IAAK,uBAAwB1E,UAAWC,IAAWN,EAAQ6pC,uBAGpE,cAAC,KAAD,CAAMxgC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQupB,KAAjD,SACI,sBAAKlpB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAvD,SACKyF,KAAKtC,MAAMkC,UAAU,yBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQpE,QAAhD,qSAWR,cAAC,KAAD,CAAMyN,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,iBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQzE,SAAUyE,EAAQY,YAAlE,yMAMR,cAAC,KAAD,CAAMyI,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,0BAE1B,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQzE,SAAUyE,EAAQY,YAAlE,oMAGA,sBAAKP,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQknB,sBAAuBlnB,EAAQ7C,KAAM6C,EAAQoqB,KAA/F,UACI,qBAAKrlB,IAAI,sBAAsB1E,UAAWC,IAAWN,EAAQ8pC,YAC7D,qBAAK/kC,IAAI,sBAAsB1E,UAAWC,IAAWN,EAAQ8pC,oBAKzE,cAAC,KAAD,CAAMzgC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,uBAE1B,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQzE,SAAUyE,EAAQY,YAAlE,oMAGA,sBAAKP,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQknB,sBAAuBlnB,EAAQ7C,KAAM6C,EAAQoqB,KAA/F,UACI,qBAAKrlB,IAAI,uBAAuB1E,UAAWC,IAAWN,EAAQ8pC,YAC9D,qBAAK/kC,IAAI,uBAAuB1E,UAAWC,IAAWN,EAAQ8pC,oBAK1E,cAAC,KAAD,CAAMzgC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,WAE1B,cAAC,KAAD,CAAMtI,WAAS,EAACwR,QAAS,GAAI9K,UAAWL,EAAQmB,IAAhD,SACKkB,KAAKqnB,wBAMlB,cAAC,KAAD,CAAMrgB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,iBAGA,sBAAKP,UAAWL,EAAQoqB,IAAxB,UACA,eAAC,KAAD,CACQzgB,QAAM,EACNxJ,SAA0B,WAAhByoC,EACVl+B,SAAUrI,KAAKqmC,gBAAgB,UAHvC,UAKQ,cAAC,KAAD,uBAGA,cAAC,KAAD,2BAIJ,eAAC,KAAD,CACI/+B,QAAM,EACNxJ,SAA0B,WAAhByoC,EACVl+B,SAAUrI,KAAKqmC,gBAAgB,UAHnC,UAKI,cAAC,KAAD,uBAGA,cAAC,KAAD,2BAIJ,eAAC,KAAD,CACI/+B,QAAM,EACNxJ,SAA0B,WAAhByoC,EACVl+B,SAAUrI,KAAKqmC,gBAAgB,UAHnC,UAKI,cAAC,KAAD,uBAGA,cAAC,KAAD,wCAWxB,qBAAKroC,UAAWC,IAAWN,EAAQ+pC,KAAM/pC,EAAQykC,KAAjD,SACI,cAAC,KAAD,CACI9qC,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,SAMI,eAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAf,UACI,qBAAKjJ,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,UAG1B,qBAAK5B,UAAWC,IAAWN,EAAQupB,KAAnC,SACI,cAAC,KAAD,CACIlpB,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQkqB,mBAC3C5I,QAAS+G,GACT8B,gBAAgB,EAHpB,SAKK9nB,KAAKmmC,6BAO1B,qBAAKnoC,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQspC,WAAYtpC,EAAQ2pC,KAA1E,SACI,eAAC,KAAD,CACIhwC,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,UAMI,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,sBAE1B,cAAC,KAAD,CAAMtI,WAAS,EAACwR,QAAS,GAAI9K,UAAWL,EAAQmB,IAAhD,SACKkB,KAAKimC,+BAKlB,cAAC,KAAD,CAAMj/B,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,mBAE1B,cAAC,KAAD,CAAMtI,WAAS,EAACwR,QAAS,GAAI9K,UAAWL,EAAQmB,IAAhD,SACKkB,KAAKkmC,4BAKlB,cAAC,KAAD,CAAMl/B,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ4pC,KAAjD,SACI,sBAAKvpC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQO,SAAjD,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQY,YAArD,SACKyB,KAAKtC,MAAMkC,UAAU,cAE1B,cAAC,KAAD,CAAMtI,WAAS,EAACwR,QAAS,GAAI9K,UAAWL,EAAQmB,IAAhD,SACKkB,KAAK+lC,iCAa3B5xC,SACXsJ,IACAwG,GACAtH,sBAxoBW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB2xC,WAAY,CACRzrC,MAAO,OAEPG,OAAQ,qBACRlD,WAAY,6BACZ4Q,eAAgB,QAChBC,mBAAoB,SACpBjO,SAAU,WACV,UAAW,CACP6I,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACViC,OAAQ,OACRR,KAAM,EACNtB,MAAO,OACPG,OAAQ,OACRlD,WAAY,kGAGpB4uC,aAAc,CACVrqC,OAAQ,GACRrB,OAAQ,qBACRH,MAAO,QAEX8rC,WAAY,CACR1tC,SAAU,QAEd2tC,SAAU,CACN9uC,WAAY,wBACZiF,eAAgB,YAChBhH,QAAS,OACT2B,aAAc,OAElBmvC,UAAW,CACPnsC,SAAU,WACV,UAAW,CACP6I,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACViC,OAAQ,EACRR,KAAM,EACNtB,MAAO,OACPG,OAAQ,OACRlD,WAAY,iPACZ6Q,mBAAoB,2BACpBJ,iBAAkB,qBAClBG,eAAgB,qBAChBrM,OAAQ,KAGhB0qC,WAAY,CACRjvC,WAAY,8DAEhBkvC,cAAe,CACXxxC,aAAc,SAElB0xC,QAAS,CACLrsC,MAAO,qBACPtC,MAAO,SAEX0uC,qBAAsB,CAClBjsC,OAAQ,OACRH,MAAO,OACPnD,aAAc,GACdZ,UAAW,SACXoC,WAAY,OACZpB,WAAY,wBACZyC,OAAQ,oBACRhC,MAAO,SAEXouB,WAAY,CACR7uB,WAAY,wBACZ4Q,eAAgB,QAChB++B,oBAAqB,MACrB/sC,SAAU,WACV,WAAY,CACR6I,QAAS,KACT7M,QAAS,QACTmE,MAAO,OACPG,OAAQ,OACRN,SAAU,WACV0B,IAAK,IACLD,KAAM,IACNrE,WAAY,8GACZuE,OAAQ,KAEZ,UAAW,CACPkH,QAAS,KACT7M,QAAS,QACTmE,MAAO,OACPG,OAAQ,QACRlD,WAAY,0BACZ4Q,eAAgB,UAChB++B,oBAAqB,SACrBl/B,iBAAkB,YAClB5L,OAAQ,OACRjC,SAAU,WACV2B,OAAQ,OAGhB8qC,kBAAmB,CACfzsC,SAAU,WACV2B,OAAQ,GAEZsrB,kBAAmB,CACf,uBAAwB,GAGxB,+BAAgC,CAC5B7xB,YAAa,WAEjB,8BAA+B,CAC3BF,aAAc,WAGtB0xC,kBAAmB,CACfjwC,SAAU,QAIdmwC,KAAM,CACF1vC,WAAY,WAEhByvC,SAAU,CACN1sC,MAAO,WA2gBX8iB,GACA1e,EACAqB,GANWrM,CAObqxC,ICroBarxC,SACXwI,sBA5BW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAwBA5G,EApBf,SAAuBuJ,GAAQ,MACnBC,EAAYD,EAAZC,QACR,OACI,mCACI,sBAAK5C,MAAM,OAAOG,OAAO,OAAO0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA6B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAtJ,UACI,oBAAG2sB,YAAU,cAAb,UACI,sBAAMC,YAAU,UAAUC,YAAU,UAAU5jC,EAAE,ozBAAozBR,KAAK,UACz2B,sBAAMQ,EAAE,0OAA0OR,KAAK,aAE3P,+BACI,0BAAUc,GAAG,QAAb,SACI,sBAAM3J,MAAM,UAAUG,OAAO,UAAU0I,KAAK,QAAQqxB,UAAU,6CCCvE9gC,SACXwI,sBApBW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAgBA5G,EAZf,SAAuBuJ,GAAQ,MACnBC,EAAYD,EAAZC,QACR,OACI,mCACI,sBAAK5C,MAAM,OAAOG,OAAO,OAAO0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA6B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAtJ,UACI,sBAAM/W,EAAE,4DAA4D6jC,OAAO,QAAQC,eAAa,WAChG,sBAAM9jC,EAAE,2DAA2D6jC,OAAO,QAAQC,eAAa,mBCMhG/zC,EACXwI,sBApBW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAgBA5G,EAZf,SAAmBuJ,GAAQ,MACfC,EAAYD,EAAZC,QACR,OACI,mCACI,sBAAK5C,MAAM,OAAOG,OAAO,OAAO0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA6B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAtJ,UACI,wBAAQgtB,GAAG,OAAOC,GAAG,OAAOC,EAAE,SAASJ,OAAO,QAAQC,eAAa,UACnE,wBAAQC,GAAG,UAAUC,GAAG,UAAUC,EAAE,QAAQzkC,KAAK,kBCuLlDzP,SACXwI,sBA5LW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAGhB4vB,KAAM,CACF1pB,MAAO,OACPxD,SAAU,QACV2D,OAAQ,QACRN,SAAU,WACV8B,SAAU,UAEdioC,mBAAoB,CAChBzpC,OAAQ,QACRN,SAAU,WACVG,MAAO,OACPG,OAAQ,OACRoB,IAAK,IACLD,KAAM,IACN,UAAW,CACPoH,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACViC,OAAQ,IACRR,KAAM,IACNtB,MAAO,OACPG,OAAQ,OACRlD,WAAY,qIAGpB6sC,YAAa,CACTtoC,OAAQ,GACR3B,SAAU,YAEdgqC,aAAc,CACVhqC,SAAU,SACVyB,KAAM,IACN67B,MAAO,IACPn9B,MAAO,OACPG,OAAQ,OACRsB,UAAW,SAGf8rC,WAAY,GAGZvD,cAAe,CACXhqC,MAAO,SAGXiqC,cAAe,CACXjqC,MAAO,MACPG,OAAQ,MACRtD,aAAc,OACdnC,YAAa,MACbuC,WAAY,QACZ8f,QAAS,OAEbmtB,UAAW,CACPntB,QAAS,KAEbywB,aAAc,GAGdC,aAAc,CACXztC,MAAO,YA8HVyF,GAFWrM,EAtHf,SAAuBuJ,GAAQ,MACnBC,EAA8CD,EAA9CC,QAASmgB,EAAqCpgB,EAArCogB,WAAY9f,EAAyBN,EAAzBM,UAAW4B,EAAclC,EAAdkC,UAElC6oC,EAAe/qC,EAAMg6B,SAAWh6B,EAAMg6B,QAAQrjC,OAC9C8wC,EAAY/uB,KAAO1Y,EAAMy5B,OAAO9hB,OAAO,cAE7C,IAAIqzB,EAAStyB,KAAO1Y,EAAMqpB,KAAK4hB,KAAKvyB,KAAO1Y,EAAMy5B,OAAQ,UAAU,GAInE,OAHAuR,EAAS3tB,KAAK+f,IAAI4N,GAClBA,EAAS3tB,KAAK6tB,KAAKF,GAGf,sBAAK1qC,UAAWC,IAAWN,EAAQ8mB,KAAMzmB,GAAzC,UACI,qBAAKA,UAAWC,IAAWN,EAAQgnC,oBAAnC,SACI,qBAAKjiC,IAAK,2BAA4B1E,UAAWC,IAAWN,EAAQinC,kBAExE,sBAAK5mC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQ7C,KAAM6C,EAAQ1C,KAAM0C,EAAQmF,kBAAmBnF,EAAQknC,aAA1H,UACI,sBAAK7mC,UAAWC,IAAWN,EAAQkrC,GAAIlrC,EAAQQ,MAAOR,EAAQO,SAA9D,UACI,qBAAKF,UAAWC,IAAWN,EAAQ2qC,WAAY3qC,EAAQ7C,KAAM6C,EAAQY,YAArE,SACI,qBAAKmE,IAAK,oBAAqB1E,UAAWC,IAAWN,EAAQonC,mBAEjE,qBAAK/mC,UAAWC,IAAWN,EAAQmrC,UAAWnrC,EAAQ7C,KAAM6C,EAAQY,WAAYZ,EAAQi0B,IAAKj0B,EAAQorC,KAArG,SACI,qBAAKrmC,IAAK,4BAA6B1E,UAAWC,IAAWN,EAAQ6qC,kBAEzE,sBAAKxqC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UACI,cAAC0tC,GAAD,CAAe7tB,KAAM,KACrB,sBAAKnd,UAAWC,IAAWN,EAAQ7D,OAAQ6D,EAAQtD,WAAYsD,EAAQnF,UAAWmF,EAAQ5E,SAAU4E,EAAQ6uB,KAA5G,UACKic,EADL,IACyC7oC,EAAJ,IAAjB6oC,EAA+B,mBAAsBA,EAAe,EAAc,oBAAiC,8BAG3I,sBAAKzqC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQupB,KAA5E,UACI,cAAC+hB,GAAD,CAAe9tB,KAAM,KACrB,sBAAKnd,UAAWC,IAAWN,EAAQ7D,OAAQ6D,EAAQtD,WAAYsD,EAAQnF,UAAWmF,EAAQ5E,SAAU4E,EAAQ6uB,KAA5G,UACKkc,EADL,IAC6B9oC,EAAJ,IAAX8oC,EAAyB,kBAAqBA,EAAS,EAAc,mBAAgC,6BASvH,sBAAK1qC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQ4pC,KAA/F,UACI,sBAAKvpC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,SAAlD,UACI,qBAAKF,UAAWC,IAAWN,EAAQxD,UAAWwD,EAAQrE,OAAtD,SACKsG,EAAU,0BAEf,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQupB,KAA5E,UACI,qBAAKlpB,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,aAC7E,qBAAKjnC,UAAWC,IAAWN,EAAQqnC,cAAelnB,GAAc,GAAKngB,EAAQsnC,mBAGrF,sBAAKjnC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,SAAlD,UACI,qBAAKF,UAAWC,IAAWN,EAAQxD,UAAWwD,EAAQrE,OAAtD,SACKsG,EAAU,qBAEf,qBAAK5B,UAAWC,IAAWN,EAAQtE,MAAOsE,EAAQnF,UAAWmF,EAAQrD,aAAcqD,EAAQyyB,KAA3F,SACK+U,cAMK,IAApBznC,EAAMwrC,WAAwB,cAAC,GAAD,CAAQlrC,UAAWC,IAAWN,EAAQ4qC,cAAe3qC,WAAS,EAACud,KAAK,KAApE,SAC3Bvb,EAAU,6BC9HhBzL,SACXwI,sBAnBW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAeA5G,EAXf,SAA+BuJ,GAAQ,MAC3BC,EAAYD,EAAZC,QACR,OACI,mCACI,qBAAK5C,MAAM,OAAOG,OAAO,OAAO0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA6B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAtJ,SACI,sBAAM/W,EAAE,oBAAoBR,KAAK,mBCMlCzP,SACXwI,sBAnBW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAeA5G,EAXf,SAA+BuJ,GAAQ,MAC3BC,EAAYD,EAAZC,QACR,OACI,mCACI,qBAAK5C,MAAM,KAAKG,OAAO,KAAK0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA8B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAnJ,SACI,sBAAM4sB,YAAU,UAAUC,YAAU,UAAU5jC,EAAE,6MAA6MR,KAAK,mBCgGnQzP,SACXwI,sBAnGW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBs0C,UAAW,CACPnsC,UAAW,6BACXtC,aAAc,6BACdkB,UAAW,OACX,qBAAsB,CAClBlB,aAAc,GAElB,WAAY,CACR9D,QAAS,SAGjBwyC,cAAe,CACXxzC,OAAQ,QAGZyzC,YAAa,CACT3gC,gBAAiB,cACjBjO,OAAQ,IACR/E,cAAe,EACf8sC,UAAW,GACXvsC,QAAS,IACT,oBAAqB,CACjBusC,UAAW,KAGnB8G,eAAgB,CACZ,oBAAqB,CACjB1zC,OAAQ,WAGhB2zC,gBAAiB,GAEjBC,YAAa,CACTvzC,QAAS,0BAEbwzC,YAAa,CACT1uC,MAAO,QAEX2uC,gBAAiB,CACb1zC,YAAa,YA2DjBwK,GAFWrM,EAnDf,SAAauJ,GAAQ,MACTC,EAAYD,EAAZC,QADQ,EAEgBE,oBAAS,GAFzB,mBAETC,EAFS,KAECC,EAFD,KAUhB,OACI,mCACI,qBAAKC,UAAWC,IAAWP,EAAMM,WAAjC,SAEON,EAAMisC,WAAajsC,EAAMisC,UAAU9nC,KAAI,CAACmF,EAAM3R,KAC1C,OACC,eAAC,KAAD,CACIiS,QAAM,EACNxJ,SAAUA,IAAazI,EACvBgT,UAfHi+B,EAe0BjxC,EAfjB,CAACsL,EAAO7C,KAClC5H,QAAQC,IAAImwC,GACZpwC,QAAQC,IAAI2H,GAEZC,IAAYD,GAAWwoC,KAYH3oC,QAAS,CAACyE,KAAMzE,EAAQwrC,UAAWrrC,SAAUH,EAAQyrC,eAJzD,UAMI,cAAC,KAAD,CAA0BzrC,QAAS,CAACyE,KAAMzE,EAAQ0rC,YAAa5lC,QAAS9F,EAAQ2rC,eAAgBxrC,SAAUH,EAAQ4rC,iBAAlH,SACI,sBAAKvrC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UACI,qBAAK0C,UAAWC,IAAWN,EAAQ8rC,YAAa9rC,EAAQQ,MAAOR,EAAQrC,kBAAvE,SACKwC,IAAazI,EAAQ,cAACu0C,GAAD,IAA2B,cAACC,GAAD,MAErD,qBAAK7rC,UAAWC,IAAWN,EAAQpD,UAAnC,SACKyM,EAAKoO,mBAIlB,cAAC,KAAD,CAA0BzX,QAAS,CAACyE,KAAMzE,EAAQ6rC,aAAlD,SACI,qBAAKxrC,UAAWC,IAAWN,EAAQtE,MAAOsE,EAAQ+rC,iBAAlD,SACK1iC,EAAKvD,eA9BjB6iC,gBC1CVnyC,SACXwI,sBApBW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAgBA5G,EAZf,SAAsBuJ,GAAQ,MAClBC,EAAYD,EAAZC,QACR,OACI,mCACI,sBAAK5C,MAAM,OAAOG,OAAO,OAAO0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA6B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAtJ,UACI,yBAASgtB,GAAG,KAAKC,GAAG,UAAU0B,GAAG,KAAKC,GAAG,UAAUnmC,KAAK,YACxD,sBAAMQ,EAAE,sWAAsWR,KAAK,kBCQpXzP,SACXwI,sBAtBW9H,IAAK,CAChBg0B,KAAM,CACF3tB,OAAQ,OACRH,MAAO,YAkBA5G,EAdf,SAAuBuJ,GAAQ,MACnBC,EAAYD,EAAZC,QACR,OACI,mCACI,sBAAK5C,MAAM,OAAOG,OAAO,OAAO0sC,QAAQ,YAAYhkC,KAAK,OAAOikC,MAAM,6BAA6B7pC,UAAWC,IAAWN,EAAQkrB,MAAOrqB,MAAO,CAACtD,OAAO,GAAD,OAAKwC,EAAMyd,KAAX,OAAtJ,UACI,sBAAM/W,EAAE,kNAAkNR,KAAK,YAC/N,sBAAMmkC,YAAU,UAAUC,YAAU,UAAU5jC,EAAE,+PAA+PR,KAAK,YACpT,sBAAMmkC,YAAU,UAAUC,YAAU,UAAU5jC,EAAE,u5CAAu5CR,KAAK,oBCC59C,MA4PMoiB,GAAkB,CACpBC,UAAW,OACXC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,GAGd,SAAS4jB,GAAUtsC,GAAQ,MACfC,EAAuBD,EAAvBC,QAASiC,EAAclC,EAAdkC,UADK,EAEE/B,mBAAS,GAFX,mBAEfosC,EAFe,KAETC,EAFS,OAGIrsC,mBAAS,GAHb,mBAGfssC,EAHe,KAGRC,EAHQ,OAIQvsC,mBAAS,GAJjB,mBAIfwsC,EAJe,KAINC,EAJM,OAKQzsC,mBAAS,GALjB,mBAKf0sC,EALe,KAKNC,EALM,OAMI3sC,mBAAS,MANb,mBAMf4sC,EANe,KAMRC,EANQ,KAQhBC,EAAoB,KACtB,IACIC,EAAUC,IACVC,EAAQF,KACRG,EAAOD,MAEP/jB,EAAM,IAAIzhB,KAAK,UACf0lC,EAAM,IAAI1lC,KACVqjC,EAAO5hB,EAAI6T,UAAYoQ,EAAIpQ,UAE/B,GAAG+N,EAAO,EACNsC,cAAcR,OAEX,CACH,IAAIR,EAAOlvB,KAAKmwB,MAAMvC,EAAOoC,GACzBZ,EAAQpvB,KAAKmwB,MAAOvC,EAAOoC,EAAQD,GACnCT,EAAUtvB,KAAKmwB,MAAOvC,EAAOmC,EAASF,GACtCL,EAAUxvB,KAAKmwB,MAAOvC,EAAOiC,EAhBvB,KAkBVV,EAAQD,GACRG,EAASD,GACTG,EAAWD,GACXG,EAAWD,KAWnB,OAPApZ,qBAAU,KACN,IAAIga,EAAWC,YAAYT,EAAmB,KAE9C,OADAD,EAASS,GACF,KACHF,cAAcR,MAEnB,IAEC,sBAAKzsC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,iBAAkBoC,EAAMqJ,QAAUpJ,EAAQU,qBAAsBV,EAAQnF,UAAWmF,EAAQupB,KAA3J,UACI,sBAAKlpB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQ0tC,IAAK1tC,EAAQ2tC,OAA1G,UACI,qBAAKttC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQ5E,SAAU4E,EAAQ/D,QAAvE,SACKqwC,IAEL,qBAAKjsC,UAAWC,IAAWN,EAAQ5E,UAAnC,SACK6G,EAAU,uBAGnB,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQ4tC,IAAK5tC,EAAQ0tC,IAAK1tC,EAAQ2tC,OAAvH,UACI,qBAAKttC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQ5E,SAAU4E,EAAQ/D,QAAvE,SACKuwC,IAEL,qBAAKnsC,UAAWC,IAAWN,EAAQ5E,UAAnC,SACK6G,EAAU,wBAGnB,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQ4tC,IAAK5tC,EAAQ0tC,IAAK1tC,EAAQ2tC,OAAvH,UACI,qBAAKttC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQ5E,SAAU4E,EAAQ/D,QAAvE,SACKywC,IAEL,qBAAKrsC,UAAWC,IAAWN,EAAQ5E,UAAnC,SACK6G,EAAU,0BAGnB,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQ4tC,IAAK5tC,EAAQ2tC,OAA1G,UACI,qBAAKttC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQ5E,SAAU4E,EAAQ/D,QAAvE,SACK2wC,IAEL,qBAAKvsC,UAAWC,IAAWN,EAAQ5E,UAAnC,SACK6G,EAAU,6BAO/B,MAAM4rC,WAAyBvsC,IAAMQ,UACjCC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAUnB4oB,UAVmB,wBAUP,uBAAA9xB,EAAA,sEACF,EAAKkJ,MAAM0T,KAAKmV,gBADd,uBAEF,EAAK7oB,MAAM0T,KAAKiS,SAAS,CAAC,CAAC7Z,MAAO,WAAYlT,MAAO,KAAM,CAACkT,MAAO,QAAS8K,IAAK,QAF/E,2CAVO,KAenBlO,aAAe,CAAC/P,EAAMC,KAClB0J,KAAKY,SAAS,CACV,CAACvK,GAAOC,KAjBG,KAqBnBm1C,gBArBmB,wBAqBD,mCAAAj3C,EAAA,2DACqB,EAAK4L,MAAhCoN,EADM,EACNA,MAAOk+B,EADD,EACCA,iBAEZl+B,IAASk+B,EAHE,0CAKe,EAAKhuC,MAAM0T,KAAKqrB,UAAU,CAAEjvB,UAL3C,OAKAwC,EALA,OAMN,EAAKpP,SAAS,CAAE4M,MAAO,GAAIk+B,iBAAiB,IAC5CC,MAAM37B,EAAOurB,KAPP,kDAUNrlC,QAAQuT,MAAR,MAVM,0DArBC,KAoCnBmd,iBAAmB,CAACglB,GAAW,KAAU,MAC7B/kB,EAAe7mB,KAAKtC,MAAM0T,KAA1ByV,WACAlpB,EAAYqC,KAAKtC,MAAjBC,QACR,OAAOkpB,EAAW5W,KAAKpO,KAAI,CAAC4kB,EAAWpxB,IAE/Bu2C,EACA,qBAAK5tC,UAAW,gBAAhB,SACI,cAAC,GAAD,CAEI+G,MAAO0hB,EAAUpwB,KACjB+e,YAAaqR,EAAUrR,YACvB+hB,MAAO1Q,EAAU0Q,MACjBpQ,IAAKN,EAAUM,IACf/oB,UAAWC,IAAWN,EAAQy8B,cAAez8B,EAAQupB,IAAKvpB,EAAQwpB,IAAM9xB,IAAUwxB,EAAW5W,KAAK5b,OAAS,GAAMsJ,EAAQ4E,KACzHub,WAAY2I,EAAU3I,WACtB4Z,QAASjR,EAAUwQ,WACnBiS,WAAW,GARNziB,EAAUhX,OAWvB,cAAC,KAAD,CAAMzI,MAAI,EAACG,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,IAAWN,EAAQkuC,eAAvD,SACI,cAAC,GAAD,CAEI9mC,MAAO0hB,EAAUpwB,KACjB+e,YAAaqR,EAAUrR,YACvB+hB,MAAO1Q,EAAU0Q,MACjBpQ,IAAKN,EAAUM,IACf/oB,UAAWC,IAAWN,EAAQmuC,mBAAoBnuC,EAAQouC,KAC1DjuB,WAAY2I,EAAU3I,WACtB4Z,QAASjR,EAAUwQ,WACnBiS,WAAW,GARNziB,EAAUhX,UAvD/BzP,KAAKI,MAAQ,CACToN,MAAO,GACPk+B,iBAAiB,GAGzB55B,oBACI9R,KAAKsmB,YAgETjmB,SAAU,MAAD,EAC0BL,KAAKtC,MAA5BC,EADH,EACGA,QAASiC,EADZ,EACYA,UACTwmC,EAAUpmC,KAAKtC,MAAM0T,KAArBg1B,MAER,OACI,qCACI,qBAAKpoC,UAAWC,IAAWN,EAAQ6oC,WAAY7oC,EAAQquC,SAAvD,SACI,sBAAKhuC,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQ1C,KAAM0C,EAAQQ,MAAOR,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQmF,kBAAmBnF,EAAQipC,cAApJ,UAII,cAACoD,GAAD,CAAWrsC,QAASA,EAASoJ,QAAM,EAACnH,UAAWA,IAE/C,sBAAK5B,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQ1E,SAAU0E,EAAQ9D,OAAQ8D,EAAQinB,IAAKjnB,EAAQsuC,IAAKtuC,EAAQY,YAAlH,UACI,sBAAMP,UAAWC,IAAWN,EAAQrD,cAApC,SAAoDsF,EAAU,oBADlE,IAC4F,sBAAM5B,UAAWC,IAAWN,EAAQjF,aAApC,SAAmD,IAAI4M,KAAKhB,GAAO6yB,OAAOpmB,mBAAmB/Q,KAAKtC,MAAMmC,aAEpM,qBAAK7B,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQ7C,KAAM6C,EAAQwyB,KAApE,SACI,qBAAKnyB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQU,sBAAlD,SACI,cAAC,GAAD,CAAQL,UAAWC,IAAWN,EAAQmpC,UAAYlpC,WAAS,EAA3D,iCAQhB,qBAAKI,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQrF,YAAaqF,EAAQquC,SAA3E,SACI,cAAC,KAAD,CACI10C,WAAS,EACT8L,UAAU,MAFd,SAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQY,WAAYZ,EAAQuuC,IAAKvuC,EAAQwuC,KAAlF,UAII,oBAAInuC,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQupB,IAAKvpB,EAAQnF,UAAWmF,EAAQ9E,WAApG,SACK+G,EAAU,qBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQjF,YAAaiF,EAAQ9E,WAAzF,SACK+G,EAAU,qBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQnF,UAAWmF,EAAQ9E,WAAvF,SACK+G,EAAU,4BAM3B,qBAAK5B,UAAWC,IAAWN,EAAQyuC,aAAczuC,EAAQ0uC,MAAO1uC,EAAQ2uC,UAAxE,SACI,sBAAKtuC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQ1C,MAAhE,UACI,qBAAK+C,UAAWC,IAAWN,EAAQ4uC,qBAAnC,SACI,sBAAKvuC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQ1C,KAAM0C,EAAQpC,iBAAjF,UACI,sBAAKyC,UAAWC,IAAWN,EAAQxC,IAAKwC,EAAQQ,MAAOR,EAAQO,QAASP,EAAQU,qBAAsBV,EAAQ6uC,MAA9G,UACI,oBAAIxuC,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQhE,OAAQgE,EAAQ9E,WAApE,SACK+G,EAAU,qBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQhE,OAAQgE,EAAQjF,YAAaiF,EAAQ9E,WAAzF,SACK+G,EAAU,qBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQhE,OAAOgE,EAAQ9E,WAAnE,SACK+G,EAAU,wBAGnB,sBAAK5B,UAAWC,IAAWN,EAAQxC,IAAKwC,EAAQQ,MAAOR,EAAQO,QAASP,EAAQU,qBAAsBV,EAAQ6uC,MAA9G,UACI,cAACxC,GAAD,CAAWrsC,QAASA,EAASiC,UAAWA,IAExC,sBAAK5B,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQ1E,SAAU0E,EAAQ9D,OAAQ8D,EAAQinB,KAAxF,UACI,sBAAM5mB,UAAWC,IAAWN,EAAQrD,cAApC,SAAoDsF,EAAU,oBADlE,IAC4F,sBAAM5B,UAAWC,IAAWN,EAAQjF,aAApC,SAAmD,IAAI4M,KAAKhB,GAAO6yB,OAAOpmB,mBAAmB/Q,KAAKtC,MAAMmC,aAEpM,cAAC,GAAD,CAAQ7B,UAAWC,IAAWN,EAAQoqB,KAAtC,SACKnoB,EAAU,+BAK3B,qBAAK5B,UAAWC,IAAWN,EAAQ8uC,wBAAyB9uC,EAAQlB,gBAApE,SACI,qBAAKiG,IAAK,4BAA6B1E,UAAWC,IAAWN,EAAQvB,mBAKjF,qBAAK4B,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQ+uC,KAAM/uC,EAAQgvC,OAAQhvC,EAAQivC,QAApF,SACI,eAAC,KAAD,CACIt1C,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGogB,GAAI,EAAIvpB,UAAWC,MAA7C,UACI,oBAAID,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQY,WAAYZ,EAAQ9E,UAAW8E,EAAQkvC,SAA3G,SACKjtC,EAAU,kBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQhE,OAAQgE,EAAQmvC,SAAUnvC,EAAQ9E,UAAW8E,EAAQ0uC,MAAO1uC,EAAQovC,UAAxH,SACKntC,EAAU,qBAGnB,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGogB,GAAI,EAA9B,SACI,qBAAKvpB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQU,qBAAsBV,EAAQqvC,sBAAuBrvC,EAAQ7C,KAAM6C,EAAQwyB,IAAKxyB,EAAQsvC,OAA1I,SACI,sBAAKjvC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,SAAlD,UACI,sBAAKF,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQupC,eAAlD,UACI,qBAAKlpC,UAAWC,IAAWN,EAAQuvC,iBAAkBvvC,EAAQ1E,SAAU0E,EAAQtD,YAA/E,eAGA,sBAAK2D,UAAWC,IAAWN,EAAQ2zB,KAAnC,UACI,qBAAKtzB,UAAWC,IAAWN,EAAQ9D,OAAQ8D,EAAQrD,cAAnD,SACKsF,EAAU,yBAEf,qBAAK5B,UAAWC,IAAWN,EAAQ7D,OAAQ6D,EAAQvD,aAAnD,SACKwF,EAAU,qCAIvB,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQupC,cAAevpC,EAAQoqB,IAAKpqB,EAAQwvC,OAAtF,UACI,qBAAKnvC,UAAWC,IAAWN,EAAQuvC,iBAAkBvvC,EAAQ1E,SAAU0E,EAAQtD,YAA/E,eAGA,sBAAK2D,UAAWC,IAAWN,EAAQ2zB,KAAnC,UACI,qBAAKtzB,UAAWC,IAAWN,EAAQ9D,OAAQ8D,EAAQrD,cAAnD,SACKsF,EAAU,yBAEf,qBAAK5B,UAAWC,IAAWN,EAAQ7D,OAAQ6D,EAAQvD,aAAnD,SACKwF,EAAU,qCAIvB,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQupC,cAAevpC,EAAQoqB,IAAKpqB,EAAQwvC,OAAtF,UACI,qBAAKnvC,UAAWC,IAAWN,EAAQuvC,iBAAkBvvC,EAAQ1E,SAAU0E,EAAQtD,YAA/E,eAGA,sBAAK2D,UAAWC,IAAWN,EAAQ2zB,KAAnC,UACI,qBAAKtzB,UAAWC,IAAWN,EAAQ9D,OAAQ8D,EAAQrD,cAAnD,SACKsF,EAAU,yBAEf,qBAAK5B,UAAWC,IAAWN,EAAQ7D,OAAQ6D,EAAQvD,aAAnD,SACKwF,EAAU,iDAU3C,qBAAK5B,UAAWC,IAAWN,EAAQyvC,yBAA0BzvC,EAAQ0vC,IAAK1vC,EAAQ2vC,OAAQ3vC,EAAQ4vC,QAAlG,SACI,qBAAKvvC,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,cAAC,KAAD,CACIA,WAAS,EACT8L,UAAU,MAFd,SAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQY,WAAYZ,EAAQ6vC,YAArE,UACI,oBAAIxvC,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ9E,UAAU8E,EAAQkvC,SAAtE,SACKjtC,EAAU,wBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ9E,UAAW8E,EAAQhE,OAAQgE,EAAQ0uC,MAAO1uC,EAAQovC,UAAtG,SACKntC,EAAU,iCAO/B,qBAAK5B,UAAWC,IAAWN,EAAQ8vC,qBAAnC,SACI,qBAAKzvC,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQwuC,IAAKxuC,EAAQykC,IAAKzkC,EAAQ+vC,OAAhF,SACI,eAAC,KAAD,CACIp2C,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SAHZ,UAKI,cAAC,KAAD,CAAM5kB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQkvC,SAAjD,SACI,qBAAK7uC,UAAWC,IAAWN,EAAQlC,mBAAnC,SACI,cAAC,KAAD,CACIuC,UAAWC,IAAWN,EAAQjC,iBAC9BujB,QAAS+G,GACT8B,gBAAgB,EAHpB,SAKK9nB,KAAK4mB,yBAKlB,cAAC,KAAD,CAAM5f,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ0uC,MAAO1uC,EAAQovC,UAAhE,SACI,cAAC,KAAD,CACIz1C,WAAS,EACT8L,UAAU,MACVpF,UAAWC,IAAWN,EAAQgwC,yBAHlC,SAKK3tC,KAAK4mB,kBAAiB,cAU3C,qBAAK5oB,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQiwC,KAAMjwC,EAAQkwC,QAApE,SACI,eAAC,KAAD,CACIv2C,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,MAA5C,UAEI,oBAAID,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQ9E,WAApE,SACI+G,EAAU,qBAEd,qBAAK5B,UAAWC,IAAWN,EAAQyyB,IAAKzyB,EAAQtD,YAAhD,SACKuF,EAAU,8BAKnB,eAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAKE,GAAI,EAAGogB,GAAI,EAAGumB,GAAI,EAAG9vC,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQsvC,OAApF,UACI,cAACj8B,GAAD,CACI3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMoN,MAClBlF,KAAK,QACLkB,MAAM,UAEV,sBAAKxL,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQowC,UAAWpwC,EAAQqwC,wBAAyBrwC,EAAQswC,mBAAoBtwC,EAAQmB,IAAKnB,EAAQuwC,OAAhK,UACI,cAAC,GAAD,CACI7lC,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMsrC,gBAClBliC,MAAM,kBACND,MAAO3J,EAAU,mBACjB5B,UAAWC,QAEf,cAAC,GAAD,CAAQkwC,iBAAkBlwC,IAAWN,EAAQw0B,IAAKx0B,EAAQywC,OAAQxwC,WAAS,EAACc,QAASsB,KAAKyrC,gBAA1F,SACK7rC,EAAU,iCAQ/B,eAAC,KAAD,CACItI,WAAS,EACT8L,UAAU,MACVpF,UAAWC,IAAWN,EAAQkvC,SAHlC,UAKI,cAAC,KAAD,CAAM7lC,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGnJ,UAAWC,IAAWN,EAAQsuC,IAAKtuC,EAAQ0wC,IAAK1wC,EAAQrF,YAAaqF,EAAQ2wC,aAAvG,SACI,sBAAKtwC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQ1C,MAAnE,UACI,oBAAI+C,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ9E,UAAW8E,EAAQnF,UAAWmF,EAAQ/D,QAA1F,SACKgG,EAAU,yBAEf,qBAAK5B,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQtD,WAAYsD,EAAQnF,UAAWmF,EAAQ4wC,IAAK5wC,EAAQ6wC,OAApG,SACK5uC,EAAU,oCAKvB,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGnJ,UAAWC,IAAWN,EAAQ8wC,aAAxD,SACI,qBAAK/rC,IAAK,wBAAyB1E,UAAWC,IAAWN,EAAQ+wC,cAGrE,cAAC,KAAD,CAAM1nC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQsuC,IAAKtuC,EAAQgxC,wBAAyBhxC,EAAQkvC,SAA/F,SACI,qBAAK7uC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQU,sBAAlD,SACI,cAAC,GAAD,CAAQL,UAAWC,IAAWN,EAAQixC,mBAAoBhxC,WAAS,EAAnE,SACKgC,EAAU,kBAM3B,sBAAK5B,UAAWC,IAAWN,EAAQkxC,mBAAoBlxC,EAAQ0uC,MAAO1uC,EAAQovC,UAA9E,UACI,qBAAK/uC,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQ1C,MAAtD,SACI,cAAC,KAAD,CACI3D,WAAS,EACT8L,UAAU,MACVpF,UAAWC,IAAWN,EAAQ1C,MAHlC,SAKI,cAAC,KAAD,CAAM+L,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGnJ,UAAWC,IAAWN,EAAQsuC,IAAKtuC,EAAQ0wC,IAAK1wC,EAAQrF,YAAaqF,EAAQ2wC,aAAvG,SACI,qBAAKtwC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQ1C,MAA5E,SACI,sBAAK+C,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,SAAlD,UACI,oBAAIF,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ9E,UAAW8E,EAAQnF,UAAWmF,EAAQhE,QAA1F,SACKiG,EAAU,yBAEf,qBAAK5B,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQtD,WAAYsD,EAAQnF,UAAWmF,EAAQ4wC,IAAK5wC,EAAQ6wC,OAApG,SACK5uC,EAAU,+BAEf,cAAC,GAAD,CAAQ5B,UAAWC,IAAWN,EAAQixC,kBAAmBjxC,EAAQoqB,KAAjE,SACKnoB,EAAU,8BAUnC,qBAAK8C,IAAK,wBAAyB1E,UAAWC,IAAWN,EAAQmxC,8BA+BrE,qBAAK9wC,UAAWC,IAAWN,EAAQoxC,KAAMpxC,EAAQqxC,QAAjD,SACI,eAAC,KAAD,CACI13C,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGnJ,UAAWC,MAArC,UACI,qBAAKD,UAAWC,IAAWN,EAAQlB,eAAgBkB,EAAQsxC,gBAA3D,SACI,qBAAKvsC,IAAK,kCAAmC1E,UAAWC,IAAWN,EAAQvB,cAE/E,qBAAK4B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQuxC,uBAAwBvxC,EAAQwxC,MAAOxxC,EAAQ+mB,GAAI/mB,EAAQyxC,MAA7G,SACI,sBAAKpxC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQ0xC,iBAAnE,UACI,oBAAIrxC,UAAWC,IAAWN,EAAQ/D,QAAlC,SAA4CgG,EAAU,sBACtD,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ5D,WAAhD,SACK6F,EAAU,oCAM3B,eAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGnJ,UAAWC,IAAWN,EAAQoqB,IAAKpqB,EAAQsvC,OAArE,UACI,qBAAKjvC,UAAWC,IAAWN,EAAQlB,eAAgBkB,EAAQsxC,gBAA3D,SACI,qBAAKvsC,IAAK,2BAA4B1E,UAAWC,IAAWN,EAAQvB,cAExE,qBAAK4B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQuxC,uBAAwBvxC,EAAQwxC,MAAOxxC,EAAQ+mB,GAAI/mB,EAAQyxC,MAA7G,SACI,sBAAKpxC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQ0xC,iBAAnE,UACI,oBAAIrxC,UAAWC,IAAWN,EAAQ/D,QAAlC,SAA4CgG,EAAU,sBACtD,qBAAK5B,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ5D,WAAhD,SACK6F,EAAU,yCAQnC,qBAAK5B,UAAWC,IAAWN,EAAQkvC,SAAUruC,MAAO,CAACxG,WAAY,WAAjE,SACI,qBAAKgG,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQi0B,IAAKj0B,EAAQ2xC,KAAnE,SACI,cAAC,KAAD,CACIh4C,WAAS,EACT8L,UAAU,MAFd,SAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,MAA9B,UACI,oBAAID,UAAWC,IAAWN,EAAQ/D,OAAQ+D,EAAQ5E,SAAU4E,EAAQ9E,WAApE,SACK+G,EAAU,0BAEf,qBAAK5B,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQw0B,IAAKx0B,EAAQY,YAA9D,SACI,qBAAKmE,IAAK,mBAAoB1E,UAAWC,IAAWN,EAAQ7C,MAAO0D,MAAO,CAACzD,MAAO,oBAYtG,qBAAKiD,UAAWC,IAAWN,EAAQ0uC,MAAO1uC,EAAQovC,SAAUpvC,EAAQ4xC,MAAO/wC,MAAO,CAACxG,WAAY,WAA/F,SACI,qBAAKgG,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQ+uC,MAAtD,SACI,eAAC,KAAD,CACIp1C,WAAS,EACT8L,UAAU,MAFd,UAII,cAAC,KAAD,CAAM4D,MAAI,EAACG,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,IAAWN,EAAQ6xC,IAAK7xC,EAAQ8xC,OAApE,SACI,oBAAIzxC,UAAWC,IAAWN,EAAQhE,OAAQgE,EAAQ5E,SAAU4E,EAAQ9E,WAApE,SACK+G,EAAU,kCAGnB,cAAC,KAAD,CAAMoH,MAAI,EAACG,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,IAAWN,EAAQhD,kBAAvD,SACI,qBAAK+H,IAAK,uBAAwB1E,UAAWC,IAAWN,EAAQ+xC,yBAMhF,qBAAKhrC,GAAG,aAAa1G,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQrF,YAAaqF,EAAQkvC,SAA3F,SACI,eAAC,KAAD,CACIv1C,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQiwC,MAAjD,UAEI,oBAAI5vC,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQ9E,UAAW8E,EAAQnF,WAAvF,SACIoH,EAAU,qBAEd,qBAAK5B,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQtD,WAAYsD,EAAQnF,WAApE,SACKoH,EAAU,2BAGf,cAACoR,GAAD,CACI3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMoN,MAClBhE,MAAM,QACNxL,UAAWC,IAAWN,EAAQoqB,IAAKpqB,EAAQwpB,OAE/C,cAAC,GAAD,CACI9e,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMsrC,gBAClBliC,MAAM,kBACND,MAAO3J,EAAU,mBACjBmpB,aAAc9qB,IAAWN,EAAQnF,WACjCmc,OAAO,IAEX,cAAC,GAAD,CAAQ3W,UAAWC,IAAWN,EAAQw0B,KAAMv0B,WAAS,EAACc,QAASsB,KAAKyrC,gBAApE,SACK7rC,EAAU,yBAInB,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,aAMtC,qBAAKD,UAAWC,IAAWN,EAAQrF,YAAaqF,EAAQ0uC,MAAO1uC,EAAQovC,SAAUpvC,EAAQgyC,uBAAzF,SACI,qBAAK3xC,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQiwC,KAAMjwC,EAAQkwC,QAApE,SACI,eAAC,KAAD,CACIv2C,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,MAA5C,UAEI,oBAAID,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ/D,OAAQ+D,EAAQ9E,UAAW8E,EAAQnF,WAAvF,SACKoH,EAAU,qBAEf,qBAAK5B,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQtD,WAAYsD,EAAQnF,WAApE,SACKoH,EAAU,8BAKnB,eAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAKE,GAAI,EAAGogB,GAAI,EAAGumB,GAAI,EAAG9vC,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQsvC,OAApF,UACI,sBAAKjvC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,QAASP,EAAQowC,UAAWpwC,EAAQqwC,wBAAyBrwC,EAAQnC,cAAemC,EAAQswC,mBAAoBtwC,EAAQmB,IAAKnB,EAAQuwC,OAAvL,UACI,cAACl9B,GAAD,CACI3I,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMoN,MAClBhE,MAAM,UAEV,sBAAKxL,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQknB,sBAAuBlnB,EAAQmB,IAAKnB,EAAQywC,OAAxH,UACI,cAAC,GAAD,CACI/lC,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMsrC,gBAClBliC,MAAM,kBACND,MAAO3J,EAAU,mBACjB5B,UAAWC,IAAWN,EAAQquC,SAC9BjjB,aAAc9qB,IAAWN,EAAQnF,WACjCmc,OAAO,IAEX,cAAC,GAAD,CAAQ3W,UAAWC,IAAWN,EAAQ2zB,IAAK3zB,EAAQywC,OAAQn8B,SAAU,IAAKvT,QAASsB,KAAKyrC,gBAAxF,SACK7rC,EAAU,4BAKvB,qBAAK5B,UAAWC,IAAWN,EAAQmF,kBAAmBnF,EAAQinB,IAAKjnB,EAAQ0uC,MAAO1uC,EAAQiyC,SAA1F,SACI,cAAC,GAAD,CACIvnC,SAAUrI,KAAKoG,aACf7B,WAAS,EACT0D,UAAQ,EACR3R,MAAO0J,KAAKI,MAAMsrC,gBAClBliC,MAAM,kBACND,MAAO3J,EAAU,mBACjB5B,UAAWC,MACX8qB,aAAc9qB,IAAWN,EAAQnF,WACjCmc,OAAO,gBAQ/B,qBAAK3W,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQ+uC,KAAM/uC,EAAQgvC,OAAQhvC,EAAQivC,QAApF,SACI,eAAC,KAAD,CACIt1C,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,IAAWN,EAAQwuB,IAAKxuB,EAAQ6wC,OAA5E,UAII,oBAAIxwC,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQ9D,OAAQ8D,EAAQ9E,UAAW8E,EAAQkvC,SAAvF,SACKjtC,EAAU,iBAEf,oBAAI5B,UAAWC,IAAWN,EAAQ5E,SAAU4E,EAAQhE,OAAQgE,EAAQmvC,SAAUnvC,EAAQ9E,UAAW8E,EAAQ0uC,MAAO1uC,EAAQovC,UAAxH,SACKntC,EAAU,oBAGnB,cAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAGogB,GAAI,EAAGvpB,UAAWC,MAA5C,SACI,cAAC,GAAD,CAAK0rC,UAAWvD,EAAMn2B,cAKlC,qBAAKjS,UAAWC,IAAWN,EAAQkyC,UAAnC,SACI,qBAAK7xC,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,eAAC,KAAD,CACIA,WAAS,EACT8L,UAAU,MAFd,UAII,eAAC,KAAD,CAAM4D,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQmyC,IAAKnyC,EAAQkvC,SAApJ,UACI,sBAAK7uC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQO,SAAlD,UACI,qBAAKF,UAAWC,MAAhB,SACK2B,EAAU,mBAEf,mBAAG5B,UAAWC,IAAWN,EAAQpD,UAAjC,SACKqF,EAAU,sBAGnB,sBAAK5B,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UACI,mBAAG0C,UAAWC,IAAWN,EAAQ4E,KAAjC,SACI,cAACwtC,GAAD,CAAe50B,KAAM,OAEzB,mBAAGnd,UAAWC,MAAd,SACI,cAAC+xC,GAAD,CAAc70B,KAAM,aAKhC,eAAC,KAAD,CAAMnU,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQrC,iBAAkBqC,EAAQ7C,KAAM6C,EAAQmyC,IAAKnyC,EAAQ0uC,MAAO1uC,EAAQsyC,SAArH,UACI,sBAAKjyC,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UACI,mBAAG0C,UAAWC,IAAWN,EAAQ4E,KAAjC,SACI,cAACwtC,GAAD,CAAe50B,KAAM,OAEzB,mBAAGnd,UAAWC,MAAd,SACI,cAAC+xC,GAAD,CAAc70B,KAAM,UAI5B,mBAAGnd,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQuyC,KAAnD,SACKtwC,EAAU,iCAYhCzL,SACXwI,sBA79BW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB2xC,WAAY,CACRzrC,MAAO,OAEPG,OAAQ,4BACRlD,WAAY,4BACZ4Q,eAAgB,QAChBC,mBAAoB,SACpB,CAAChU,EAAMG,YAAYO,GAAG,OAAQ,CAC1ByC,WAAY,mCACZ4Q,eAAgB,QAChBC,mBAAoB,UAExBjO,SAAU,WACV,UAAW,CACP6I,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACViC,OAAQ,OACRR,KAAM,EACNtB,MAAO,OACPG,OAAQ,OACRlD,WAAY,8FAGpB4uC,aAAc,CACVrqC,OAAQ,GACR3B,SAAU,YAEdksC,SAAU,CACNpxC,aAAc,QACd6G,OAAQ,GAEZ6vC,aAAa,CACTlxC,OAAQ,qBACRH,MAAO,OACPH,SAAU,WACV3E,QAAS,SACT,UAAW,CACPwN,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACViC,OAAQ,IACRR,KAAM,IACNtB,MAAO,OACPG,OAAQ,MACRlD,WAAYnD,EAAMsD,QAAQI,UAAUF,KACpCkE,QAAS,IAGjBgwC,oBAAqB,CACjBxxC,MAAO,SAEX0xC,wBAAyB,CACrB1xC,MAAO,sBAGXo1C,gBAAiB,CACbp1C,MAAO,OAEXmyC,iBAAkB,CACdnyC,MAAO,OACPG,OAAQ,OACR9B,WAAY,OACZxB,aAAc,OACdZ,UAAW,SACXyB,MAAO5D,EAAMsD,QAAQI,UAAUF,KAC/Bc,SAAU,OACVsB,OAAO,aAAD,OAAe5F,EAAMsD,QAAQI,UAAUF,OAEjD+hC,cAAe,CACXr/B,MAAO,SAEX+wC,mBAAoB,CAChB/wC,MAAO,QAMX4yC,wBAAyB,CACrB,mBAAoB,CAChB,sBAAuB,CACnB,CAAC94C,EAAMG,YAAYo7C,KAAK,OAAQ,CAC5Bt6C,aAAc,WAGtB,sBAAuB,CACnB,CAACjB,EAAMG,YAAYo7C,KAAK,OAAQ,CAC5Bt6C,aAAc,QACdE,YAAa,UAGrB,sBAAuB,CACnB,CAACnB,EAAMG,YAAYo7C,KAAK,OAAQ,CAC5Bp6C,YAAa,WAIrB,sBAAuB,CACnB,CAACnB,EAAMG,YAAYO,GAAG,OAAQ,CAC1BO,aAAc,WAGtB,sBAAuB,CACnB,CAACjB,EAAMG,YAAYO,GAAG,OAAQ,CAC1BO,aAAc,QACdE,YAAa,UAGrB,sBAAuB,CACnB,CAACnB,EAAMG,YAAYO,GAAG,OAAQ,CAC1BO,aAAc,QACdE,YAAa,UAGrB,sBAAuB,CACnB,CAACnB,EAAMG,YAAYO,GAAG,OAAQ,CAC1BS,YAAa,aAK7B61C,cAAe,GAGfyC,YAAa,GAGbO,mBAAoB,CAChB72C,WAAYnD,EAAMsD,QAAQI,UAAUF,KACpCuC,SAAU,WACVM,OAAQ,QACR,CAACrG,EAAMG,YAAYO,GAAG,OAAQ,CAC1BK,OAAQ,WAEZ,UAAW,CACP6N,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACV0B,IAAK,IACL47B,MAAO,IACPn9B,MAAO,MACPG,OAAQ,OACRlD,WAAY,0BACZ4Q,eAAgB,QAChBC,mBAAoB,SACpBtM,OAAQ,IAGhBuyC,wBAAyB,CACrB/zC,MAAO,QACPG,OAAQ,OACRN,SAAU,WACVs9B,MAAO,MACP57B,IAAK,MACL24B,UAAW,uBACX14B,OAAQ,IACR,CAAC1H,EAAMG,YAAYO,GAAG,OAAQ,CAC1BwF,MAAO,UAGf0zC,YAAa,CACTz2C,WAAY,0BACZ4Q,eAAgB,QAChBC,mBAAoB,SACpBjO,SAAU,WACVM,OAAQ,SAEZwzC,SAAU,CACNxzC,OAAQ,QACRN,SAAU,WACV0B,IAAK,QACLD,KAAM,IACN67B,MAAO,IACPtiC,OAAQ,UAEZ+4C,wBAAyB,CACrB32C,WAAY,UACZnC,WAAY,SAEhB+4C,kBAAmB,CACfl5C,aAAc,SAElB26C,qBAAsB,CAClBt1C,MAAO,OACPG,OAAQ,QACR,CAACrG,EAAMG,YAAYO,GAAG,OAAQ,CAC1B2F,OAAQ,SAEZ,CAACrG,EAAMG,YAAYO,GAAG,OAAQ,CAC1B2F,OAAQ,UAGhBo1C,eAAgB,GAGhBrB,eAAgB,CACZl0C,MAAO,OACPG,OAAQ,SAEZm0C,gBAAiB,CACbt0C,MAAO,SAGX80C,SAAU,CACN73C,WAAY,WAEhBo1C,yBAA0B,CACtBp1C,WAAYnD,EAAMsD,QAAQI,UAAUF,KACpCI,MAAO,QACP,CAAC5D,EAAMG,YAAYO,GAAG,OAAQ,CAC1ByC,WAAY,UACZS,MAAO,YAGfg1C,oBAAqB,CACjB7yC,SAAU,WACV,CAAC/F,EAAMG,YAAYO,GAAG,OAAQ,CAC1BC,UAAW,SAEf,UAAW,CACPiO,QAAS,KACT7M,QAAS,QACTgE,SAAU,WACV0B,IAAK,IACLD,KAAM,IACNtB,MAAO,OACPG,OAAQ,OACRlD,WAAYnD,EAAMsD,QAAQI,UAAUF,KACpCkE,QAAS,EACT,CAAC1H,EAAMG,YAAYO,GAAG,OAAQ,CAC1B2F,OAAQ,qBACRoB,IAAK,MACL24B,UAAW,sBAIvBya,aAAc,CACV90C,SAAU,WACVG,MAAO,QAGX40C,sBAAuB,CACnB,CAAC96C,EAAMG,YAAYO,GAAG,OAAQ,CAC1BC,UAAW,cAwuBnBgL,GACAqd,GAHW1pB,CAIbq3C,ICr+BF,MAAM+E,WAAmBtxC,IAAMQ,UAC3BC,YAAYhC,GACRiC,MAAMjC,GACNsC,KAAKI,MAAQ,GAKjBC,SACI,OACI,qBAAK3B,QAAS,IAAIsB,KAAKtC,MAAMkB,QAAQC,KAAK,oBAA1C,wBASG1K,SACbwI,sBAzBa9H,GAAK,eACbwC,EAAgBxC,MAyBrBsK,EACA1B,IAHatJ,CAIbo8C,IC3BF,MA4EMvqB,GAAkB,CACpBC,UAAW,SACXC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,GAId,MAAMoqB,WAAwBvxC,IAAMQ,UAChCC,YAAYhC,GACRiC,MAAMjC,GADS,KAOnB+yC,cAAgB,KAAO,MACX9yC,EAAYqC,KAAKtC,MAAjBC,QAUR,MATc,CACV,CAAC+G,GAAI,EAAGrO,KAAM,kBAAmBq6C,SAAU,MAC3C,CAAChsC,GAAI,EAAGrO,KAAM,iBAAkBq6C,SAAU,MAC1C,CAAChsC,GAAI,EAAGrO,KAAM,OAAQq6C,SAAU,MAChC,CAAChsC,GAAI,EAAGrO,KAAM,SAAUq6C,SAAU,KAAMl8B,QAAQ,GAChD,CAAC9P,GAAI,EAAGrO,KAAM,iBAAkBq6C,SAAU,MAC1C,CAAChsC,GAAI,EAAGrO,KAAM,eAAgBq6C,SAAU,OAG7B7uC,KAAI88B,GAEX,qBAAK3gC,UAAWC,IAAW,iBAA3B,SACI,sBAAKD,UAAWC,IAAWN,EAAQgzC,mBAAoBhS,EAAOnqB,QAAU7W,EAAQizC,yBAA0BjzC,EAAQO,QAASP,EAAQrC,iBAAkBqC,EAAQ9F,UAAW8F,EAAQsuC,IAAKtuC,EAAQkyB,IAAKlyB,EAAQ4E,KAA1M,UACI,qBAAKvE,UAAWC,IAAWN,EAAQpD,UAAnC,SACKokC,EAAOtoC,OAEZ,qBAAK2H,UAAWC,MAAhB,SACK0gC,EAAO+R,mBAxB5B1wC,KAAKI,MAAQ,GAgCjBC,SAAU,MACC1C,EAAWqC,KAAKtC,MAAhBC,QACP,OACI,qCACI,qBAAKK,UAAWC,IAAWN,EAAQkzC,cAAnC,SACI,qBAAK7yC,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQg8B,IAAKh8B,EAAQ1C,MAAnE,SACI,sBAAK+C,UAAWC,IAAWN,EAAQO,QAASP,EAAQ1C,KAAM0C,EAAQ7C,KAAM6C,EAAQknB,uBAAhF,UACI,qBAAK7mB,UAAWC,IAAWN,EAAQmnC,qBAAnC,SACI,qBAAKpiC,IAAK,qBAAsB1E,UAAWC,IAAWN,EAAQonC,mBAElE,sBAAK/mC,UAAWC,IAAWN,EAAQO,QAASP,EAAQmzC,uBAApD,UACI,oBAAI9yC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQnF,WAApD,6BAGA,qBAAKwF,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQupB,KAAtD,iNAIA,qBAAKlpB,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQnF,UAAWmF,EAAQinB,KAAxE,oBAGA,qBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQyyB,KAAtD,iCAGA,sBAAKpyB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQupB,KAA5E,UACI,sBAAKlpB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQnF,UAAWmF,EAAQinB,KAAxE,wBAGA,qBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQyyB,KAAtD,wBAIJ,sBAAKpyB,UAAWC,IAAWN,EAAQO,QAASP,EAAQuyC,KAApD,UACI,qBAAKlyC,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQnF,UAAWmF,EAAQinB,KAAxE,8BAGA,qBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQyyB,KAAtD,+CAUxB,qBAAKpyB,UAAWC,IAAWN,EAAQozC,eAAnC,SACI,sBAAK/yC,UAAWC,IAAWN,EAAQO,QAASP,EAAQ1C,KAAM0C,EAAQmF,kBAAmBnF,EAAQqzC,sBAA7F,UACI,qBAAKhzC,UAAWC,IAAWN,EAAQrG,WAAnC,SACI,eAAC,KAAD,CACIA,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,UAMI,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACI,sBAAK5mB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQnF,UAAWmF,EAAQinB,KAAxE,wBAGA,qBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQyyB,KAAtD,0BAMR,cAAC,KAAD,CAAMppB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACI,sBAAK5mB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQnF,UAAWmF,EAAQinB,KAAxE,8BAGA,sBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQyyB,KAAtD,UACI,yCAAkB,sBAAMpyB,UAAWC,IAAWN,EAAQ2E,KAApC,oBAAuD,sBAAMtE,UAAWC,IAAWN,EAAQ2E,KAApC,6BAKrF,cAAC,KAAD,CAAM0E,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACI,qBAAK5mB,UAAWC,IAAWN,EAAQnF,UAAWmF,EAAQinB,KAAtD,4SASZ,qBAAK5mB,UAAWC,IAAWN,EAAQszC,sBAAuBtzC,EAAQoqB,IAAKpqB,EAAQorC,KAA/E,SACI,cAAC,KAAD,CACI/qC,UAAWC,IAAWN,EAAQuzC,iBAC9BjyB,QAAS+G,GACT8B,gBAAgB,EAHpB,SAKK9nB,KAAKywC,yBAMtB,qBAAKzyC,UAAWC,IAAWN,EAAQrG,WAAYkH,MAAO,CAACzI,cAAe,SAAtE,SACI,cAAC,KAAD,CACIuB,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,SACR70B,WAAW,SAJf,SAMI,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQinB,KAAjD,SACI,cAAC,GAAD,CAAQhnB,WAAS,EAACc,QAAS,IAAIsB,KAAKtC,MAAMkB,QAAQC,KAAK,sBAAvD,gDAWb1K,SACbwI,sBA/Oa9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBg8C,aAAc,CACVrO,UAAW,qBACXtnC,OAAQ,qBACRH,MAAO,OACP/C,WAAY,2BACZ4Q,eAAgB,QAChBC,mBAAoB,SACpBJ,iBAAkB,YAClB7N,SAAU,WACV,UAAW,CACP6I,QAAS,KACT7M,QAAS,QACTmE,MAAO,OACPG,OAAQ,OACRN,SAAU,WACV0B,IAAK,EACLD,KAAM,EACNrE,WAAY,mEAGpB+sC,cAAe,CACXhqC,MAAO,QACPG,OAAQ,OACRqB,OAAQ,GAEZu0C,sBAAuB,CACnB/6C,cAAe,QACfwG,OAAQ,GAEZw0C,cAAe,CACXvO,UAAW,qBACXtnC,OAAQ,qBACRH,MAAO,OACP/C,WAAY,iCACZ4Q,eAAgB,QAChBC,mBAAoB,SACpBJ,iBAAkB,YAClB7N,SAAU,WACV,UAAW,CACP6I,QAAS,KACT7M,QAAS,QACTmE,MAAO,OACPG,OAAQ,OACRN,SAAU,WACV0B,IAAK,EACLD,KAAM,EACNrE,WAAY,mEAGpBg5C,qBAAsB,CAClBz0C,OAAQ,EACR3B,SAAU,YAEds2C,gBAAiB,CACb,uBAAwB,GAGxB,+BAAgC,CAC5Bl7C,YAAa,WAEjB,8BAA+B,IAInC26C,mBAAoB,CAChB34C,WAAY,wBACZ+rB,WAAY,SACZ9R,SAAU,SAEd2+B,yBAA0B,CACtB54C,WAAY,2BAwKlBmH,EAFahL,CAGbq8C,I,qBC5Nar8C,SACXwI,sBAzBW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhBs8C,aAAc,CACVn5C,WAAY,QACZ/B,QAAS,YAsBbuK,GAFWrM,EAhBf,SAAmBuJ,GAAQ,MACfC,EAAYD,EAAZC,QACR,OACI,cAAC,KAAD,CACIqM,kBAAgB,qBAChBmL,mBAAiB,2BACjB9R,KAAM3F,EAAMuM,OACZ3G,QAAS5F,EAAM4F,QAJnB,SAMI,qBAAKtF,UAAWL,EAAQwzC,aAAxB,SACMzzC,EAAM4C,gBCHxB,MAAM8wC,WAAyBnyC,IAAMQ,UAEjCC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAenB4nC,OAfmB,wBAeV,+BAAA9wC,EAAA,mEAEG,EAAKkJ,MAAMgqB,YAFd,gCAGsB,EAAKhqB,MAAMwG,MAAMyjB,QAAQ,EAAKjqB,MAAMgqB,aAH1D,OAGSzX,EAHT,QAIOJ,EAAS,IAAIC,YACVC,UAAY,KACf,EAAKnP,SAAS,CAAE4kB,IAAK3V,EAAOG,UAEhCH,EAAOM,cAAcF,GARxB,yDAWD/Z,QAAQuT,MAAR,MAXC,0DAfU,KA8BnB4nC,mBA9BmB,wBA8BE,6BAAA78C,EAAA,sEACX,EAAKkJ,MAAM0T,KAAK4hB,uBAAuB,EAAKt1B,MAAM2zB,WADvC,QAEX4B,EAAkB,EAAKv1B,MAAM0T,KAAK8hB,QAAQjjB,MAC5B5b,OAAS,GACzB,EAAKuM,SAAS,CAAE2xB,gBAAiBU,EAAgB,KAAM,KACnD,EAAKL,sBAGb,EAAKhyB,SAAS,CAAE0wC,gBAAgB,IARf,2CA9BF,KAyCnBne,qBAAuB,CAAC98B,EAAMC,KAC1B0J,KAAKY,UAAUR,GACJ,2BACAA,GADP,IAEIkyB,iBAAiB,2BACVlyB,EAAMkyB,kBADG,IAEZ,CAACj8B,GAAOC,QAGjB,KACC,MAAMqwB,EAAU3mB,KAAKozB,gCACrBpzB,KAAKY,SAAS,CAAE2xB,gBAAiB5L,IAAW,IAAM3mB,KAAK4yB,yBApD5C,KAwDnBA,iBAxDmB,wBAwDA,iCAAAp+B,EAAA,2DACPq+B,EAAY,EAAKzyB,MAAMmyB,gBAAvBM,SADO,gCAGQ,EAAKn1B,MAAMwG,MAAMyjB,QAAQkL,GAHjC,OAGL5iB,EAHK,QAIPJ,EAAS,IAAIC,YACVC,UAAY,IAAM,EAAKnP,SAAS,CAAEyxB,YAAaxiB,EAAOG,SAC7DH,EAAOM,cAAcF,GANV,2CAxDA,KAkEnBmjB,8BAAgC,KAE5B,GAAI7Q,OAAOxtB,KAAKiL,KAAKI,MAAMkyB,kBAAkBj+B,SAAWkuB,OAAOxtB,KAAKiL,KAAKtC,MAAM0T,KAAKuiB,gBAAgB1jB,MAAM5b,OACtG,OAAO,KAHuB,qBAKd2L,KAAKtC,MAAM0T,KAAK8hB,QAAQjjB,MALV,IAKlC,2BAAkD,CAAC,IAA1C/M,EAAyC,QAC1C0wB,GAAqB,EACzB,IAAK,IAAIF,KAAc1zB,KAAKI,MAAMkyB,iBAC9B,GAAIpvB,EAAQse,YAActe,EAAQse,WAAWkS,KAAgB1zB,KAAKI,MAAMkyB,iBAAiBoB,GAAa,CAClGE,GAAqB,EACrB,MAIR,GAAIA,EACA,OAAO1wB,GAfmB,8BAiBlC,OAAO,MAnFQ,KAsFnB2wB,UAAY,KACJ7zB,KAAKI,MAAMmyB,iBACXvyB,KAAKtC,MAAM0T,KAAK0iB,eAAe9zB,KAAKI,MAAMmyB,kBAxF/B,KA6FnBiB,gBAAkB,KACd,IAAIC,EAAY,GAChB,IAAK,IAAIC,KAAc1zB,KAAKtC,MAAM0T,KAAKuiB,gBAAgB1jB,KACnDwjB,EAAU50B,KACN,cAAC,GAAD,CAEIvI,MAAO0J,KAAKI,MAAMkyB,iBAAiBoB,GAAc1zB,KAAKI,MAAMkyB,iBAAiBoB,GAAY9gB,WAAa,GACtGpJ,MAAOkqB,EACPrrB,SAAUrI,KAAKmzB,qBACfljB,KAAMjQ,KAAKtC,MAAM0T,KAAKuiB,gBAAgB1jB,KAAKyjB,GAAYzjB,KACvDoC,UAAW,OACX9N,WAAS,EACT0D,UAAQ,GAPHyrB,IAWjB,OACI,mCACMD,KA7GVzzB,KAAKI,MAAQ,CACTolB,IAAK,KACL8rB,gBAAgB,EAChB/e,gBAAiB,KACjBF,YAAa,KACbC,iBAAkB,IAI1BxgB,oBACI9R,KAAKslC,SAwGTjlC,SAAU,MAAD,EAC6BL,KAAKtC,MAA/BC,EADH,EACGA,QAASoH,EADZ,EACYA,MAAOqgB,EADnB,EACmBA,MAExB,OACI,qCACI,qBAAKpnB,UAAWC,IAAWN,EAAQ9F,UAAW8F,EAAQ5F,QAAS4F,EAAQ4zC,IAAvE,SACI,sBAAKvzC,UAAWC,IAAWN,EAAQO,SAAnC,UACI,qBAAKF,UAAWC,IAAWN,EAAQ6zC,iBAAnC,SACI,qBAAK9uC,IAAK1C,KAAKI,MAAMolB,IAAKxnB,UAAWC,IAAWN,EAAQ8zC,YAAa5uC,IAAI,OAE7E,qBAAK7E,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQrD,aAAcqD,EAAQmB,KAAzE,SACKiG,IAEL,sBAAK/G,UAAWC,IAAWN,EAAQpD,UAAnC,UACK6qB,EADL,WACc,sBAAMpnB,UAAWC,IAAWN,EAAQW,QAASX,EAAQ3D,QAAS2D,EAAQvD,aAAtE,sBAEd,cAAC,GAAD,CACI4D,UAAWC,IAAWN,EAAQinB,IAAKjnB,EAAQW,SAC3CI,QAASsB,KAAKqxC,mBACdzzC,WAAS,EAHb,SAKKoC,KAAKtC,MAAMkC,UAAU,iBAE1B,cAAC,GAAD,CACI5B,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQW,SAC3Cf,SAAS,EACTmB,QAASsB,KAAKtC,MAAMg0C,mBACpB9zC,WAAS,EAJb,SAMKoC,KAAKtC,MAAMkC,UAAU,0BAKlC,cAAC,GAAD,CACIqK,OAAQjK,KAAKI,MAAMkxC,eACnBhuC,QAAS,IAAMtD,KAAKY,SAAS,CAAE0wC,gBAAgB,IAFnD,UAIMtxC,KAAKtC,MAAM0T,KAAK8hB,QAAQzlB,WAAa,qCACnC,qBACIzP,UAAWL,EAAQ8zC,WACnB/uC,IAAK1C,KAAKI,MAAMiyB,YAAcryB,KAAKI,MAAMiyB,YAAc,GACvDxvB,IAAK,KAEP7C,KAAKwzB,kBACP,cAAC,GAAD,CACIx1B,UAAWC,IAAWN,EAAQupB,IAAKvpB,EAAQW,SAC3Cf,SAAS,EACTK,WAAS,EACTc,QAASsB,KAAK6zB,UACd/uB,SAAU9E,KAAKI,MAAMmyB,iBAAmBvyB,KAAKI,MAAMmyB,gBAAgBztB,SALvE,SAOK9E,KAAKtC,MAAMkC,UAAU,0BASnCzL,SACXwI,sBA/LW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB48C,WAAY,CACRl6C,SAAU,QAEdi6C,gBAAiB,CACbt2C,OAAQ,QACRlE,UAAW,cAyLfwJ,GACAyD,GACA4Z,GAJW1pB,CAKbi9C,ICtIF,MAAMO,WAA0B1yC,IAAMQ,UAClCC,YAAYhC,GAAQ,IAAD,EACfiC,MAAMjC,GADS,YAiBnBk0C,kBAjBmB,wBAiBC,+BAAAp9C,EAAA,6DAEVq9C,EAAoB,CACtB,CAAEroC,MAAO,aAAclT,MAAO,SAHlB,SAOI,EAAKoH,MAAM0T,KAAKyR,YAAYgvB,GAPhC,cAOVC,EAPU,gBAQV,EAAKlxC,SAAS,CAAEmxC,oBAAqBD,EAAM7hC,KAAK,KARtC,2CAjBD,KA4BnBqW,UA5BmB,wBA4BP,iCAAA9xB,EAAA,6DACAib,EAAQ,EAAK/R,MAAMo1B,MAAMC,OAAzBtjB,IADA,SAEF,EAAKmiC,oBAFH,cAIFv5B,EAAS,CACX,CAAE7O,MAAO,OAAQlT,OAAO,IALpB,SAQF,EAAKoH,MAAM0T,KAAKyR,YAAYxK,GAR1B,uBASF,EAAK3a,MAAM0T,KAAKmV,gBATd,QAWFE,EAAY,EAAK/oB,MAAM0T,KAAKyV,WAAW5W,KAAKvO,MAAKtM,GAAKA,EAAEqa,MAAQA,OAElE,EAAK7O,SAAS,CACV6lB,cAGJ,EAAKurB,iBAAiBvrB,EAAUoK,SAjB5B,4CA5BO,KAiDnBmhB,iBAjDmB,yCAiDA,WAAOnhB,GAAP,kBAAAr8B,EAAA,yDACVq8B,EADU,iEAII,EAAKnzB,MAAMwG,MAAMyjB,QAAQkJ,GAJ7B,OAIT5gB,EAJS,QAKXJ,EAAS,IAAIC,YACVC,UAAY,KACf,EAAKnP,SAAS,CAAEmkC,cAAel1B,EAAOG,UAE1CH,EAAOM,cAAcF,GATN,2CAjDA,2DA6DnBgiC,eAAiB,CAACzoC,EAAOlT,KACrB0J,KAAKY,SAAS,CACV,CAAC4I,GAAQlT,EAAMmZ,MAGfnZ,EAAMmZ,MAAQzP,KAAKI,MAAM2xC,oBAAoBtiC,KAG7CzP,KAAKtC,MAAM0T,KAAK0iB,eAAhB,2BACO9zB,KAAKI,MAAM2xC,qBADlB,IAEIhhB,aAAc,CAACrsB,GAAI1E,KAAKI,MAAMqmB,UAAUhX,SAvEjC,KAoFnByiC,kBAAoB,CAAC1oC,EAAOlT,KACxB0J,KAAKY,SAAS,CACV,CAAC4I,GAAQlT,KAtFE,KA0FnB+wB,eAAiB,IACQrnB,KAAKtC,MAAM0T,KAAxBkW,SACQrX,KAAKpO,KAAI,CAAC8kB,EAAStxB,KAAW,MAClCsI,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,cAAC,KAAD,CAAMqJ,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGlJ,UAAWC,IAAoB,EAAR5I,EAAasI,EAAQw0C,IAAMx0C,EAAQquB,IAAKruB,EAAQkuB,KAAjG,SACI,cAAC,GAAD,CAEI9mB,MAAO4hB,EAAQtwB,KACf+uB,MAAOuB,EAAQa,eACfE,YAAaf,EAAQe,YACrB2J,UAAW1K,EAAQ1F,YAJd0F,EAAQlX,UAjGd,KA4GnB2iC,SAAW,KACPpyC,KAAKtC,MAAMkB,QAAQC,KAAnB,gBA3GAmB,KAAKI,MAAQ,CACTiyC,gBAAiB,KACjBC,aAAc,KACd7rB,UAAW,KACXse,cAAe,KAGfgN,oBAAqB,MAI7BjgC,oBACI9R,KAAKsmB,YAkGTjmB,SAAU,MACE1C,EAAYqC,KAAKtC,MAAjBC,QACR,OACI,qCACI,sBAAKK,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,MAAlD,UACI,qBAAKkD,UAAWC,IAAWN,EAAQ4yB,gBAGnC,qBAAKvyB,UAAWC,IAAWN,EAAQ4yB,gBAGnC,qBAAKvyB,UAAWC,IAAWN,EAAQ4yB,aAAc5yB,EAAQ6yB,sBAGzD,qBAAKxyB,UAAWC,IAAWN,EAAQ4yB,mBAKvC,qBAAKvyB,UAAWC,IAAWN,EAAQrG,UAAWqG,EAAQoqB,KAAtD,SACI,eAAC,KAAD,CACIzwB,WAAS,EACT8L,UAAU,MACVwoB,QAAQ,aAHZ,UAKI,cAAC,KAAD,CAAM5kB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,MAA9B,SACI,sBAAKD,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,qBAAK0C,UAAWC,IAAWN,EAAQ2qC,WAAY3qC,EAAQQ,MAAOR,EAAQrC,iBAAkBqC,EAAQU,sBAAhG,SACK2B,KAAKI,MAAM2kC,eAAiB,qBAAKriC,IAAK1C,KAAKI,MAAM2kC,cAAe/mC,UAAWC,IAAWN,EAAQ40C,UAAW1vC,IAAK,OAEnH,qBAAK7E,UAAWC,IAAWN,EAAQm7B,cAAen7B,EAAQ2zB,KAA1D,SACKtxB,KAAKI,MAAMqmB,WAAazmB,KAAKI,MAAMqmB,UAAUpwB,YAK1D,cAAC,KAAD,CAAM2Q,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQoqB,IAAKpqB,EAAQ60C,KAA9D,SACI,sBAAKx0C,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,qBAAK0C,UAAWC,IAAWN,EAAQ80C,WAAY90C,EAAQw9B,WAAYx9B,EAAQrD,cAA3E,eAGA,qBAAK0D,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQw9B,WAAYx9B,EAAQ2zB,KAAzE,SACKtxB,KAAKtC,MAAMkC,UAAU,8BAMlC,eAAC,KAAD,CAAMoH,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQ22B,KAAjD,UACMt0B,KAAKI,MAAMsyC,oBAAsB,qBAAK10C,UAAWC,IAAWN,EAAQ9F,UAAW8F,EAAQ+mB,GAAI1kB,KAAKI,MAAMiyC,kBAAoBryC,KAAKI,MAAMsyC,mBAAmBjjC,IAAM9R,EAAQg1C,6BAA+Bh1C,EAAQi1C,sBAAuBp0C,MAAO,CAAEq0C,uBAAwB,EAAGC,wBAAyB,GAAhQ,SAC/B,sBAAK90C,UAAWC,IAAWN,EAAQO,SAAnC,UACI,sBAAKF,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQrC,kBAA/F,UACI,qBAAK0C,UAAWC,IAAWN,EAAQrD,cAAnC,sBAGA,sBAAK0D,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UACI,qBAAK0C,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQzE,UAArD,SACM8vB,GAAYhpB,KAAKI,MAAMsyC,mBAAmBlrB,kBAEhD,qBAAKxpB,UAAWC,MAAhB,SACI,cAAC,KAAD,CACIoK,SAAW3C,GAAM1F,KAAKiyC,eAAe,kBAAmBjyC,KAAKI,MAAMsyC,oBACnEp8C,MAAO,EACP+T,QAASrK,KAAKI,MAAMiyC,kBAAoBryC,KAAKI,MAAMsyC,mBAAmBjjC,cAKtF,qBAAKzR,UAAWC,IAAWN,EAAQnG,IAAKmG,EAAQmB,YAatDkB,KAAKI,MAAM2xC,qBAAuB,qBAAK/zC,UAAWC,IAAWN,EAAQ9F,UAAW8F,EAAQ+mB,GAAI1kB,KAAKI,MAAMiyC,kBAAoBryC,KAAKI,MAAM2xC,oBAAoBtiC,IAAM9R,EAAQg1C,6BAA+Bh1C,EAAQi1C,sBAAuBp0C,MAAO,CAAE1B,oBAAqB,EAAGC,qBAAsB,GAA3P,SAChC,sBAAKiB,UAAWC,IAAWN,EAAQO,SAAnC,UACI,sBAAKF,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQknB,sBAAuBlnB,EAAQrC,kBAA/F,UACI,qBAAK0C,UAAWC,IAAWN,EAAQrD,cAAnC,sBAGA,sBAAK0D,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQrC,kBAAlD,UACI,qBAAK0C,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQzE,UAArD,SACK8vB,GAAYhpB,KAAKI,MAAM2xC,oBAAoBvqB,kBAEhD,qBAAKxpB,UAAWC,MAAhB,SACI,cAAC,KAAD,CACIoK,SAAW3C,GAAM1F,KAAKiyC,eAAe,kBAAmBjyC,KAAKI,MAAM2xC,qBACnEz7C,MAAO,EACP+T,QAASrK,KAAKI,MAAMiyC,kBAAoBryC,KAAKI,MAAM2xC,oBAAoBtiC,cAKvF,sBAAKzR,UAAWC,IAAWN,EAAQupB,KAAnC,UACI,sBAAKlpB,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,iBAAkBqC,EAAQ9F,UAAW8F,EAAQ1F,MAAO0F,EAAQkyB,IAAKlyB,EAAQoB,KAAzI,UACI,qBAAKf,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQW,SAArD,uCAGA,sBAAKN,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ4tC,KAAlD,UACI,cAAC,IAAD,IACA,cAAC,IAAD,IACA,cAAC,IAAD,IACA,cAAC,IAAD,UAIR,qBAAKvtC,UAAWC,IAAWN,EAAQmB,KAAnC,SACI,sBAAKd,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,MAAlD,UACI,qBAAKkD,UAAWC,IAAWN,EAAQ3C,IAAK2C,EAAQ8mC,KAAhD,SACI,sBAAKzmC,UAAWC,IAAWN,EAAQ4tC,KAAnC,UACI,qBAAKvtC,UAAWC,MAAhB,SACI,cAAC,IAAD,MAEJ,qBAAKD,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQtD,YAAnD,qCAGA,qBAAK2D,UAAWC,IAAWN,EAAQW,QAASX,EAAQyyB,KAApD,yJAKR,qBAAKpyB,UAAWC,IAAWN,EAAQ3C,IAAK2C,EAAQo1C,KAAhD,SACI,sBAAK/0C,UAAWC,IAAWN,EAAQ4tC,KAAnC,UACI,qBAAKvtC,UAAWC,MAAhB,SACI,cAAC,IAAD,MAEJ,qBAAKD,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQtD,YAAnD,qCAGA,qBAAK2D,UAAWC,IAAWN,EAAQW,QAASX,EAAQyyB,KAApD,yKAahC,cAAC,KAAD,CAAMppB,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQw0B,IAAKx0B,EAAQ60C,KAA9D,SACI,sBAAKx0C,UAAWC,IAAWN,EAAQQ,MAAOR,EAAQ7C,KAAM6C,EAAQrC,kBAAhE,UACI,qBAAK0C,UAAWC,IAAWN,EAAQ80C,WAAY90C,EAAQw9B,WAAYx9B,EAAQrD,cAA3E,eAGA,qBAAK0D,UAAWC,IAAWN,EAAQpD,SAAUoD,EAAQw9B,WAAYx9B,EAAQ2zB,KAAzE,4BAMPtxB,KAAKqnB,iBAEN,cAAC,GAAD,CACIrpB,UAAWC,IAAWN,EAAQ7C,KAAM6C,EAAQ9F,UAAW8F,EAAQupB,IAAKvpB,EAAQkuB,KAC5EntB,QAASsB,KAAKoyC,SAFlB,SAIKpyC,KAAKtC,MAAMkC,UAAU,uBAYnCzL,SACXwI,sBA1VW9H,GAAK,2BACbwC,EAAgBxC,IADH,IAEhB07B,aAAc,CACVx1B,MAAO,MACPG,OAAQ,OACRlD,WAAY,OAEhBw4B,mBAAoB,CAChBx4B,WAAY,SAEhBswC,WAAY,CACRvtC,MAAO,OACPG,OAAQ,OACRlD,WAAY,QACZJ,aAAc,OACdZ,UAAW,UAEfu7C,SAAU,CACNh7C,SAAU,QAEduhC,cAAe,CACXrgC,MAAO,UACPU,SAAU,QAEds5C,WAAY,CACRv3C,OAAQ,OACRH,MAAO,OACPnD,aAAc,GACdZ,UAAW,SACXoC,WAAY,OACZpB,WAAY,UACZS,MAAO,SAIXm6C,qBAAsB,CAClB56C,WAAY,QACZyC,OAAQ,qBAEZk4C,6BAA8B,CAC1B36C,WAAY,UACZyC,OAAQ,oBACRhC,MAAO,SAEXu6C,SAAU,CACNh7C,WAAY,QACZS,MAAO,WAEXw6C,UAAW,CACPx6C,MAAO,6BA0SX0G,EACA1B,IACAogB,GACA5Z,GACAzD,GANWrM,CAObw9C,I,qBCxPax9C,SAAQwI,sBAlHP9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAGbijC,iBAAkB,CAChB/8B,MAAO,OACPG,OAAQ,OACR+W,SAAU,OACVvV,SAAU,SACV9B,SAAU,YAEZm9B,WAAY,CAEVngC,aAAc,QACd6C,OAAQ,kBACRM,MAAO,OACPG,OAAQ,OACRN,SAAU,WACVyB,KAAM,EACN67B,MAAO,EACP17B,UAAW,SAEbykC,eAAgB,CACdlmC,MAAO,OACPG,OAAQ,OACR+W,SAAU,OACVvV,SAAU,SACV9B,SAAU,YAEZsmC,SAAU,CAERtpC,aAAc,QACd6C,OAAQ,kBACRM,MAAO,OACPG,OAAQ,OACRN,SAAU,WACVyB,KAAM,EACN67B,MAAO,EACP17B,UAAW,SAEbioB,KAAM,CACJxS,SAAU,SA0E6BzR,GAA5BrM,EAtEf,SAAoBuJ,GAAQ,MAClBC,EAAYD,EAAZC,QAMR,OACE,qBACEK,UAAWC,IACTN,EAAQ8mB,KACR9mB,EAAQ9F,UACR8F,EAAQ+mB,GACR/mB,EAAQhC,WACR+B,EAAMM,WANV,SASE,sBACEA,UAAWC,IACTN,EAAQinB,IACRjnB,EAAQQ,MACRR,EAAQ7C,KACR6C,EAAQknB,uBALZ,UAQE,qBAAK7mB,UAAWC,IAAWN,EAAQm6B,kBAAnC,SACE,qBACEj1B,IAAI,YACJH,IAAK,qBACL1E,UAAWC,IAAWN,EAAQo6B,gBAGlC,sBAAK/5B,UAAWC,MAAhB,UACE,qBAAKD,UAAWC,IAAWN,EAAQw9B,WAAYx9B,EAAQpD,UAAvD,SACGmD,EAAMrH,OAEa,IAArBqH,EAAMw1C,YACL,qBAAKl1C,UAAWC,IAAWN,EAAQpE,OAAQoE,EAAQ3D,SAAnD,SACE,sBAAKgE,UAAWC,IAAWN,EAAQsjC,gBAAnC,UACE,qBACEp+B,IAAI,YACJH,IAAK,qBACL1E,UAAWC,IAAWN,EAAQujC,YAJlC,WAMOxjC,EAAMw1C,oBAKnB,cAAC,GAAD,CACEt1C,WAAS,EACTI,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ7C,MAC3C4D,QAjDc,KACpBhB,EAAMgB,QAAQhB,EAAMy1C,SA6ChB,SAKGz1C,EAAMkC,UAAUlC,EAAM01C,aAAe,oBChChD,MAAMC,WAAep0C,IAAMQ,UACzBC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAUnB6mC,YAAc,IAAMvkC,KAAKtC,MAAMkB,QAAQC,KAAnB,YAVD,KAWnB8hC,kBAAqBj8B,GAAO1E,KAAKtC,MAAMkB,QAAQC,KAAnB,0BAA2C6F,IAXpD,KAanB+R,YAAejH,GACNA,EAAI3N,KAAK6C,IAAD,CAAW8E,MAAO,MAAOlT,MAAOoO,EAAGA,OAdjC,KAiBnB4uC,cAAgB,KACdtzC,KAAKY,SAAS,CAAE2yC,iBAAiB,KAlBhB,KAqBnBC,cAAgB,KACdxzC,KAAKY,SAAS,CAAE2yC,iBAAiB,KAtBhB,KA0BnBE,iBA1BmB,yCA0BA,WAAO/uC,GAAP,sBAAAlQ,EAAA,sDACjB,EAAKkJ,MAAM0T,KAAKorB,WAAW93B,GADV,EAGgB,EAAKtE,MAA9BszC,EAHS,EAGTA,UAAWC,EAHF,EAGEA,UACbr0C,EAAOo0C,EAAUhyC,MAAMsU,GAAMA,EAAEvG,MAAQ/K,IAE7CivC,EAAU90C,KAAKS,GACf,EAAKsB,SAAS,CAAE+yC,cAPC,2CA1BA,2DAmCnBC,mBAnCmB,yCAmCE,WAAOlvC,GAAP,gBAAAlQ,EAAA,sDACnB,EAAKkJ,MAAM0T,KAAKurB,aAAaj4B,GAET,EAAKtE,MAAnBuzC,UACNA,EAAY,EAAKvzC,MAAMuzC,UAAUt7B,QAAQrC,GAAMA,EAAEvG,MAAQ/K,IAEzD,EAAK9D,SAAS,CAAE+yC,cANG,2CAnCF,2DA4CnBE,gBAAkB,KAAO,MACfl2C,EAAYqC,KAAKtC,MAAjBC,QAER,OAAOqC,KAAKI,MAAMuzC,UAAU9xC,KAAKmU,GAE7B,qBAAKhY,UAAWC,IAAW,gBAAiBN,EAAQkyB,KAApD,SACE,cAAC,GAAD,CACE7xB,UAAWC,IAAWN,EAAQ4E,KAC9B6wC,YAAY,YACZ10C,QAASsB,KAAK4zC,mBACdv9C,KAAM2f,EAAE3f,KACR68C,WAAY,EACZC,OAAQn9B,EAAEvG,WAxDD,KA+DnB8jC,gBAAkB,KAAO,MACf51C,EAAYqC,KAAKtC,MAAjBC,QADc,EAEWqC,KAAKI,MAA9BuzC,EAFc,EAEdA,UAER,OAJsB,EAEHD,UAEF7xC,KAAKiyC,IACpB,MAAMC,OAEJxhC,IADAohC,EAAUjyC,MAAMiyC,GAAcA,EAAUlkC,MAAQqkC,EAASrkC,MAG3D,OACE,qBAAKzR,UAAWC,IAAW,gBAAiBN,EAAQkyB,KAApD,SACE,cAAC,GAAD,CACE7xB,UAAWC,IAAWN,EAAQ4E,KAC9B6wC,YAAaW,EAAmB,YAAc,SAC9Cr1C,QACEq1C,EAAmB/zC,KAAK4zC,mBAAqB5zC,KAAKyzC,iBAEpDp9C,KAAMy9C,EAASz9C,KACf68C,WAAY,EACZC,OAAQW,EAASrkC,YAlFR,KAyFnBukC,sBAzFmB,yCAyFK,WAAOnS,EAAcK,GAArB,0BAAA1tC,EAAA,yDACd+uB,EAAa,EAAK7lB,MAAM4B,KAAxBikB,SADc,EAGS,EAAKnjB,MAA9BuzC,EAHgB,EAGhBA,UAAWD,EAHK,EAGLA,WAEb7R,GAAwC,IAAxBA,EAAaxtC,OALX,oBAMQ,IAAxBwtC,EAAaxtC,OANG,gBAMWs/C,EAAY,GANvB,8BAQZM,EAAkB,EAAKx9B,YAAYorB,GARvB,UASCte,EAAS0wB,GATV,QASlBN,EATkB,OAS4B1jC,KAT5B,YAalBiyB,GAAwC,IAAxBA,EAAa7tC,OAbX,oBAcQ,IAAxB6tC,EAAa7tC,OAdG,iBAcWq/C,EAAY,GAdvB,+BAgBZQ,EAAkB,EAAKz9B,YAAYyrB,GAhBvB,UAiBC3e,EAAS2wB,GAjBV,QAiBlBR,EAjBkB,OAiB4BzjC,KAjB5B,QAqBtB,EAAKrP,SAAS,CAAE+yC,YAAWD,cArBL,4CAzFL,6DAiHnBjT,4BAA8B,CAACpqC,EAAMqqC,KACnC1gC,KAAK2gC,kBAAkBD,EAAOjxB,MAlHb,KAqHnBmxB,kCArHmB,yCAqHiB,WAAOvoB,GAAP,UAAA7jB,EAAA,sEAC5B,EAAKkJ,MAAM4B,KAAKikB,SAASlL,GADG,2CArHjB,sDAEjBrY,KAAKI,MAAQ,CACXuzC,UAAW,GACXD,UAAW,GACXH,iBAAiB,EACjB5R,YAAa,MAmHX7vB,oBAAqB,IAAD,8IACG,EAAKpU,MAAM4B,KAA9BA,EADgB,EAChBA,KAAMikB,EADU,EACVA,SADU,SAGD,EAAK7lB,MAAM0T,KAAK2kB,QAAQz2B,EAAKmQ,KAH5B,cAGlBqvB,EAHkB,UAKd+C,EAA+B/C,EAA/B+C,aAAcK,EAAiBpD,EAAjBoD,aACtB,EAAK8R,sBAAsBnS,EAAcK,IANnB,SASlB3e,EAAS,IATS,6CAY1BljB,SAAU,MACA1C,EAAYqC,KAAKtC,MAAjBC,QACAmkC,EAAU9hC,KAAKtC,MAAM4B,KAArBwiC,MAFD,EAGwD9hC,KAAKI,MAA5DuzC,EAHD,EAGCA,UAAWD,EAHZ,EAGYA,UAAWH,EAHvB,EAGuBA,gBAAiB5R,EAHxC,EAGwCA,YAE/C,OACE,mCACE,8BACE,eAAC,KAAD,CAAMrqC,WAAS,EAAC8L,UAAU,MAAMwoB,QAAQ,SAAS70B,WAAW,SAA5D,UAEE,cAAC,KAAD,CAAMiQ,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQoqB,KAAjD,SACE,qBAAK/pB,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,qBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQ7C,KACR6C,EAAQrC,iBACRqC,EAAQknB,uBALZ,SAQE,sBACErmB,MAAO,CACL5H,QAAS,OACTG,WAAY,SACZU,SAAU,QAJd,UAOE,cAAC,KAAD,CAAeiH,QAASsB,KAAKukC,cAC7B,mDAOR,cAAC,KAAD,CAAMv9B,MAAI,EAACC,GAAI,GAAf,SACE,qBAAKjJ,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,sBACE0G,UAAWC,IACTN,EAAQQ,MACRR,EAAQrC,iBACRqC,EAAQ7C,KACR6C,EAAQinB,KALZ,UAQE,qBAAK5mB,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ7C,MAAhD,SACE,cAAC,GAAD,CACE4D,QAASsB,KAAKwzC,cACd51C,WAAS,EAFX,6BAGe+1C,EAAUt/C,OAHzB,SAKF,qBAAK2J,UAAWC,IAAWN,EAAQmB,IAAKnB,EAAQ7C,MAAhD,SACE,cAAC,GAAD,CACE4D,QAASsB,KAAKszC,cACd11C,WAAS,EAFX,kCAGiB81C,EAAUr/C,OAH3B,gBAUR,cAAC,KAAD,CAAM2S,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQw0B,KAAjD,SACE,sBAAKn0B,UAAWC,IAAWN,EAAQrG,WAAnC,UACGi8C,GAAmBvzC,KAAKuzC,mBACvBA,GAAmBvzC,KAAK6zC,uBAK9B,cAAC,KAAD,CAAM7sC,MAAI,EAACC,GAAI,GAAIjJ,UAAWC,IAAWN,EAAQw0B,KAAjD,SACE,qBAAKn0B,UAAWC,IAAWN,EAAQrG,WAAnC,SACE,cAAC6qC,GAAD,CACExkC,QAASA,EACT0K,SAAUrI,KAAKygC,4BACf9C,eAAgB39B,KAAK4gC,kCACrB3wB,KAAM6xB,EAAQA,EAAM7xB,KAAO,GAC3BzG,MAAM,cACN6I,UAAU,WACV9I,MAAM,+BACNjT,MAAOqrC,EACPp9B,WAAS,gBAeZpQ,SACbwI,sBAhSc9H,GAAD,YAAC,eACXwC,EAAgBxC,IADN,IAEbkjC,WAAY,CACVh9B,MAAO,QACPnD,aAAc,SAEhBkpC,UAAW,CACT/lC,MAAO,QACPG,OAAQ,QACRN,SAAU,YAEZu5C,YAAa,CACXn8C,WAAY,UAEZJ,aAAc,OACdmD,MAAO,OACPG,OAAQ,SAEVk5C,aAAc,CACZr5C,MAAO,OACPH,SAAU,WACV0B,IAAK,OACLD,KAAM,EACN67B,MAAO,EACPtiC,OAAQ,UAEV0sC,cAAe,CACb,uBAAwB,GAGxB,+BAAgC,CAC9BtsC,YAAa,WAEf,8BAA+B,IAIjCusC,mBAAoB,CAClB,uBAAwB,GAGxB,+BAAgC,CAC9BvsC,YAAa,WAEf,8BAA+B,QAqPjC6nB,GACA1e,EACA8E,GACAzD,GACA/C,IANatJ,CAObk/C,IC7Fa9xC,OA1LA,CACb,CACElL,KAAM,WACNiL,KAAM,YACNsF,UAAWsyB,GACXp3B,OAAO,GAET,CACEzL,KAAM,UACNiL,KAAM,WACNsF,UAAW4+B,GACX1jC,OAAO,GAET,CACEzL,KAAM,OACNiL,KAAM,QACNsF,UAAW4kC,GACX1pC,OAAO,EACPK,WAAW,GAEb,CACE9L,KAAM,QACNiL,KAAM,SACNsF,UAAWyf,GACXvkB,OAAO,GAET,CACEzL,KAAM,eACNiL,KAAM,yBACNsF,UAAWytC,GACXvyC,OAAO,GAET,CACEzL,KAAM,WACNiL,KAAM,kBACNsF,UAAW0tC,GACXxyC,OAAO,GAET,CACEzL,KAAM,OACNiL,KAAM,cACNsF,UAAW2qB,GACXzvB,OAAO,GAET,CACEzL,KAAM,UACNiL,KAAM,sBACNsF,UAAW+rB,GACX7wB,OAAO,GAET,CACEzL,KAAM,QACNiL,KAAM,SACNsF,UAAW2tC,GACXzyC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,YACNiL,KAAM,aACNsF,UAAW4tC,GACX1yC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,UACNiL,KAAM,WACNsF,UAAW6tC,GACX3yC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,SACNiL,KAAM,UACNsF,UAAW8tC,GACX5yC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,mBACNiL,KAAM,oBACNsF,UAAW+tC,GACX7yC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,aACNiL,KAAM,cACNsF,UAAWguC,GACX9yC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,WACNiL,KAAM,YACNsF,UAAWiuC,GACX/yC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,QACNiL,KAAM,SACNsF,UAAWkuC,GACXhzC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,QACNiL,KAAM,SACNsF,UAAWmuC,GACXjzC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,WACNiL,KAAM,YACNsF,UAAWouC,GACXlzC,OAAO,EACPE,WAAYmP,GAAYC,MAE1B,CACE/a,KAAM,QACNiL,KAAM,SACNsF,UAAWpB,GACXrD,WAAW,EACXL,OAAO,EACPC,QAAQ,GAEV,CACE1L,KAAM,QACNiL,KAAM,IACNsF,UAAWquC,GACX9yC,WAAW,EACXL,OAAO,EACPC,QAAQ,GAEV,CACE1L,KAAM,UACNiL,KAAM,WACNsF,UAAWsuC,GACXpzC,OAAO,GAET,CACEzL,KAAM,UACNiL,KAAM,WACNsF,UAAW03B,GACXx8B,OAAO,GAET,CACEzL,KAAM,gBACNiL,KAAM,uBACNsF,UAAW03B,GACXx8B,OAAO,GAET,CACEzL,KAAM,kBACNiL,KAAM,oBACNsF,UAAWw9B,GACXtiC,OAAO,GAET,CACEzL,KAAM,aACNiL,KAAM,cACNsF,UAAW2pC,GACXzuC,OAAO,GAET,CACEzL,KAAM,mBACNiL,KAAM,oBACNsF,UAAW4pC,GACX1uC,OAAO,GAET,CACEzL,KAAM,qBACNiL,KAAM,2BACNsF,UAAW+qC,GACX7vC,OAAO,GAET,CACEzL,KAAM,iBACNiL,KAAM,kBACNsF,UAAWysC,GACXvxC,OAAO,IC7LX,IAAIqzC,GAAY,IACZC,IAAQ,EACZ,MAAMC,WAAYp2C,IAAMQ,UACtBC,YAAYhC,GACViC,MAAMjC,GAEoC,CACxC,MAAM+G,EAAM,IAAI8Y,IAAI5Y,+BACpBwwC,GAAY1wC,EAAIhD,UAIpBpB,SAAU,MAAD,EACmBL,KAAKtC,MAAvB4B,EADD,EACCA,KAAM3B,EADP,EACOA,QAOd,OALIy3C,IAAS91C,EAAKA,OAChB81C,IAAQ,EACR91C,EAAKg2C,WAIL,eAAC,IAAMtgB,SAAP,WACE,cAAC,IAAD,CAAQugB,SAAUJ,GAAlB,SACE,cAACK,GAAD,CACEl2C,KAAMA,EACNiC,OAAQA,GACRoB,KAAM2B,GAAO3B,KAHf,SAKGpB,GAAOM,KAAIzM,GACNA,EAAE+M,UACJ,cAAC,IAAD,CAAoBb,KAAMlM,EAAEkM,KAAMQ,MAAO1M,EAAE0M,MAAO8E,UAAWxR,EAAEwR,WAAnDxR,EAAEiB,MAGd,cAACo/C,GAAD,CAAc3zC,MAAO1M,EAAE0M,MAAoBR,KAAMlM,EAAEkM,KAAMsF,UAAWxR,EAAEwR,UAAWtH,KAAMA,EAAM0C,WAAY5M,EAAE4M,YAAxE5M,EAAEiB,YAQ7C,cAAC,IAAD,CACEq+B,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdvxB,KAAM/D,EAAKo2C,IACX7gB,iBAAkB,IAClBvxB,QAAShE,EAAKq2C,QACdC,aAAc,CACZ,mBAAoB,cAEtB9gB,QAAS,sBAAMpwB,GAAG,aAAT,SAAuBpF,EAAKo2C,MACrC3gB,OAAQ,CACN,cAAC,IAAD,CAEEtqB,aAAW,QACXhS,MAAM,UACNuF,UAAWL,EAAQk4C,MACnBn3C,QAASY,EAAKq2C,QALhB,SAOE,cAAC,IAAD,KANI,gBAelB,SAASF,GAAT,GAA4E,IAAzCh2C,EAAwC,EAAnDmH,UAAsBtH,EAA6B,EAA7BA,KAAM0C,EAAuB,EAAvBA,WAAe8zC,EAAQ,iDACzE,OACE,cAAC,IAAD,2BACMA,GADN,IAEEz1C,OAAQ3C,GACF4B,EAAKA,KAQD0C,IAAe1C,EAAK2C,cAAcD,GACjC,cAAC,IAAD,CACL2E,GAAI,CACFlF,SAAU6C,GAAOoC,KACjBtG,MAAO,CAAEqG,KAAM/I,EAAM8D,aAKlB,cAAC/B,EAAD,eAAe/B,IAhBf,cAAC,IAAD,CACLiJ,GAAI,CACFlF,SAAU,SACVrB,MAAO,CAAEqG,KAAM/I,EAAM8D,gBAoBpBrN,SACbwI,KA1Ga9H,IAAK,CAClBghD,MAAO,CACL5/C,QAASpB,EAAMiU,QAAQC,KAAO,OAyGhC5J,EAFahL,CAGbkhD,ICpHkBz9B,QACW,cAA7BhT,OAAOpD,SAASu0C,UAEe,UAA7BnxC,OAAOpD,SAASu0C,UAEhBnxC,OAAOpD,SAASu0C,SAASjjB,MACvB,2D,OCfC,MAAM/sB,GAAI,yCAAG,WAAOH,EAAUC,EAAUC,EAAQ,IAAnC,UAAAtR,EAAA,+EAEHA,QAAEuR,KAAKH,EAAUC,EAAUC,GAFxB,2IAAH,wDASXkwC,GAAoBC,IACxB,IAAIxxC,EAAME,8BAMV,MAJgB,MAAbsxC,IACDxxC,GAAO,KAGH,GAAN,OAAUA,EAAV,qBAA0BwxC,IAGfzvC,GAAK,yCAAG,WAAOyvC,EAAUjf,GAAjB,UAAAxiC,EAAA,+EAEJA,QAAEgS,MAAMyvC,EAAUjf,EAAMgf,GAAiBC,GAAW3xC,GAAO4xC,UAFvD,2IAAH,wDASL3vC,GAAK,yCAAG,WAAOX,GAAP,UAAApR,EAAA,+EAEJA,QAAE+R,MAAMX,EAAUjB,+BAFd,2IAAH,sDASLoN,GAAW,yCAAG,WAAOkkC,EAAUjf,GAAjB,UAAAxiC,EAAA,+EAEVA,QAAEud,YAAYkkC,EAAUjf,EAAMgf,GAAiBC,IAFrC,2IAAH,wDASX5lC,GAAc,yCAAG,uBAAA7b,EAAA,+EAEbA,QAAE6b,iBAFW,2IAAH,qDASdkT,GAAQ,yCAAG,WAAOtN,EAASnC,EAAMoE,GAAtB,UAAA1jB,EAAA,+EAEPA,QAAE+uB,SAAStN,EAASnC,EAAMoE,GAFnB,2IAAH,0DASR6d,GAAO,yCAAG,WAAOrxB,GAAP,UAAAlQ,EAAA,+EAENA,QAAEuhC,QAAQrxB,GAFJ,2IAAH,sDASP8L,GAAU,yCAAG,WAAO9L,EAAIuL,GAAX,UAAAzb,EAAA,+EAETA,QAAEgc,WAAW9L,EAAIuL,GAFR,2IAAH,wDASVV,GAAS,yCAAG,WAAO3J,GAAP,UAAApR,EAAA,+EAERA,QAAE+a,UAAU3J,GAFJ,2IAAH,sDC/EtB,MAAMuwC,WAAqBl3C,IAAMQ,UAAW,eAAD,iCACzCW,MAAQ,CACNd,KAAMw2B,WAAQC,UACd2f,IAAK,KACL5T,MAAO,CACL9mB,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbwD,OAAQ,MAX+B,KAczC/K,QAAWwvC,IACT11C,KAAKY,SAAS,CAAE80C,SAfuB,KAkBzCvvC,UAAasD,IACXzJ,KAAKY,SAAS,CAAE80C,IAAKjsC,EAAMqrB,WAnBY,KAsBzC6gB,QAAU,KACR31C,KAAKY,SAAS,CAAE80C,IAAK,QAvBkB,KA0BzC3vC,KA1ByC,yCA0BlC,WAAOH,EAAUC,EAAUC,GAA3B,gBAAAtR,EAAA,+EAEgB4hD,GAAexwC,EAAUC,EAAUC,GAFnD,cAEGxG,EAFH,OAGH,EAAKsB,SAAS,CAAEtB,SAHb,kBAKIA,GALJ,oGA1BkC,+DAqCzC+Q,eArCyC,wBAqCxB,6BAAA7b,EAAA,+EAEQ4hD,KAFR,OAEPnlC,EAFO,OAGb,EAAKrQ,SAAS,CAAEqQ,WAHH,oHArCwB,KA8CzCzK,MA9CyC,yCA8CjC,WAAOyvC,EAAUjf,GAAjB,gBAAAxiC,EAAA,+EAEe4hD,GAAgBH,EAAUjf,GAFzC,cAEE13B,EAFF,OAGJ,EAAKsB,SAAS,CAAEtB,SAHZ,kBAIGA,GAJH,oGA9CiC,6DAwDzCyS,YAxDyC,yCAwD3B,WAAOkkC,EAAUjf,GAAjB,gBAAAxiC,EAAA,+EAES4hD,GAAsBH,EAAUjf,GAFzC,OAEJ13B,EAFI,OAGV,EAAKsB,SAAS,CAAEtB,SAHN,oHAxD2B,6DAiEzCkR,WAjEyC,yCAiE5B,WAAO9L,EAAIuL,GAAX,gBAAAzb,EAAA,+EAEU4hD,GAAqB1xC,EAAIuL,GAFnC,cAEH3Q,EAFG,OAGT,EAAKsB,SAAS,CAAEtB,SAHP,kBAIFA,GAJE,oGAjE4B,6DA2EzCiQ,UA3EyC,yCA2E7B,WAAO3J,GAAP,UAAApR,EAAA,+EAEK4hD,GAAoBxwC,GAFzB,2IA3E6B,2DAmFzCW,MAnFyC,yCAmFjC,WAAOX,GAAP,UAAApR,EAAA,+EAEE4hD,GAAgBxwC,GAFlB,yHAnFiC,2DA2FzC2d,SA3FyC,yCA2F9B,WAAOtN,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEF6L,EAFE,gCAGQ+1C,GAAmBngC,EAASnC,EAAMoE,GAH1C,sDAMP,EAAKtX,UAAUR,IAAD,CACZ0hC,MAAM,2BAAM1hC,EAAM0hC,OAAb,IAAoBr0B,WAAW,QAP/B,SASa2oC,GAAmBngC,EAASnC,EAAMoE,GAT/C,cASD4pB,EATC,QAUDr0B,WAAY,EAClB,EAAK7M,SAAS,CAAEkhC,UAXT,kBAYAA,GAZA,uGA3F8B,+DA6GzC7/B,cAAiBD,GACRhC,KAAKI,MAAMd,OAASU,KAAKI,MAAMd,KAAK6R,YAAcnP,GAAc,EA9GhC,KAiHzCq0C,eAAiB,KACfngD,QAAQC,IAAI,qBAlH2B,KAqHzCm/C,QAAU,KzC/EYe,KACtB,MAAMC,GAAa,IAAIC,MACpBC,QADgB,UACLlyC,GAAOG,IAAImxB,KADN,QACkB,CAAE6gB,mBAAoB5gB,KACxD6gB,iBAAiBH,KAAiB5qC,OAClCgrC,QAEHL,EAAWnf,QAAQyf,OAAMC,IACvB3gD,QAAQuT,MAAM,MAAOotC,MAGvBP,EAAWQ,GAAG,UAAW7gB,IACzBqgB,EAAWQ,GAAG,aAAc3gB,IAC5BmgB,EAAWQ,GAAG,eAAgBT,IyCoE5B1f,CAAkB32B,KAAKq2C,gBAEvB3Y,WAAU,wBAAC,uBAAAlpC,EAAA,0FAGR,MAGL6L,SAAU,MACAC,EAAaN,KAAKtC,MAAlB4C,SAER,OACE,cAAC,EAAYC,SAAb,CACEjK,MAAK,aACHyP,KAAM/F,KAAK+F,KACX4vC,QAAS31C,KAAK21C,QACdzvC,QAASlG,KAAKkG,QACdC,UAAWnG,KAAKmG,UAChBkK,eAAgBrQ,KAAKqQ,eACrB7J,MAAOxG,KAAKwG,MACZuL,YAAa/R,KAAK+R,YAClBwR,SAAUvjB,KAAKujB,SACfwS,QAASqgB,GACT5lC,WAAYxQ,KAAKwQ,WACjBjB,UAAWvP,KAAKuP,UAChBtN,cAAejC,KAAKiC,cACpBsE,MAAOvG,KAAKuG,MACZ+uC,QAASt1C,KAAKs1C,SACXt1C,KAAKI,OAhBZ,SAmBGE,KAMM61C,UC/JR,MAQMxuB,GAAO,yCAAG,WAAOjjB,GAAP,UAAAlQ,EAAA,+EAEN0P,SAAMyjB,QAAQjjB,GAFR,2IAAH,sDAgBdqyC,GAAmB,QACZ7jC,GAAO,yCAAG,WAAOjD,GAAP,UAAAzb,EAAA,+EAEb0P,SAAMq1B,KAAKwd,GAAkB9mC,GAFhB,yHAAH,sDAQPmD,GAAQ,yCAAG,WAAOnD,GAAP,UAAAzb,EAAA,+EAEd0P,SAAMu3B,IAAIsb,GAAkB9mC,EAAMA,EAAKR,KAFzB,yHAAH,sDAQR+M,GAAQ,yCAAG,WAAOnJ,EAAW4C,EAASnC,EAAMoE,GAAjC,sBAAA1jB,EAAA,+EAEA0P,SAAM2N,IAAIklC,GAAkB9gC,EAASnC,EAAMoE,GAF3C,OAEd2I,EAFc,sBAGJA,EAAM5Q,MAHF,IAGpB,4BAAW7a,EAAiB,SACxB4hD,UAAY3jC,EAAU3R,MAAMgE,GAAMA,EAAE+J,MAAQra,EAAE6d,cAAe,CAC7D5c,KAAM,MALU,uDAQbwqB,GARa,oGAAH,4DAcRpE,GAAU,yCAAG,WAAO/X,GAAP,UAAAlQ,EAAA,+EAEhB0P,SAAMw3B,QAAQqb,GAAkBryC,GAFhB,yHAAH,sDAQjBuyC,GAAuB,YAChBt6B,GAAW,yCAAG,WAAO1M,GAAP,UAAAzb,EAAA,+EAEjB0P,SAAMq1B,KAAK0d,GAAsBhnC,GAFhB,yHAAH,sDAQX4M,GAAY,yCAAG,WAAO5M,GAAP,UAAAzb,EAAA,+EAElB0P,SAAMu3B,IAAIwb,GAAsBhnC,EAAMA,EAAKR,KAFzB,yHAAH,sDAQZqN,GAAY,yCAAG,WAAO7G,EAASnC,EAAMoE,GAAtB,gBAAA1jB,EAAA,+EAEA0P,SAAM2N,IAC5BolC,GACAhhC,EACAnC,EACAoE,GANsB,cAElBg/B,EAFkB,yBAQjBA,GARiB,oGAAH,0DAcZn6B,GAAc,yCAAG,WAAOrY,GAAP,UAAAlQ,EAAA,+EAEpB0P,SAAMw3B,QAAQub,GAAsBvyC,GAFhB,yHAAH,sDAQrByyC,GAAwB,aACjB5hB,GAAY,yCAAG,WAAOtlB,GAAP,UAAAzb,EAAA,+EAElB0P,SAAMq1B,KAAK4d,GAAuBlnC,GAFhB,yHAAH,sDAQZwlB,GAAa,yCAAG,WAAOxlB,GAAP,UAAAzb,EAAA,+EAEnB0P,SAAMu3B,IAAI0b,GAAuBlnC,EAAMA,EAAKR,KAFzB,yHAAH,sDAQb6Z,GAAa,yCAAG,WAAOrT,EAASnC,EAAMoE,GAAtB,gBAAA1jB,EAAA,+EAED0P,SAAM2N,IAC5BslC,GACAlhC,EACAnC,EACAoE,GANuB,cAEnBg/B,EAFmB,yBAQlBA,GARkB,oGAAH,0DAcbxhB,GAAe,yCAAG,WAAOhxB,GAAP,UAAAlQ,EAAA,+EAErB0P,SAAMw3B,QAAQyb,GAAuBzyC,GAFhB,yHAAH,sDClI5B,IAAI0yC,GACJ,MAAMC,WAAsBp4C,IAAMQ,UAChCC,YAAYhC,GAAQ,IAAD,EACjBiC,MAAMjC,GADW,YAuCnB8e,SAvCmB,yCAuCR,WAAOvG,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEF6L,EAFE,gCAGQi3C,GACX,EAAKl3C,MAAMiT,UAAUpD,KACrBgG,EACAnC,EACAoE,GAPG,sDAWP,EAAKtX,UAASR,IAAK,CACjBygB,MAAM,2BAAMzgB,EAAMygB,OAAb,IAAoBpT,WAAW,QAZ/B,SAca6pC,GAClB,EAAKl3C,MAAMiT,UAAUpD,KACrBgG,EACAnC,EACAoE,GAlBK,cAcD2I,EAdC,QAqBDpT,WAAY,EAClB,EAAK7M,SAAS,CAAEigB,UAtBT,kBAuBAA,GAvBA,uGAvCQ,+DAoEnB1N,aApEmB,wBAoEJ,qCAAA3e,EAAA,sEAEX,EAAKoM,UAASR,IAAK,CACjBygB,MAAM,2BAAMzgB,EAAMygB,OAAb,IAAoBpT,WAAW,QAH3B,EAKqB,EAAKrN,MAAMygB,MAAnC5K,EALG,EAKHA,QAASnC,EALN,EAKMA,KAAMoE,EALZ,EAKYA,KALZ,SAMSo/B,GAClB,EAAKl3C,MAAMiT,UAAUpD,KACrBgG,EACAnC,EACAoE,GAVS,QAML2I,EANK,QAYLpT,WAAY,EAClB,EAAK7M,SAAS,CAAEigB,UAbL,uHApEI,KAuFnB/D,aAvFmB,yCAuFJ,WAAO7G,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEN6L,EAFM,gCAGIi3C,GAAwBrhC,EAASnC,EAAMoE,GAH3C,sDAMX,EAAKtX,UAASR,IAAK,CACjB82C,UAAU,2BAAM92C,EAAM82C,WAAb,IAAwBzpC,WAAW,QAPnC,SASa6pC,GAAwBrhC,EAASnC,EAAMoE,GATpD,cASLg/B,EATK,QAWDzpC,WAAY,EACtB,EAAK7M,SAAS,CAAEs2C,cAZL,kBAaJA,GAbI,uGAvFI,+DA0GnBt6B,iBA1GmB,wBA0GA,qCAAApoB,EAAA,sEAEf,EAAKoM,UAASR,IAAK,CACjB82C,UAAU,2BAAM92C,EAAM82C,WAAb,IAAwBzpC,WAAW,QAH/B,EAKiB,EAAKrN,MAAMygB,MAAnC5K,EALO,EAKPA,QAASnC,EALF,EAKEA,KAAMoE,EALR,EAKQA,KALR,SAMSo/B,GAAwBrhC,EAASnC,EAAMoE,GANhD,QAMTg/B,EANS,QAOLzpC,WAAY,EACtB,EAAK7M,SAAS,CAAEs2C,cARD,uHA1GA,KAwHnB5tB,cAxHmB,yCAwHH,WAAOrT,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEP6L,EAFO,gCAGGi3C,GAAyBrhC,EAASnC,EAAMoE,GAH3C,sDAMZ,EAAKtX,UAASR,IAAK,CACjBurB,WAAW,2BAAMvrB,EAAMurB,YAAb,IAAyBle,WAAW,QAPpC,SASa6pC,GAAyBrhC,EAASnC,EAAMoE,GATrD,cASNyT,EATM,QAWDle,WAAY,EACvB,EAAK7M,SAAS,CAAE+qB,eAZJ,kBAaLA,GAbK,uGAxHG,+DA2InB6J,kBA3ImB,wBA2IC,qCAAAhhC,EAAA,sEAEhB,EAAKoM,UAASR,IAAK,CACjBurB,WAAW,2BAAMvrB,EAAMurB,YAAb,IAAyBle,WAAW,QAHhC,EAKgB,EAAKrN,MAAMurB,WAAnC1V,EALQ,EAKRA,QAASnC,EALD,EAKCA,KAAMoE,EALP,EAKOA,KALP,SAMSo/B,GAAyBrhC,EAASnC,EAAMoE,GANjD,QAMVyT,EANU,QAOLle,WAAY,EACvB,EAAK7M,SAAS,CAAE+qB,eARA,uHAxIlB3rB,KAAKI,MAAQ,CACXygB,MAAO,CACL7F,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEb4F,UAAW,CACT2H,MAAO,EACP/K,KAAM,CACJ,CAAER,IAAK,EAAGpZ,KAAM,QAChB,CAAEoZ,IAAK,EAAGpZ,KAAM,WAChB,CAAEoZ,IAAK,EAAGpZ,KAAM,WAChB,CAAEoZ,IAAK,IAAKpZ,KAAM,QAClB,CAAEoZ,IAAK,IAAKpZ,KAAM,QAClB,CAAEoZ,IAAK,IAAKpZ,KAAM,SAGtB6gD,UAAW,CACTl8B,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbke,WAAY,CACV3Q,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,IAuHjBpN,SAAU,MACAC,EAAaN,KAAKtC,MAAlB4C,SAKR,OAJK82C,IAAWthB,WAAQC,YACtBqhB,IAAU,GAIV,cAAC,GAAa72C,SAAd,CACEjK,MAAK,aAEHkmB,SAAUxc,KAAKwc,SACfrJ,aAAcnT,KAAKmT,aACnBD,QAASokC,GACTlkC,SAAUkkC,GACV76B,WAAY66B,GAEZx6B,aAAc9c,KAAK8c,aACnBF,iBAAkB5c,KAAK4c,iBACvBD,YAAa26B,GACbz6B,aAAcy6B,GACdv6B,eAAgBu6B,GAChB3vB,QAAS2vB,GAEThuB,cAAetpB,KAAKspB,cACpBkM,kBAAmBx1B,KAAKw1B,kBACxBD,aAAc+hB,GACd7hB,cAAe6hB,GACf5hB,gBAAiB4hB,IAEdt3C,KAAKI,OAtBZ,SAyBGE,KAMM+2C,UCjMf,MAAME,WAAqBt4C,IAAMQ,UAAW,eAAD,iCACzCW,MAAQ,CACNs3B,QAAS,CACP1c,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEboZ,WAAY,CACV7L,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEb6Z,SAAU,CACRtM,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbkV,oBAAqB,CACnB3H,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbylB,QAAS,CACPjjB,KAAM,GACNxC,WAAW,GAEbkmB,gBAAiB,CACf1jB,KAAM,IAERgd,KAAM,CACJhd,KAAM,CACJqX,SAAU,KAGd0C,SAAU,CACR/Z,KAAM,CACJ7P,MAAO,EACPo3C,UAAW,GACXlqB,OAAQ,GACRvD,aAAc,CACZL,YAAa,GACblc,MAAO,GACPM,QAAS,GACTF,KAAM,GACN6d,OAAQ,GACRC,aAAc,GACd/B,IAAK,GACLjc,IAAK,GAELyc,aAAa,EACbU,mBAAoB,GACpBC,eAAgB,GAChBC,YAAa,GACbE,cAAe,GACfC,oBAAqB,GACrBF,WAAY,GAEZX,cAAc,EACdc,IAAK,GACLC,IAAK,GACLC,MAAO,GACPC,IAAK,GACLC,KAAM,GACNC,aAAc,GAEdb,aAAc,KACdC,cAAe,KAIfqB,eAAgB,CACd,CACEvnB,GAAI,EACJrO,KAAM,SACN+uB,MAAO,GAET,CACE1gB,GAAI,EACJrO,KAAM,cACN+uB,MAAO,QAKf3X,WAAW,GAEb24B,MAAO,CACLprB,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbkqB,OAAQ,CACN3c,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbg4B,SAAU,CACRzqB,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEbq0B,MAAO,CACL9mB,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,GAEb+wB,OAAQ,CACNxjB,MAAO,EACP/K,KAAM,GACNgG,QAAS,GACTiC,KAAM,KACNzK,WAAW,IA/H0B,KAoIzCiR,WApIyC,yCAoI5B,WAAOzI,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEJ6L,EAFI,gCAGMo3C,GAAqBxhC,EAASnC,EAAMoE,GAH1C,sDAMT,EAAKtX,UAAUR,IAAD,CACZs3B,QAAQ,2BAAMt3B,EAAMs3B,SAAb,IAAsBjqB,WAAW,QAPjC,SASagqC,GAAqBxhC,EAASnC,EAAMoE,GATjD,cASHwf,EATG,QAUDjqB,WAAY,EACpB,EAAK7M,SAAS,CAAE82B,YAXP,kBAYFA,GAZE,uGApI4B,+DAsJzCrZ,eAtJyC,wBAsJxB,qCAAA7pB,EAAA,sEAEb,EAAKoM,UAAUR,IAAD,CACZs3B,QAAQ,2BAAMt3B,EAAMs3B,SAAb,IAAsBjqB,WAAW,QAH7B,EAKmB,EAAKrN,MAAMs3B,QAAnCzhB,EALK,EAKLA,QAASnC,EALJ,EAKIA,KAAMoE,EALV,EAKUA,KALV,SAMSu/B,GAAqBxhC,EAASnC,EAAMoE,GAN7C,QAMPwf,EANO,QAOLjqB,WAAY,EACpB,EAAK7M,SAAS,CAAE82B,YARH,uHAtJwB,KAqKzCnR,cArKyC,yCAqKzB,WAAOtQ,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEP6L,EAFO,gCAGGo3C,GAAwBxhC,EAASnC,EAAMoE,GAH1C,sDAMZ,EAAKtX,UAAUR,IAAD,CACZymB,WAAW,2BAAMzmB,EAAMymB,YAAb,IAAyBpZ,WAAW,QAPpC,SASagqC,GAAwBxhC,EAASnC,EAAMoE,GATpD,cASN2O,EATM,QAUDpZ,WAAY,EACvB,EAAK7M,SAAS,CAAEimB,eAXJ,kBAYLA,GAZK,uGArKyB,+DAuLzC2Q,kBAvLyC,wBAuLrB,qCAAAhjC,EAAA,sEAEhB,EAAKoM,UAAUR,IAAD,CACZymB,WAAW,2BAAMzmB,EAAMymB,YAAb,IAAyBpZ,WAAW,QAHhC,EAKgB,EAAKrN,MAAMymB,WAAnC5Q,EALQ,EAKRA,QAASnC,EALD,EAKCA,KAAMoE,EALP,EAKOA,KALP,SAMSu/B,GAAwBxhC,EAASnC,EAAMoE,GANhD,QAMV2O,EANU,QAOLpZ,WAAY,EACvB,EAAK7M,SAAS,CAAEimB,eARA,uHAvLqB,KAsMzCpE,uBAtMyC,yCAsMhB,WAAOxM,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEhB6L,EAFgB,gCAGNo3C,GAAsBxhC,EAASnC,EAAMoE,GAH/B,sDAMrB,EAAKtX,UAAUR,IAAD,CACZuiB,oBAAoB,2BAAMviB,EAAMuiB,qBAAb,IAAkClV,WAAW,QAP7C,SAUagqC,GAChCxhC,EACAnC,EACAoE,GAbmB,cAUfyK,EAVe,QAeDlV,WAAY,EAChC,EAAK7M,SAAS,CAAE+hB,wBAhBK,kBAiBdA,GAjBc,uGAtMgB,+DA8NzCE,YA9NyC,yCA8N3B,WAAO5M,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEL6L,EAFK,gCAGKo3C,GAAsBxhC,EAASnC,EAAMoE,GAH1C,sDAMV,EAAKtX,UAAUR,IAAD,CACZknB,SAAS,2BAAMlnB,EAAMknB,UAAb,IAAuB7Z,WAAW,QAPlC,SAUagqC,GAAsBxhC,EAASnC,EAAMoE,GAVlD,cAUJoP,EAVI,QAWD7Z,WAAY,EACrB,EAAK7M,SAAS,CAAE0mB,aAZN,kBAaHA,GAbG,uGA9N2B,+DAiPzCowB,eAjPyC,yCAiPxB,WAAOxkB,GAAP,8BAAA1+B,EAAA,sDACXi/B,EAAY,GADD,eAEKP,GAFL,4DAENhwB,EAFM,WAGPy0C,EAAYp1B,OAAOxtB,KAAKmO,EAAQse,aACxBntB,QAAU,GAJX,sDAMPujD,EAAWD,EAAU,GACtBlkB,EAAUokB,eAAeD,KAC5BnkB,EAAUmkB,GAAY,IAExBnkB,EAAUmkB,GAAU/4C,KAAKqE,EAAQse,WAAWo2B,IAV/B,uJAAApjD,EAAA,KAaMi/B,GAbN,sDAaN9f,EAbM,WAcP0E,EAAS,CAAC,CAAE7O,MAAO,MAAO2M,GAAI,KAAM7f,MAAOm9B,EAAU9f,KAd9C,UAee2jC,GAAoB,GAAIj/B,GAfvC,QAebob,EAAU9f,GAfG,wDAkBR8f,GAlBQ,gEAjPwB,2DAsQzCT,uBAtQyC,yCAsQhB,WAAOtuB,GAAP,kBAAAlQ,EAAA,sEAErB,EAAKoM,UAAUR,IAAD,CACZ8yB,QAAQ,2BAAM9yB,EAAM8yB,SAAb,IAAsBzlB,WAAW,QAHrB,SAKOgqC,GAAiC/yC,GALxC,cAKfozC,EALe,gBAMG,EAAKJ,eAAeI,GANvB,cAMfrkB,EANe,OAOrB,EAAK7yB,SAAS,CAAEsyB,QAAS,CAACjjB,KAAM,IAAI6nC,GAAgBrqC,WAAW,GAAQkmB,gBAAiB,CAAE1jB,KAAMwjB,KAP3E,kBAQdqkB,GARc,uGAtQgB,2DAoRzChc,WApRyC,yCAoR5B,WAAOp3B,GAAP,gBAAAlQ,EAAA,sEAET,EAAKoM,UAAUR,IAAD,CACZumB,QAAQ,2BAAMvmB,EAAMumB,SAAb,IAAsBlZ,WAAW,QAHjC,SAKagqC,GAAqB/yC,GALlC,cAKHiiB,EALG,QAMDlZ,WAAY,EACpB,EAAK7M,SAAS,CAAE+lB,YAPP,kBAQFA,GARE,uGApR4B,2DAkSzCjF,gBAlSyC,wBAkSvB,qCAAAltB,EAAA,sEAEd,EAAKoM,UAAUR,IAAD,CACZknB,SAAS,2BAAMlnB,EAAMknB,UAAb,IAAuB7Z,WAAW,QAH9B,EAKkB,EAAKrN,MAAMknB,SAAnCrR,EALM,EAKNA,QAASnC,EALH,EAKGA,KAAMoE,EALT,EAKSA,KALT,SAMSu/B,GAAsBxhC,EAASnC,EAAMoE,GAN9C,QAMRoP,EANQ,QAOL7Z,WAAY,EACrB,EAAK7M,SAAS,CAAE0mB,aARF,uHAlSuB,KAgTzCvE,cAhTyC,yCAgTzB,WAAOre,GAAP,gBAAAlQ,EAAA,yDACd,EAAKoM,UAAUR,IAAD,CACZknB,SAAS,2BAAMlnB,EAAMknB,UAAb,IAAuB7Z,WAAW,UAGtCwC,EAAO,EAAK7P,MAAMknB,SAASrX,KAAKvO,MAAMge,GAAMA,EAAEjQ,MAAQ/K,KAL9C,gCAME+yC,GAAA,2BAA2BxnC,GAA3B,IAAiCnL,UAAU,KAN7C,OAQd,EAAKlE,UAAUR,IAAD,CACZknB,SAAS,2BAAMlnB,EAAMknB,UAAb,IAAuB7Z,WAAW,QAT9B,2CAhTyB,2DA8TzC8b,gBAAkB,KAChB,MAAMwuB,EAAgBC,aAAaC,QAAQ,QAC3C,GAAIF,EAAe,CACjB,MAAM9qB,EAAOirB,KAAKC,MAAMJ,GACxB/3C,KAAKY,SAAS,CAAEqsB,WAlUqB,KAsUzC6G,eAAiB,CAACnN,EAAShL,EAAQ,KACjC,MAAMy8B,EAAkBp4C,KAAKI,MAAM6sB,KAAKhd,KAAKqX,SAAS5lB,MACnDsF,GAASA,EAAK2f,QAAQlX,MAAQkX,EAAQlX,MAErC2oC,EACyC,SAAvCA,EAAgBzxB,QAAQ1F,YAC1BjhB,KAAKkxB,kBAAkBvK,EAAQlX,IAAKkM,GAIxC3b,KAAKY,UACFR,IAAD,CACE6sB,KAAM,CACJhd,KAAM,CACJqX,SAAU,IAAIlnB,EAAM6sB,KAAKhd,KAAKqX,SAAU,CAAE3L,QAAOgL,kBAIvD,KACE,MAAM0xB,EAAiBH,KAAKI,UAAUt4C,KAAKI,MAAM6sB,MACjD+qB,aAAaO,QAAQ,OAAQF,OA1VM,KA+VzCnnB,kBAAoB,CAAClB,EAAWiB,KAC9B,MAAMunB,EAAex4C,KAAKI,MAAM6sB,KAAKhd,KAAKqX,SAASmxB,WAChDzxC,GAASA,EAAK2f,QAAQlX,MAAQugB,KAEX,IAAlBwoB,GAEJx4C,KAAKY,UACFR,IAAD,CACE6sB,KAAM,CACJhd,KAAM,CACJqX,SAAUlnB,EAAM6sB,KAAKhd,KAAKqX,SAASzlB,KAAI,CAACmF,EAAM8+B,IACxCA,IAAM0S,EACD,CACL78B,MAAO3U,EAAK2U,MAAQsV,EAAW,EAAI,EAAIjqB,EAAK2U,MAAQsV,EACpDtK,QAAS3f,EAAK2f,SAGX3f,UAKf,KACE,MAAMqxC,EAAiBH,KAAKI,UAAUt4C,KAAKI,MAAM6sB,MACjD+qB,aAAaO,QAAQ,OAAQF,OAvXM,KA4XzCjnB,kBAAqBpB,IACnBhwB,KAAKY,UACFR,IAAD,CACE6sB,KAAM,CACJhd,KAAM,CACJqX,SAAUlnB,EAAM6sB,KAAKhd,KAAKqX,SAASjP,QAChCrR,GAASA,EAAK2f,QAAQlX,MAAQugB,UAKvC,KACE,MAAMqoB,EAAiBH,KAAKI,UAAUt4C,KAAKI,MAAM6sB,MACjD+qB,aAAaO,QAAQ,OAAQF,OAzYM,KA8YzCthB,mBAAqB,KACnB/2B,KAAKY,SACH,CACEqsB,KAAM,CACJhd,KAAM,CACJqX,SAAU,OAIhB,KACE,MAAM+wB,EAAiBH,KAAKI,UAAUt4C,KAAKI,MAAM6sB,MACjD+qB,aAAaO,QAAQ,OAAQF,OAzZM,KA+ZzCvuB,qBAAuB,CAACzzB,EAAMC,KAC5B0J,KAAKY,UAAUR,IAAD,CACZ4pB,SAAU,CACR/Z,KAAK,2BACA7P,EAAM4pB,SAAS/Z,MADhB,IAEF8Z,aAAa,2BACR3pB,EAAM4pB,SAAS/Z,KAAK8Z,cADb,IAEV,CAAC1zB,GAAOC,YAtauB,KA6azCmzB,kBAAqBivB,IACnB14C,KAAKY,UAAUR,IAAD,CACZ4pB,SAAU,CACR/Z,KAAK,2BACA7P,EAAM4pB,SAAS/Z,MADhB,IAEF8Z,aAAa,2BACR3pB,EAAM4pB,SAAS/Z,KAAK8Z,cACpB2uB,WApb4B,KA2bzC3rB,oBA3byC,yCA2bnB,WAAOiK,GAAP,gBAAAxiC,EAAA,sEAElB,EAAKoM,UAAUR,IAAD,CACZ4pB,SAAS,2BAAM5pB,EAAM4pB,UAAb,IAAuBvc,WAAW,QAH1B,SAMGgqC,GAA8BzgB,GANjC,cAMZ1J,EANY,OAOlB,EAAK1sB,UAAUR,IAAD,CACZ4pB,SAAU,CACR/Z,KAAK,2BAAM7P,EAAM4pB,SAAS/Z,MAAtB,IAA4Bqd,OAAO,eAAMA,KAC7C7f,WAAW,OAVG,kBAcX6f,GAdW,oGA3bmB,2DA+czCgB,YA/cyC,yCA+c3B,WAAOkpB,GAAP,gBAAAhjD,EAAA,sEAEV,EAAKoM,UAAUR,IAAD,CACZ4pB,SAAS,2BAAM5pB,EAAM4pB,UAAb,IAAuBvc,WAAW,EAAM+pC,kBAHxC,SAMUC,GAAmBD,GAN7B,cAMJnoB,EANI,OAOV,EAAKzuB,UAAUR,IAAD,CACZ4pB,SAAS,2BAAM5pB,EAAM4pB,UAAb,IAAuBvc,WAAW,EAAO+pC,UAAWnoB,QARpD,kBAWHA,GAXG,oGA/c2B,2DAgezCwH,YAheyC,yCAge3B,WAAOqF,GAAP,gBAAA1nC,EAAA,sEAEV,EAAKoM,UAAUR,IAAD,CACZ4pB,SAAS,2BAAM5pB,EAAM4pB,UAAb,IAAuBvc,WAAW,QAHlC,SAMUgqC,GAAsBvb,GANhC,cAMJ7M,EANI,OAOV,EAAKzuB,UAAUR,IAAD,CACZ4pB,SAAS,2BAAM5pB,EAAM4pB,UAAb,IAAuBvc,WAAW,EAAO+pC,UAAWnoB,QARpD,kBAWHA,GAXG,oGAhe2B,2DAkfzChM,SAlfyC,yCAkf9B,WAAOpN,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEF6L,EAFE,gCAGQo3C,GAAmBxhC,EAASnC,EAAMoE,GAH1C,sDAMP,EAAKtX,UAAUR,IAAD,CACZgmC,MAAM,2BAAMhmC,EAAMgmC,OAAb,IAAoB34B,WAAW,QAP/B,SASagqC,GAAmBxhC,EAASnC,EAAMoE,GAT/C,cASDkuB,EATC,QAUD34B,WAAY,EAClB,EAAK7M,SAAS,CAAEwlC,UAXT,kBAYAA,GAZA,uGAlf8B,+DAogBzCjjB,aApgByC,wBAogB1B,qCAAA3uB,EAAA,sEAEX,EAAKoM,UAAUR,IAAD,CACZgmC,MAAM,2BAAMhmC,EAAMgmC,OAAb,IAAoB34B,WAAW,QAH3B,EAKqB,EAAKrN,MAAMgmC,MAAnCnwB,EALG,EAKHA,QAASnC,EALN,EAKMA,KAAMoE,EALZ,EAKYA,KALZ,SAMSu/B,GAAmBxhC,EAASnC,EAAMoE,GAN3C,QAMLkuB,EANK,QAOL34B,WAAY,EAClB,EAAK7M,SAAS,CAAEwlC,UARL,uHApgB0B,KAmhBzCrnB,UAnhByC,yCAmhB7B,WAAO9I,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEH6L,EAFG,gCAGOo3C,GAAoBxhC,EAASnC,EAAMoE,GAH1C,sDAMR,EAAKtX,UAAUR,IAAD,CACZu3B,OAAO,2BAAMv3B,EAAMu3B,QAAb,IAAqBlqB,WAAW,QAPhC,SASagqC,GAAoBxhC,EAASnC,EAAMoE,GAThD,cASFyf,EATE,QAUDlqB,WAAY,EACnB,EAAK7M,SAAS,CAAE+2B,WAXR,kBAYDA,GAZC,uGAnhB6B,+DAoiBzC9Y,cApiByC,wBAoiBzB,qCAAArqB,EAAA,sEAEZ,EAAKoM,UAAUR,IAAD,CACZu3B,OAAO,2BAAMv3B,EAAMu3B,QAAb,IAAqBlqB,WAAW,QAH5B,EAKoB,EAAKrN,MAAMu3B,OAAnC1hB,EALI,EAKJA,QAASnC,EALL,EAKKA,KAAMoE,EALX,EAKWA,KALX,SAMSu/B,GAAoBxhC,EAASnC,EAAMoE,GAN5C,QAMNyf,EANM,QAOLlqB,WAAY,EACnB,EAAK7M,SAAS,CAAE+2B,WARJ,uHApiByB,KAmjBzC9T,YAnjByC,yCAmjB3B,WAAO5N,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEL6L,EAFK,gCAGKo3C,GAAsBxhC,EAASnC,EAAMoE,GAH1C,sDAMV,EAAKtX,UAAUR,IAAD,CACZqlC,SAAS,2BAAMrlC,EAAMqlC,UAAb,IAAuBh4B,WAAW,QAPlC,SASagqC,GAAsBxhC,EAASnC,EAAMoE,GATlD,cASJutB,EATI,QAUDh4B,WAAY,EACrB,EAAK7M,SAAS,CAAE6kC,aAXN,kBAYHA,GAZG,uGAnjB2B,+DAqkBzC/hB,gBArkByC,wBAqkBvB,qCAAAlvB,EAAA,sEAEd,EAAKoM,UAAUR,IAAD,CACZqlC,SAAS,2BAAMrlC,EAAMqlC,UAAb,IAAuBh4B,WAAW,QAH9B,EAKkB,EAAKrN,MAAMqlC,SAAnCxvB,EALM,EAKNA,QAASnC,EALH,EAKGA,KAAMoE,EALT,EAKSA,KALT,SAMSu/B,GAAsBxhC,EAASnC,EAAMoE,GAN9C,QAMRutB,EANQ,QAOLh4B,WAAY,EACrB,EAAK7M,SAAS,CAAE6kC,aARF,uHArkBuB,KAolBzCliB,SAplByC,yCAolB9B,WAAOtN,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEF6L,EAFE,gCAGQo3C,GAAmBxhC,EAASnC,EAAMoE,GAH1C,sDAMP,EAAKtX,UAAUR,IAAD,CACZ0hC,MAAM,2BAAM1hC,EAAM0hC,OAAb,IAAoBr0B,WAAW,QAP/B,SASagqC,GAAmBxhC,EAASnC,EAAMoE,GAT/C,cASD4pB,EATC,QAUDr0B,WAAY,EAClB,EAAK7M,SAAS,CAAEkhC,UAXT,kBAYAA,GAZA,uGAplB8B,+DAumBzC/E,UAvmByC,yCAumB7B,WAAO9mB,EAASnC,EAAMoE,EAAM7X,GAAS,GAArC,gBAAA7L,EAAA,kEAEH6L,EAFG,gCAGOo3C,GAAoBxhC,EAASnC,EAAMoE,GAH1C,sDAMR,EAAKtX,UAAUR,IAAD,CACZo+B,OAAO,2BAAMp+B,EAAMo+B,QAAb,IAAqB/wB,WAAW,QAPhC,SASagqC,GAAoBxhC,EAASnC,EAAMoE,GAThD,cASFsmB,EATE,QAUD/wB,WAAY,EACnB,EAAK7M,SAAS,CAAE49B,WAXR,kBAYDA,GAZC,uGAvmB6B,0DAynBzCn+B,SAAU,MACAC,EAAaN,KAAKtC,MAAlB4C,SAER,OACE,cAAC,GAAYC,SAAb,CACEjK,MAAK,aAEHooB,WAAY1e,KAAK0e,WACjBL,eAAgBre,KAAKqe,eACrBD,UAAWq5B,GACXn5B,WAAYm5B,GACZ94B,aAAc84B,GAGdlxB,cAAevmB,KAAKumB,cACpBiR,kBAAmBx3B,KAAKw3B,kBACxBD,aAAckgB,GACdhgB,cAAeggB,GACf5f,gBAAiB4f,GAGjBh1B,uBAAwBziB,KAAKyiB,uBAG7BI,YAAa7iB,KAAK6iB,YAClBmQ,uBAAwBhzB,KAAKgzB,uBAC7B8I,WAAY97B,KAAK87B,WACjBpa,gBAAiB1hB,KAAK0hB,gBACtBD,WAAYg2B,GACZ91B,YAAa81B,GAEb10B,cAAe/iB,KAAK+iB,cAGpB+G,qBAAsB9pB,KAAK8pB,qBAC3BL,kBAAmBzpB,KAAKypB,kBACxBsD,oBAAqB/sB,KAAK+sB,oBAC1BuB,YAAatuB,KAAKsuB,YAClBuI,YAAa72B,KAAK62B,YAGlBtN,gBAAiBvpB,KAAKupB,gBACtBuK,eAAgB9zB,KAAK8zB,eACrB5C,kBAAmBlxB,KAAKkxB,kBACxBE,kBAAmBpxB,KAAKoxB,kBACxB2F,mBAAoB/2B,KAAK+2B,mBAGzB1T,SAAUrjB,KAAKqjB,SACfF,aAAcnjB,KAAKmjB,aACnBD,QAASu0B,GACTr0B,SAAUq0B,GACVn0B,WAAYm0B,GAGZ14B,UAAW/e,KAAK+e,UAChBF,cAAe7e,KAAK6e,cACpBD,SAAU64B,GACV34B,UAAW24B,GACXz4B,YAAay4B,GAGb5zB,YAAa7jB,KAAK6jB,YAClBH,gBAAiB1jB,KAAK0jB,gBACtBD,WAAYg0B,GACZ9zB,YAAa8zB,GACb3zB,cAAe2zB,GAGf1a,UAAW/8B,KAAK+8B,UAChBF,SAAU4a,GACV3a,UAAW2a,GACXza,YAAaya,GAGbl0B,SAAUvjB,KAAKujB,SACfwS,QAAS0hB,GACTjb,WAAYib,GACZ9a,aAAc8a,GACdhb,UAAWgb,IAERz3C,KAAKI,OA7EZ,SAgFGE,KAMMi3C,U,8BClsBfoB,gBAAKr0C,IAEL,MAAMzE,GAASyE,GAAOzE,OAAOE,MAAM,KAAK,GACxCqW,KAAOvW,OAAOA,IAEd,MAAMhL,GAAQ+jD,yBAAe,CAC3BzgD,QAASmM,GAAOnM,QAChB0gD,WAAY,CACR7/C,WAAW,CACT,gBACA,cACA2Z,KAAK,MAEX3d,YAAa,CACXw1B,OAAQ,CAMJvjB,GAAI,IACJC,GAAI,IACJC,GAAI,IACJogB,GAAI,KACJumB,GAAI,SAKZ,MAAMgL,WAAmB75C,IAAMQ,UAC7BqS,oBACEinC,SAASC,gBAAgBx6C,MAAMy6C,YAAY,kBAAmB30C,GAAOnM,QAAQC,QAAQC,MACrF0gD,SAASC,gBAAgBx6C,MAAMy6C,YAAY,oBAAqB30C,GAAOnM,QAAQI,UAAUF,MACzF0gD,SAASh0C,MAAT,UAAoBJ,OAApB,aAAmDA,SAGrDtE,SACE,OACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,CACER,OAAQyE,GAAOzE,OACfq5C,QAAOh5C,GACPi5C,QAAOh5C,GAHT,SAKE,cAAC,mBAAD,CAAkBtL,MAAOA,GAAzB,SACE,cAAC,KAAD,CAAyBgX,MAAOutC,KAAav5C,OAAQA,GAArD,SACE,cAAC,GAAD,iBAWlBw5C,IAASh5C,OAAO,cAAC,GAAD,IAAgB04C,SAASO,eAAe,SNgDlD,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAKC,IACjCA,EAAaC,kB","file":"static/js/main.8b424ed2.chunk.js","sourcesContent":["/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}","const getSharedStyles = (theme) => ({\r\n    ...generateSpacings(theme),\r\n    ...generateUtils(theme),\r\n    // ---------- grid\r\n    container: {\r\n        paddingLeft: '1.25rem',\r\n        paddingRight: '1.25rem',\r\n        maxWidth: '1300px',\r\n        margin: '0 auto'\r\n        // [theme.breakpoints.up('md')]: {\r\n        //     paddingLeft: '1.25rem',\r\n        //     paddingRight: '1.25rem',\r\n        // },\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    },\r\n    flexGrow: {\r\n        flexGrow: 1\r\n    },\r\n    // ---------- rounded\r\n    roundedSm: {\r\n        borderRadius: '0.25rem',\r\n    },\r\n    roundedMd: {\r\n        borderRadius: '0.5rem',\r\n    },\r\n    roundedLg: {\r\n        borderRadius: '0.75rem',\r\n    },   \r\n    // ---------- bg colors\r\n    bgWhite: {\r\n        background: 'white',\r\n    },\r\n    bg300: {\r\n        background: '#F3F3F3',\r\n    },\r\n    bgPrimary: {\r\n        background: theme.palette.primary.main,\r\n    },\r\n    bgSecondary: {\r\n        background: theme.palette.secondary.main,\r\n    },\r\n    // ---------- text colors\r\n    textWhite: {\r\n        color: '#fff'\r\n    },\r\n    textPrimary: {\r\n        color: theme.palette.primary.main,\r\n    },\r\n    textSecondary: {\r\n        color: theme.palette.secondary.main,\r\n    },\r\n    textSecondaryLight: {\r\n        color: '#A4B1C4'\r\n    },\r\n    // ---------- text utils    \r\n    uppercase: {\r\n        textTransform: 'uppercase'\r\n    }, \r\n    capitalize: {\r\n        textTransform: 'capitalize'\r\n    }, \r\n    textMono: {\r\n        fontFamily: \"'IBM Plex Mono', monospace\",\r\n    }, \r\n    textSans: {\r\n        fontFamily: \"'IBM Plex Sans', monospace\",\r\n    },\r\n    // ---------- text sizes\r\n    textBase: {\r\n        fontSize: '16px',\r\n        lineHeight: '130%',\r\n    },\r\n    textM: {\r\n        fontSize: '14px',\r\n        lineHeight: '130%',\r\n    },\r\n    textS: {\r\n        fontSize: '12px',\r\n        lineHeight: '130%',\r\n    },\r\n    textXs: {\r\n        fontSize: '10px',\r\n        lineHeight: '130%',\r\n    },\r\n\r\n    textXl: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-1px',\r\n        fontSize: '50px',\r\n        fontWeight: 700,\r\n    },\r\n    textH1: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-1px',\r\n        fontSize: '40px',\r\n        fontWeight: 700,\r\n    },\r\n    textH2: {        \r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '32px',\r\n        fontWeight: 700,\r\n    },\r\n    textH3: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '24px',\r\n        fontWeight: 700,\r\n    },\r\n    textH4: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '20px',\r\n        fontWeight: 700,\r\n    },   \r\n    textBlock: {\r\n        lineHeight: '150%'\r\n    },\r\n    //text color\r\n    text200: {\r\n        color: 'rgba(51,52,66,0.5)',\r\n    },\r\n    text300: {\r\n        color: 'rgba(51,52,66,0.7)',\r\n    },\r\n    text400: {\r\n        color: '#333442',\r\n    },\r\n    textEl250: {\r\n        color: '#A4B1C4',\r\n    },\r\n    // ---------- font weights\r\n    fontRegular: {\r\n        fontWeight: 400,\r\n    },\r\n    fontMedium: {\r\n        fontWeight: 500,\r\n    }, \r\n    fontSemibold: {\r\n        fontWeight: 600,\r\n    },     \r\n    fontBold: {\r\n        fontWeight: 700,\r\n    },    \r\n    // ---------- utils\r\n    hrLine: {\r\n        border: 0,\r\n        borderBottom: '1px solid rgba(0,0,0,0.08)',\r\n    },\r\n    positionRelative: {\r\n        position: 'relative',\r\n    },\r\n    positionAbsolute: {\r\n        position: 'absolute',\r\n    },\r\n    w100: {\r\n        width: '100%',\r\n    },\r\n    w50:{\r\n        width: '50%',\r\n    },    \r\n    h100: {\r\n        height: '100%',\r\n    },\r\n    h50: {\r\n        height: '50%',\r\n    },\r\n    dBlock: {\r\n        display: 'block',\r\n    },\r\n    dBlockInline: {\r\n        display: 'block-inline',\r\n    },    \r\n    alignItemsCenter: {\r\n        alignItems: 'center'\r\n    },\r\n    alignItemsStart: {\r\n        alignItems: 'flex-start'\r\n    },\r\n    alignItemsEnd: {\r\n        alignItems: 'flex-end'\r\n    },    \r\n    carouselFullwidth: {\r\n        marginRight: '-1.25rem',\r\n        marginLeft: '-1.25rem',\r\n    },\r\n    carouselSpacing: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '1.25rem',\r\n        }\r\n    },\r\n\r\n    // ---------- card\r\n    cardShadow: {\r\n        boxShadow: \"1px 1px 10px 1px rgba(0,0,0,0.08)\",\r\n    },\r\n    // ---------- shadows\r\n    shadowTiny: {\r\n        boxShhadow: '0px 1px 3px rgba(0, 0, 0, 0.14)',\r\n    },\r\n    shadowSmall: {\r\n        boxShhadow: '2px 4px 10px 2px rgba(0, 0, 0, 0.07)',\r\n    },\r\n    shadowMedium: {\r\n        boxShhadow: '0px 7px 20px 4px rgba(0, 0, 0, 0.08)',\r\n    },\r\n    shadowLarge: {\r\n        boxShhadow: '8px 8px 50px 4px rgba(0, 0, 0, 0.2)',\r\n    },\r\n    shadowXl: {\r\n        boxShhadow: '0px 16px 64px rgba(0, 0, 0, 0.06), 0px 12px 24px rgba(0, 0, 0, 0.04), 0px 6px 8px rgba(0, 0, 0, 0.02), 0px 2px 8px 2px rgba(0, 0, 0, 0.08)',\r\n    },\r\n    shadowXxl: {\r\n        boxShhadow: '0px 16px 64px rgba(0, 0, 0, 0.06), 0px 12px 24px rgba(0, 0, 0, 0.04), 0px 6px 8px rgba(0, 0, 0, 0.02)',\r\n    },\r\n    // ---------- images\r\n    imageFit: {\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 0,\r\n        width: '100%',\r\n        height: '100%',        \r\n        objectFit: 'cover',\r\n    },\r\n    imageFitHolder: {\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n    }   \r\n    // ----------\r\n    \r\n})\r\n\r\nconst spacings = [  \r\n    '0rem',  \r\n    '0.25rem',\r\n    '0.5rem',\r\n    '0.75rem',\r\n    '1rem',\r\n    '1.25rem',\r\n    '1.5rem',\r\n    '2rem',\r\n    '2.5rem',\r\n    '3rem',\r\n    '4rem',\r\n    '5rem',\r\n    '7rem',\r\n    '10rem',\r\n]\r\n\r\nconst generateSpacings = (theme) => {\r\n    let ret = {};\r\n\r\n    let keys = [...theme.breakpoints.keys];\r\n    keys.unshift(\"\")\r\n\r\n    keys.forEach(key => {\r\n        spacings.forEach((x, index) => { \r\n            \r\n            //margin   \r\n            ret[`mt${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginTop: x+'!important',\r\n                    }} : {marginTop: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mr${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginRight: x+'!important',\r\n                    }} : {marginRight: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mb${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginBottom: x+'!important',\r\n                    }} : {marginBottom: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`ml${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginLeft: x+'!important',\r\n                    }} : {marginLeft: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`m${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        margin: x+'!important',\r\n                    }} : {margin: x+'!important',}\r\n                )                 \r\n            };\r\n            ret[`my${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginTop: x+'!important',\r\n                        marginBottom: x+'!important',\r\n                    }} : {marginTop: x+'!important', marginBottom: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mx${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginLeft: x+'!important',\r\n                        marginRight: x+'!important',\r\n                    }} : {marginLeft: x+'!important', marginRight: x+'!important',}\r\n                )                \r\n            };\r\n            //pading\r\n            ret[`pt${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingTop: x+'!important',\r\n                    }} : {paddingTop: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`pr${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingRight: x+'!important',\r\n                    }} : {paddingRight: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`pb${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingBottom: x+'!important',\r\n                    }} : {paddingBottom: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`pl${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingLeft: x+'!important',\r\n                    }} : {paddingLeft: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`p${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        padding: x+'!important',\r\n                    }} : {padding: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`py${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingTop: x+'!important',\r\n                        paddingBottom: x+'!important',\r\n                    }} : {paddingTop: x+'!important', paddingBottom: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`px${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingLeft: x+'!important',\r\n                        paddingRight: x+'!important',\r\n                    }} : {paddingLeft: x+'!important', paddingRight: x+'!important',}\r\n                )               \r\n            };\r\n        }); \r\n        \r\n        \r\n    })\r\n    console.log(ret)\r\n    return ret;\r\n}\r\n\r\nconst displayProps = [\r\n    {\r\n        name: 'Block',\r\n        value: 'block',\r\n    },\r\n    {\r\n        name: 'Flex',\r\n        value: 'flex',\r\n    },\r\n    {\r\n        name: 'InlineBlock',\r\n        value: 'inline-block',\r\n    },\r\n    {\r\n        name: 'None',\r\n        value: 'none',\r\n    },   \r\n]\r\n\r\nconst justifyContentProps = [\r\n    {\r\n        name: 'Center',\r\n        value: 'center',\r\n    },\r\n    {\r\n        name: 'Start',\r\n        value: 'flex-start',\r\n    },\r\n    {\r\n        name: 'End',\r\n        value: 'flex-end',\r\n    },\r\n    {\r\n        name: 'Between',\r\n        value: 'space-between',\r\n    },   \r\n]\r\n\r\nconst flexDirectionProps = [\r\n    {\r\n        name: 'Col',\r\n        value: 'column'\r\n    },\r\n    {\r\n        name: 'Row',\r\n        value: 'row'\r\n    }\r\n]\r\n\r\nconst alignItemsProps = [\r\n    {\r\n        name: 'Start',\r\n        value: 'flex-start'\r\n    },\r\n    {\r\n        name: 'End',\r\n        value: 'flex-end'\r\n    },\r\n    {\r\n        name: 'Center',\r\n        value: 'center'\r\n    }\r\n]\r\n\r\nconst textAlignProps = [\r\n    {\r\n        name: 'Center',\r\n        value: 'center',\r\n    },\r\n    {\r\n        name: 'Left',\r\n        value: 'left',\r\n    },\r\n    {\r\n        name: 'Right',\r\n        value: 'right',\r\n    },      \r\n]\r\n\r\nconst generateUtils = (theme) => {  \r\n    let ret = {};   \r\n\r\n    let keys = [...theme.breakpoints.keys];\r\n    keys.unshift(\"\")\r\n\r\n    keys.forEach(key => {\r\n        displayProps.forEach(x => {       \r\n            ret[`d${capitalize(key)}${x.name}`] = {\r\n                ...(                \r\n                    key !== \"\" ?\r\n                        {[theme.breakpoints.up(key)]: {\r\n                            display: x.value,\r\n                        }} : {display: x.value}\r\n                )\r\n            }\r\n        });  \r\n        \r\n        justifyContentProps.forEach(x => {       \r\n            ret[`justifyContent${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            justifyContent: x.value,\r\n                        }} : {justifyContent: x.value}\r\n                )\r\n            }\r\n        });  \r\n\r\n        flexDirectionProps.forEach(x => {       \r\n            ret[`flex${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            flexDirection: x.value,\r\n                        }} : {flexDirection: x.value}\r\n                )\r\n            }\r\n        }); \r\n\r\n        alignItemsProps.forEach(x => {       \r\n            ret[`alignItems${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            alignItems: x.value,\r\n                        }} : {alignItems: x.value}\r\n                )\r\n            }\r\n        }); \r\n        \r\n        textAlignProps.forEach(x => {       \r\n            ret[`text${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            textAlign: x.value,\r\n                        }} : {textAlign: x.value}\r\n                )\r\n            }\r\n        }); \r\n    })\r\n    console.log(ret)\r\n    return ret;\r\n}\r\n\r\nconst capitalize = (s) => {\r\n    if (typeof s !== 'string') return ''\r\n    return s.charAt(0).toUpperCase() + s.slice(1)\r\n  }\r\n\r\n\r\nexport default getSharedStyles","import React, {useState} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport compose from '../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../style';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport GroupIcon from '@material-ui/icons/GroupOutlined';\r\nimport AccountIcon from '@material-ui/icons/AccountCircleOutlined';\r\nimport HillIcon from '@material-ui/icons/TerrainOutlined';\r\nimport DotsIcon from '@material-ui/icons/MoreHoriz';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    bottomBar: {\r\n        position: 'fixed',\r\n        height: '120px',\r\n        width: '100%',\r\n        bottom: '-60px',\r\n        left: '0',\r\n        background: 'rgba(255,255,255,0.95)',\r\n        borderTopLeftRadius: '10px',\r\n        borderTopRightRadius: '10px',\r\n        borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n        backdropFilter: 'blur(9px)',\r\n        transition: 'all 0.3s ease',\r\n        zIndex: 800,\r\n    },\r\n    expandedBar: {\r\n        bottom: '0',\r\n    },\r\n    itemsHolder: {\r\n        width: 'calc((100% - 70px) / 2)',\r\n        paddingTop: '0.5rem'\r\n        //background: 'red',\r\n    },\r\n    addPostHolder: {\r\n        width: '70px',\r\n    },\r\n    addPostBtn: {\r\n        width: '56px',\r\n        height: '56px',\r\n        borderRadius: '50px',\r\n        background: '#3044C0',\r\n        boxShadow: '0px 2px 15px rgba(48, 68, 192, 0.75)',\r\n        outline: 'none!important',\r\n        border: '0!important',\r\n        color: 'white',\r\n        marginTop: '-10px',\r\n        padding: '0',        \r\n    },\r\n    navItem: {\r\n        width: '50%',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nfunction BottomNavigationBar(props) {   \r\n    const { classes, fullwidth, outline} = props;  \r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const expandBar = () => {\r\n        setExpanded(!expanded)\r\n    }\r\n\r\n    const goToLink = (name) => {\r\n        props.history.push(name)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.bottomBar, expanded && classes.expandedBar)}>\r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.dFlex)}>\r\n                        <div className={classNames(classes.itemsHolder, classes.pl5)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)}>\r\n                                    <GroupIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Komunita\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)}>\r\n                                    <AccountIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Profil\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.addPostHolder, classes.textCenter)}>\r\n                            <button className={classNames(classes.addPostBtn)}>\r\n                                <AddIcon style={{fontSize: '30px'}}/>\r\n                            </button>\r\n                        </div>\r\n                        <div className={classNames(classes.itemsHolder, classes.pr5)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)} onClick={()=>goToLink('challenges')}>\r\n                                    <HillIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Vyzvy\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)} onClick={expandBar}>\r\n                                    <DotsIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {expanded ? \"Menej\" : \"Viac\"}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.mt3, classes.justifyContentCenter)}>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Sprievodca\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Blog\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Kontakt\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Batoh\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withRouter,\r\n)(BottomNavigationBar);","import React from \"react\";\n\nconst UserContext = React.createContext();\nexport default UserContext;","import React from \"react\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst withUser = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <UserContext.Consumer>\n        {user =>\n          <WrappedComponent\n            {...props}\n            user={user}\n          />\n        }\n      </UserContext.Consumer>\n    );\n  }\n};\n\nexport default withUser;","import React from \"react\";\r\nimport en from './en-US.json';\r\nimport sk from './sk-SK.json';\r\n\r\nconst Context = React.createContext();\r\n\r\nexport class LocalizationProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.locales = { \r\n      'en-US': { ...en, ...props['en-US'] },\r\n      'sk-SK': { ...sk, ...props['sk-SK'] } \r\n    };\r\n\r\n    this.state = {\r\n      locale: props.locale || 'en-US'\r\n    };\r\n  }\r\n\r\n  translate = locale => (key) => {\r\n    const k = key.split('.');\r\n\r\n    let value = this.locales[locale][k[0]];\r\n    if(k.length > 1) {\r\n      value = value[k[1]];\r\n    }\r\n    return value;\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Context.Provider\r\n        value={{\r\n          locale: this.state.locale,\r\n          translate: this.translate(this.state.locale)\r\n        }}\r\n      >\r\n        {children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const withLocalization = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <Context.Consumer>\r\n        {x =>\r\n          <WrappedComponent\r\n            {...props}\r\n            {...x}\r\n          />\r\n        }\r\n      </Context.Consumer>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n// import IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n// import Toolbar from '@material-ui/core/Toolbar';\r\n// import Typography from '@material-ui/core/Typography';\r\n// import AccountCircle from '@material-ui/icons/AccountCircle';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import Menu from '@material-ui/core/Menu';\r\n\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\r\nimport { withRouter } from \"react-router\";\r\nimport compose from '../../compose';\r\nimport { withLocalization } from './localization';\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../style';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    drawer: {\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     width: drawerWidth,\r\n        //     flexShrink: 0,\r\n        // },\r\n    },\r\n    appBar: {\r\n        background: '#fff',\r\n        height: '60px',\r\n        //marginLeft: drawerWidth,\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     width: `calc(100% - ${drawerWidth}px)`,\r\n        // },\r\n        boxShadow: \"0px 0px 17px 1px rgba(0,0,0,0.08)\"\r\n\r\n    },\r\n    appBarMenuIcon: {\r\n        fill: theme.palette.secondary.dark,\r\n        height: '1.8rem',\r\n        width: '1.8rem',\r\n    },\r\n    appBarLogoImg: {\r\n        width: '140px',\r\n    },\r\n    appBarCol: {\r\n        width: 'calc((100% - 100px) / 2)',\r\n        color: 'red',\r\n    },\r\n    menuButton: {\r\n        marginRight: 20,\r\n        [theme.breakpoints.up('lg')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n    drawerPaper: {\r\n        width: '80%',\r\n        maxWidth: '340px',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        //padding: theme.spacing.unit * 2,\r\n        overflow: 'auto',\r\n        paddingTop: '60px'\r\n    },\r\n});\r\n\r\nclass ResponsiveDrawer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            mobileOpen: false,\r\n            anchorEl: null\r\n        };\r\n    }\r\n\r\n    handleMenu = event => {\r\n        this.setState({ anchorEl: event.currentTarget });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null });\r\n    };\r\n\r\n    handleClickAccount = () => {\r\n        this.props.history.push('/account');\r\n        this.handleClose();\r\n    }\r\n\r\n    handleDrawerToggle = () => {\r\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\r\n    };\r\n\r\n    redirect = (route) => {\r\n        if (isWidthDown('md', this.props.width)) {\r\n            this.handleDrawerToggle();\r\n        }\r\n\r\n        this.props.history.push(route.path);\r\n    }\r\n\r\n    render() {\r\n        const { classes, theme, routes, user, translate } = this.props;\r\n        // const { anchorEl } = this.state;\r\n        // const open = Boolean(anchorEl);\r\n        const path = this.props.history.location.pathname;\r\n        const route = routes.find(x => x.path === path);\r\n\r\n        const drawer = (\r\n            <div>\r\n                <div className={classes.toolbar} />\r\n                <Divider />\r\n                <List>\r\n                    {routes.map(route => {\r\n                        if (route.exact && !route.hidden && (!route.permission || user.hasPermission(route.permission))) return (\r\n                            <ListItem button key={route.name} onClick={() => this.redirect(route)}>\r\n                                <ListItemText primary={translate('route.' + route.name) || route.name} />\r\n                            </ListItem>\r\n                        );\r\n                        else return null;\r\n                    })}\r\n                </List>\r\n            </div>\r\n        );\r\n\r\n        if (!route || !route.anonymous || route.name === 'home') {\r\n            return (\r\n                <div className={classes.root}>\r\n                    <CssBaseline />\r\n                    <AppBar position=\"fixed\" className={classes.appBar} color='secondary'>\r\n                        <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.h100, classes.ml5, classes.mr5)} >\r\n                            {this.props.user.user ?\r\n                                <>\r\n                                    <div onClick={this.handleDrawerToggle} className={classes.appBarCol}>\r\n                                        <MenuIcon className={classes.appBarMenuIcon} />\r\n                                    </div>\r\n                                    <img src={this.props.logo} className={classes.appBarLogoImg} alt={''} />\r\n                                    <div className={classNames(classes.appBarCol, classes.dFlex, classes.alignItemsCenter, classes.justifyContentEnd)}>\r\n                                        <ShoppingCartIcon\r\n                                            style={{ color: theme.palette.secondary.dark }}\r\n                                            onClick={() => this.props.history.push('/eshop/cart')}\r\n                                        />\r\n                                    </div>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className={classes.appBarCol}></div>\r\n                                    <img src={this.props.logo} className={classes.appBarLogoImg} alt={''} />\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </AppBar>\r\n                    <nav className={classes.drawer}>\r\n                        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n                        <Hidden lgUp implementation=\"css\">\r\n                            <Drawer\r\n                                variant=\"temporary\"\r\n                                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n                                open={this.state.mobileOpen}\r\n                                onClose={this.handleDrawerToggle}\r\n                                classes={{\r\n                                    paper: classes.drawerPaper,\r\n                                }}\r\n                            >\r\n                                {drawer}\r\n                            </Drawer>\r\n                        </Hidden>\r\n                        {/* <Hidden mdDown implementation=\"css\">\r\n                            <Drawer\r\n                                classes={{\r\n                                    paper: classes.drawerPaper,\r\n                                }}\r\n                                variant=\"permanent\"\r\n                                open\r\n                            >\r\n                                {drawer}\r\n                            </Drawer>\r\n                        </Hidden> */}\r\n                    </nav>\r\n                    <main className={classes.content}>                       \r\n                        {this.props.children}\r\n                    </main>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className={classes.root}>\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nResponsiveDrawer.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    theme: PropTypes.object.isRequired,\r\n    children: PropTypes.arrayOf(PropTypes.element),\r\n    user: PropTypes.object.isRequired,\r\n    routes: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withWidth(),\r\n    withStyles(styles, { withTheme: true }),\r\n    withRouter,\r\n    withLocalization\r\n)(ResponsiveDrawer);","import React from \"react\";\n\nconst StoreContext = React.createContext();\nexport default StoreContext;","import React from \"react\";\nimport StoreContext from \"../contexts/StoreContext\";\n\nconst withStore = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <StoreContext.Consumer>\n        {store =>\n          <WrappedComponent\n            {...props}\n            store={store}\n          />\n        }\n      </StoreContext.Consumer>\n    );\n  }\n};\n\nexport default withStore;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GithubIcon from \"../icons/GithubIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://github.com/login/oauth/authorize?client_id=${props.config.id}&scope=user&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=1`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" tooltip=\"Github\" onClick={handleClick} disabled={props.disabled}>\n      <GithubIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GoogleIcon from \"../icons/GoogleIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=2&response_type=code&client_id=${props.config.id}`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\n      <GoogleIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M14.92 17.16l1.83-3.63h2.7l-4.51 8.97l-4.57-8.97h2.7l1.85 3.63m-4.29-8.5l-2.45 4.89H4.55L10.61 1.5l6.13 12.05h-3.63l-2.48-4.89z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\r\nimport StravaIcon from \"../icons/StravaIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    // const redirect = 'http://localhost:3000';\r\n    const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} variant={props.variant} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <StravaIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;\r\n","import React from 'react';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\n\r\nfunction FbIcon(props) {\r\n  return (\r\n    <SvgIcon {...props}>\r\n      <path d=\"M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z\" />\r\n    </SvgIcon>\r\n  );\r\n}\r\n\r\nexport default FbIcon;","import React from \"react\";\r\nimport FbIcon from \"../icons/FbIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <FbIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from '../shared/login/FbButton';\r\nimport config from \"../../config.json\";\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: `url(${config.header})`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing.unit * 8,\r\n    marginBottom: theme.spacing.unit * 4,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n    marginBottom: theme.spacing.unit\r\n  },\r\n  center: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column'\r\n  }\r\n});\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright  \"}\r\n      <Link color=\"inherit\" href={process.env.REACT_APP_HOMEPAGE}>\r\n        {process.env.REACT_APP_NAME +' '}\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      token: \"\",\r\n      disabled: false\r\n    };\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ disabled: true });\r\n\r\n    const { username, password, token } = this.state;\r\n    try {\r\n      const user = await this.props.user.auth(\r\n        username.trim().toLowerCase(),\r\n        password,\r\n        token\r\n      );\r\n      if (user === null) {\r\n        this.props.user.showMsg(\"Unauthorized\");\r\n      }\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n\r\n    this.setState({ disabled: false });\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleClickReset = async () => {\r\n    const { username } = this.state;\r\n\r\n    if (username) {\r\n      try {\r\n        await this.props.user.reset(username.trim().toLowerCase());\r\n        this.props.user.showMsg(\"Mail sended.\");\r\n      } catch (error) {\r\n        this.props.user.showError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, user, translate } = this.props;\r\n    const { username, password, disabled, oAuth, token } = this.state;\r\n\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: config.home }\r\n    };\r\n\r\n    if (oAuth) return null;\r\n    if (user.user) return <Redirect to={from} />;\r\n\r\n    return (\r\n      <Grid container component=\"main\" className={classnames(classes.root, config.header ? null : classes.center)}>\r\n        <CssBaseline />\r\n        {\r\n          config.header &&\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n        }\r\n        <Grid item xs={12} sm={8} md={5} component={'div'} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <img alt=\"logo\" className={classes.avatar} src={config.logo} />\r\n            {/* <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography> */}\r\n\r\n            <GithubButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"githubSignIn\")}\r\n              config={config.github}\r\n            />\r\n            <GoogleButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"googleSignIn\")}\r\n              config={config.google}\r\n            />\r\n            <FbButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"fbSignIn\")}\r\n              config={config.fb}\r\n            />\r\n            <StravaButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"stravaSignIn\")}\r\n              config={config.strava}\r\n            />\r\n\r\n            <Typography variant=\"body1\">{translate(\"useAccount\")}</Typography>\r\n\r\n            <form className={classes.form} onSubmit={this.handleSubmit}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"username\">\r\n                  {translate(\"field.username\")}\r\n                </InputLabel>\r\n                <Input\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  autoFocus\r\n                  value={username}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"password\">\r\n                  {translate(\"field.password\")}\r\n                </InputLabel>\r\n                <Input\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  value={password}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n              {config[\"2fa\"] && (\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"password\">\r\n                    {translate(\"field.token\")}\r\n                  </InputLabel>\r\n                  <Input\r\n                    name=\"token\"\r\n                    id=\"token\"\r\n                    value={token}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </FormControl>\r\n              )}\r\n              {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={disabled}\r\n              >\r\n                {translate(\"signIn\")}\r\n              </Button>\r\n              {/* <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\" onClick={this.handleClickReset}>\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link  variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid> */}\r\n            </form>\r\n          </div>\r\n          <Copyright />\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withStore,\r\n  withLocalization\r\n)(Login);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nconst styles = (theme) => ({\r\n  formInline: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    flexDirection: \"row\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  submitButton: {\r\n    margin: theme.spacing.unit,\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\nclass Form extends React.Component {\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit();\r\n  };\r\n\r\n  render() {\r\n    const { classes, inline, disabled, translate } = this.props;\r\n\r\n    return (\r\n      <form\r\n        className={inline ? classes.formInline : classes.form}\r\n        onSubmit={this.handleSubmit}\r\n      >\r\n        {this.props.children}\r\n        {!disabled && (\r\n          <Button\r\n            className={classes.submitButton}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={disabled}\r\n          >\r\n            {translate(\"form.save\")}\r\n          </Button>\r\n        )}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  inline: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(Form));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n    textInput: {\r\n        background: \"white!important\",\r\n        border: \"1px solid #E7E7E7\",\r\n        borderRadius: \"6px\",\r\n        \"&:before\": {\r\n            display: \"none\",\r\n        },\r\n        \"&:after\": {\r\n            display: \"none\",\r\n        },\r\n    },\r\n    inputLabel: {\r\n        color: \"rgba(0,0,0,0.3)!important\",\r\n        fontSize: \"0.875rem\",\r\n    },\r\n    inputRoot: {\r\n        padding: \"23px 12px 8px\",\r\n        fontSize: \"0.875rem\",\r\n        color: \"#333442\",\r\n    },\r\n});\r\n\r\nfunction TextFieldComponent(props) {\r\n    const { classes } = props;\r\n    const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n    return (\r\n        <FormControl\r\n            className={classNames(props.className)}\r\n            variant=\"filled\"\r\n            fullWidth={props.fullWidth}\r\n            required={props.required}\r\n            error={props.errorText && props.errorText !== \"\"}\r\n        >\r\n            <InputLabel\r\n                htmlFor=\"component-filled\"\r\n                className={classNames(classes.inputLabel)}\r\n            >\r\n                {label}\r\n            </InputLabel>\r\n            <FilledInput\r\n                id=\"outlined-name\"\r\n                label={label}\r\n                value={props.value || \"\"}\r\n                onChange={(e) => props.onChange(props.field, e.target.value)}\r\n                margin=\"normal\"\r\n                variant=\"filled\"\r\n                className={classes.textInput}\r\n                classes={{ input: classes.inputRoot }}\r\n                rows={props.rows}\r\n                multiline={props.multiline}\r\n                onBlur={props.onBlur}\r\n            />\r\n            {\r\n                props.errorText && <FormHelperText>{props.errorText}</FormHelperText>\r\n            }\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nTextFieldComponent.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    className: PropTypes.string,\r\n    label: PropTypes.string,\r\n    field: PropTypes.string.isRequired,\r\n    value: PropTypes.string,\r\n    onChange: PropTypes.func.isRequired,\r\n    placeholder: PropTypes.string,\r\n    fullWidth: PropTypes.bool,\r\n    required: PropTypes.bool,\r\n    type: PropTypes.string,\r\n    disabled: PropTypes.bool,\r\n    multiline: PropTypes.bool,\r\n    rows: PropTypes.number,\r\n    startAdornment: PropTypes.string,\r\n    onBlur: PropTypes.func,\r\n    errorText: PropTypes.string,\r\n    width: PropTypes.number,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextFieldComponent));\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    width: 160\n  }\n});\n\nfunction FormDialog(props) {\n  return (\n    <Dialog\n      onClose={props.onClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={props.isOpen}\n      fullWidth\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\n      {props.children}\n      <DialogActions>\n        {props.onCancel && (\n          <Button onClick={props.onCancel} color=\"primary\">\n            Cancel\n          </Button>\n        )}\n        {props.onConfirm && (\n          <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n            OK\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nFormDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  onConfirm: PropTypes.func,\n  onCancel: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  children: PropTypes.element.isRequired\n};\n\nexport default withStyles(styles)(FormDialog);\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <FormControlLabel\r\n      className={classes.formControl}\r\n      control={\r\n        <Switch\r\n          checked={props.value}\r\n          onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n          value={props.field}\r\n          disabled={props.disabled}\r\n        />\r\n      }\r\n      label={props.label}\r\n    />\r\n  );\r\n}\r\n\r\nSwitchComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(SwitchComponent);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst styles = theme => ({\n\n});\n\nclass ImageAvatars extends React.Component {\n  render() {\n    const { value, defaultValue, tooltip, onClick, className, placement } = this.props;\n\n    return (\n      <Tooltip title={tooltip} aria-label={tooltip} placement={placement}>\n        <Avatar\n          style={{ textTransform: 'uppercase' }}\n          alt={defaultValue}\n          src={value ? \"data:image/jpeg;base64,\" + value : null}\n          onClick={onClick}\n          className={className}\n        >\n          {tooltip[0]}\n        </Avatar>\n      </Tooltip>\n    );\n  }\n}\n\nImageAvatars.propTypes = {\n  classes: PropTypes.object.isRequired,\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  placement: PropTypes.string,\n  tooltip: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles)(ImageAvatars);\n","import React, { useRef } from \"react\";\r\n\r\nconst withUtils = WrappedComponent => {\r\n  return props => {\r\n    const canvasRef = useRef(null);\r\n    \r\n    const resize = (src, height, filename = null) => {\r\n      return new Promise(resolve => {\r\n        const image = new Image();\r\n        const canvas = canvasRef.current;\r\n        image.onload = () => {\r\n          if (image.height > height) {\r\n            image.width *= height / image.height;\r\n            image.height = height;\r\n          }\r\n          const ctx = canvas.getContext(\"2d\");\r\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n          canvas.width = image.width;\r\n          canvas.height = image.height;\r\n          ctx.drawImage(image, 0, 0, image.width, image.height);\r\n\r\n          if(filename) {\r\n            canvas.toBlob((blob) => {\r\n              blob.name = filename;\r\n              resolve(blob);;\r\n            }, \"image/jpeg\");\r\n          }\r\n          else {\r\n            resolve(canvas.toDataURL(\"image/jpeg\"));\r\n          }\r\n        };\r\n\r\n        image.src = src;\r\n      });\r\n    }\r\n\r\n    const postFile = async (url, file, key) => {  \r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n    \r\n      const response = await fetch(`${url}/api/file`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Basic \" + key\r\n        },\r\n        body: formData\r\n      });\r\n    \r\n      if (response.status === 200) {\r\n        return await response.json();\r\n      } else {\r\n        console.log(await response.text())\r\n        throw new Error(response.statusText);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <WrappedComponent\r\n          {...props}\r\n          utils={{\r\n            resize,\r\n            postFile\r\n          }}\r\n        />\r\n        <canvas style={{ display: \"none\" }} ref={canvasRef} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withUtils;\r\n","export const getStyles = theme => ({\n  col: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: 'column',\n    marginBottom: theme.spacing.unit\n  },\n  row: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: 'row',\n  },\n  center: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  },\n  paper: {\n    padding: theme.spacing.unit\n  },\n  flex: {\n    display: 'flex'\n  },\n  grow: {\n    display: 'flex',\n    flex:1\n  }\n});","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport Dialog from \"../shared/Dialog\";\r\nimport Switch from \"../shared/Switch\";\r\nimport Avatar from \"../shared/avatar/Avatar\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from \"../shared/login/FbButton\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withUtils from \"../shared/utils/withUtils\";\r\nimport compose from \"../../compose\";\r\nimport { getStyles } from \"../shared/style\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport config from \"../../config.json\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getStyles(theme),\r\n  heading: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  detailHeading: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  actions: {\r\n    float: \"right\",\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  tel: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null,\r\n  notifications: true,\r\n  notifyAboutMe: false,\r\n  notifyAboutFollowers: false,\r\n  notifyNews: false,\r\n};\r\n\r\nconst buildState = (user) => {\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    tel: { ...INIT_STATE.tel, value: user.tel || \"\" },\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false,\r\n  };\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  state = buildState(this.props.user.user);\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  handleChangeCheckBox = (event) => {\r\n    const { name, checked } = event.target;\r\n    this.setState((state) => _.set(state, name, checked));\r\n  };\r\n\r\n  validTelephone = () => {\r\n    const { translate } = this.props;\r\n    const { tel } = this.state;\r\n\r\n    const regex = new RegExp(\"^[0-9]{3}[-][0-9]{3} [0-9]{3} [0-9]{3}$\");\r\n    const isValid = tel.value === \"-  \" || regex.test(tel.value);\r\n    const errorText = isValid ? \"\" : translate(\"field.telNotValid\");\r\n\r\n    this.setState((state) => ({\r\n      tel: { ...state.tel, errorText },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return (\r\n      ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id)\r\n    );\r\n  };\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      username: {\r\n        ...state.username,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !username.value || (await this.isValid(username.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.usernameInUse\");\r\n\r\n    this.setState((state) => ({\r\n      username: { ...state.username, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  handleRemoveAvatar = () => {\r\n    this.setState({ avatar: null, avatarChanged: true });\r\n  };\r\n\r\n  handleChangeAvatar = (event) => {\r\n    event.preventDefault();\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      let data = await this.props.utils.resize(reader.result, 320);\r\n      data = data.split(\",\").pop();\r\n      this.setState({ avatar: data, avatarChanged: true });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      await this.props.user.generateSecret();\r\n      this.handleOpenSecretDialog();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleOpenSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: true });\r\n  };\r\n\r\n  handleCloseSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: false });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged,\r\n    } = this.state;\r\n\r\n    const isValid =\r\n      this.validPasswords() &&\r\n      (await this.validEmail()) &&\r\n      (await this.validUsername());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel: tel.value,\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, translate, locale, disabled } = this.props;\r\n    const { user } = this.props.user;\r\n    const connectTitle = translate(\"connect\");\r\n    const {\r\n      email,\r\n      tel,\r\n      otp,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      avatar,\r\n      name,\r\n      bio,\r\n      notifications,\r\n      notifyAboutMe,\r\n      notifyAboutFollowers,\r\n      notifyNews,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} disabled={disabled}>\r\n          <p>Nastavenia</p>\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <div className={classes.center}>\r\n                <Avatar\r\n                  className={classes.bigAvatar}\r\n                  value={avatar}\r\n                  onClick={() => {\r\n                    console.log(\"Avatar clicked\");\r\n                  }}\r\n                  tooltip=\"Avatar\"\r\n                  placement=\"right\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={classes.col}>\r\n              <p>\r\n                Tvoja profilov fotrografia je verejn no sli aj na\r\n                schvalovanie vstupov\r\n              </p>\r\n              <Button variant=\"contained\" component=\"label\">\r\n                {translate(\"changePhoto\")}\r\n                <input\r\n                  hidden\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg\"\r\n                  onChange={this.handleChangeAvatar}\r\n                />\r\n              </Button>\r\n              <Button variant=\"outlined\" onClick={this.handleRemoveAvatar}>\r\n                {translate(\"removePhoto\")}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <GoogleButton\r\n            config={config.google}\r\n            disabled={disabled || user.google}\r\n            title={user.google ? user.google.name : connectTitle}\r\n          />\r\n          <GithubButton\r\n            config={config._github}\r\n            disabled={disabled || user.github}\r\n            title={user.github ? user.github.name : connectTitle}\r\n          />\r\n          <FbButton\r\n            config={config.fb}\r\n            disabled={disabled || user.fb}\r\n            title={user.fb ? user.fb.name : connectTitle}\r\n          />\r\n          <div>\r\n            <StravaButton\r\n              config={config.strava}\r\n              disabled={disabled}\r\n              title={user.strava ? translate(\"sync\") : connectTitle}\r\n            />\r\n            {config.strava && user.strava && user.strava.synced && (\r\n              <span>\r\n                {\" \"}\r\n                ({translate(\"lastSync\")}{\" \"}\r\n                {new Date(user.strava.synced).toLocaleDateString(locale)}){\" \"}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <TextField\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={bio}\r\n            field=\"bio\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n            rows={3}\r\n            multiline\r\n          />\r\n\r\n          <p className={styles.heading}>Doruovacie daje</p>\r\n          <TextField\r\n            type=\"email\"\r\n            value={email.value}\r\n            field=\"email.value\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled || email.isLoading}\r\n            onBlur={this.validEmail}\r\n            errorText={email.errorText}\r\n            required\r\n          />\r\n          <TextField\r\n            value={tel.value}\r\n            field=\"tel.value\"\r\n            onChange={this.handleChange}\r\n            onBlur={this.validTelephone}\r\n            disabled={disabled}\r\n            errorText={tel.errorText}\r\n          />\r\n          <TextField\r\n            value={country}\r\n            field=\"country\"\r\n            type=\"country\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={city}\r\n            field=\"city\"\r\n            type=\"city\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={address}\r\n            field=\"address\"\r\n            type=\"address\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={postCode}\r\n            field=\"postCode\"\r\n            type=\"postCode\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <FormLabel component=\"legend\">\r\n                {translate(\"notifications\")}\r\n              </FormLabel>\r\n              <FormGroup>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyAboutMe}\r\n                      checked={notifyAboutMe}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyAboutMe\"\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyAboutMe\")}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyAboutFollowers}\r\n                      checked={notifyAboutFollowers}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyAboutFollowers\"\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyAboutFollowers\")}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyNews}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyNews\"\r\n                      checked={notifyNews}\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyNews\")}\r\n                />\r\n              </FormGroup>\r\n            </div>\r\n            <div className={classes.col}>\r\n              <div>\r\n                <Switch\r\n                  value={notifications}\r\n                  field=\"notifications\"\r\n                  onChange={this.handleChange}\r\n                  disabled={disabled}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {config[\"2fa\"] && (\r\n            <div className={classes.row}>\r\n              <div className={classes.col}>\r\n                <div>\r\n                  <Switch\r\n                    value={otp}\r\n                    field=\"otp\"\r\n                    onChange={this.handleChange}\r\n                    disabled={disabled}\r\n                  />\r\n                  <Button\r\n                    color=\"primary\"\r\n                    disabled={disabled || !this.state.otp}\r\n                    onClick={this.generateSecret}\r\n                  >\r\n                    {translate(\"generateSecret\")}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Form>\r\n        <Dialog\r\n          title={this.props.translate(\"secret\")}\r\n          isOpen={this.state.isOpenSecretDialog}\r\n          onConfirm={this.handleCloseSecretDialog}\r\n        >\r\n          <div className={classes.center}>\r\n            {this.props.user.secret && (\r\n              <img\r\n                src={\"data:image/jpeg;base64,\" + this.props.user.secret.qrCode}\r\n                alt=\"secret\"\r\n                width={320}\r\n                height={320}\r\n              />\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withUser,\r\n  withUtils,\r\n  withLocalization\r\n)(FormWrapper);\r\n","const permissions = {\n  user: 1,\n  store: 2,\n  doby: 8192\n}\n\nexport default permissions;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport permissions from \"../../permissions\";\r\n\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n  heading: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  connected: {\r\n    padding: theme.spacing.unit,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { hasPermission } = props.user;\r\n  const disabled = !hasPermission(permissions.user);\r\n\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form disabled={disabled} />\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withLocalization\r\n)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n// import LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from '../shared/localization';\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport config from '../../config.json';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: \"100%\",\r\n    display: \"block\", // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    }\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\r\n      .spacing.unit * 3}px`\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128\r\n  },\r\n  loader: {\r\n    marginTop: theme.spacing.unit,\r\n  }\r\n});\r\n\r\nlet _code, _provider, _mutex;\r\nclass OAuthComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const urlParams = new URLSearchParams(this.props.location.search);\r\n    _provider = urlParams.get(\"provider\");\r\n    _code = urlParams.get(\"code\");\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (_provider && !_mutex) {\r\n      _mutex = true;\r\n      const { user } = this.props;\r\n      try {\r\n        if (user.user) {\r\n          await user.updateOauth(_provider, _code);\r\n          this.props.history.replace('/account');\r\n        }\r\n        else {\r\n          if(!await user.oAuth(_provider, _code)) {\r\n            user.showMsg('Unauthorized');\r\n          }\r\n          this.props.history.replace(config.home);\r\n        }\r\n      }\r\n      catch (error) {\r\n        this.props.user.showError(error);\r\n        this.props.history.replace('/login');\r\n      }\r\n      _mutex = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n\r\n    if (!_provider) return <Redirect to={{ pathname: config.home }} />;\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar} src={config.logo} />\r\n          <div className={classes.loader}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              {translate('loading')}\r\n            </Typography>\r\n          </div>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nOAuthComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser, withStore, withLocalization)(OAuthComponent);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 100\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' + props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl} \r\n      fullWidth={props.fullWidth} \r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        type={props.type === 'new-password' ? 'password' : props.type}\r\n        id={props.field} \r\n        value={props.value || ''} \r\n        onChange={(e) => props.onChange(props.field, e.target.value)} \r\n        placeholder={props.placeholder}\r\n        autoComplete={props.type === 'new-password' ? 'new-password' : null}\r\n        disabled={props.disabled}\r\n        multiline={props.multiline}\r\n        rows={props.rows}\r\n        startAdornment={props.startAdornment}\r\n        inputProps={{\r\n          onBlur: props.onBlur\r\n        }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { withLocalization } from './localization';\r\nimport classNames from 'classnames';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n    minWidth: 120\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes, data, textField, required, value, onChange, field, multiple } = props;\r\n  if(required && (value === null || value === undefined || value === '') && data && data.length > 0) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find(x => x._id === selected);\r\n    return value ? value[textField] : null\r\n  }\r\n\r\n  const renderValue = selected => {\r\n    if(!multiple) {\r\n      return getText(selected);\r\n    }\r\n    \r\n    return selected.map(s => getText(s)).join(' | ');\r\n  }\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(classes.formControl, props.className)}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n    >\r\n      {label &&\r\n        <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      }\r\n      <Select\r\n        value={props.value !== null ? props.value : ''}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n      >\r\n        {(!props.required && !multiple) && \r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        }\r\n        {data.map(x => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple &&\r\n              <Checkbox checked={value.find(d => d === x._id) !== undefined} />\r\n            }\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 80\r\n  },\r\n});\r\n\r\nfunction NumInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl}\r\n      required={props.required}\r\n      fullWidth={props.fullWidth} \r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        id={props.field} \r\n        value={props.value ? props.value.toString() : '0'} \r\n        onChange={(e) => props.onChange(props.field, Number(e.target.value))} \r\n        type=\"number\" \r\n        disabled={props.disabled}\r\n        inputProps={{\r\n          min: props.min,\r\n          max: props.max,\r\n          step: props.step || \"any\"\r\n        }}       \r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nNumInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.number,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  min: PropTypes.number,\r\n  max: PropTypes.number,\r\n  step: PropTypes.number,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  fullWidth: PropTypes.bool,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(NumInputComponent));","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  enumTypeId: 1,\n  disabled: false,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addEnum,\n      refreshEnums,\n      editEnum\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editEnum(this.state);\n      } else {\n        await addEnum(this.state);\n      }\n      refreshEnums();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, enumTypeId, key } = this.state;\n    const { enumTypes } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={enumTypeId}\n          field=\"enumTypeId\"\n          onChange={this.handleChange}\n          data={enumTypes.data}\n          textField=\"name\"\n          required\n          disabled={disabled}\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nclass EnhancedTableHead extends React.Component {\r\n  createSortHandler = property => event => {\r\n    this.props.onRequestSort(event, property);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onSelectAllClick,\r\n      sort,\r\n      numSelected,\r\n      rowCount,\r\n      rows,\r\n      sortable,\r\n      translate\r\n    } = this.props;\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n            />\r\n          </TableCell>\r\n          {rows.map(row => {\r\n            const label = row.label || translate(`field.${row.idField || row.field}`)\r\n\r\n            return (\r\n              <TableCell\r\n                key={row.field}\r\n                align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                padding={row.disablePadding ? \"none\" : \"default\"}\r\n                sortDirection={sort.field === row.field ? sort.dir : false}\r\n              >\r\n                {sortable === false || row.sortable === false ? (\r\n                  label\r\n                ) : (\r\n                  <Tooltip\r\n                    title={translate(\"table.sort\")}\r\n                    placement={\r\n                      row.type === \"num\" ? \"bottom-end\" : \"bottom-start\"\r\n                    }\r\n                    enterDelay={300}\r\n                  >\r\n                    <TableSortLabel\r\n                      active={sort.field === row.field}\r\n                      direction={sort.dir}\r\n                      onClick={this.createSortHandler(row.field)}\r\n                    >\r\n                      {label}\r\n                    </TableSortLabel>\r\n                  </Tooltip>\r\n                )}\r\n              </TableCell>\r\n            );\r\n          }, this)}\r\n          <TableCell padding=\"none\"></TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  sort: PropTypes.object.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  sortable: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(EnhancedTableHead);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { withLocalization } from '../localization';\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  spacer: {\n    flex: '1 1 auto',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n});\n\nlet EnhancedTableToolbar = props => {\n  const { numSelected, classes, onDelete, onFilter, title, onExport, isFilterSet, actions, onRefresh, exportDisabled, translate } = props;\n\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\" variant=\"subtitle1\">\n            {numSelected} {translate('table.selected')}\n          </Typography>\n        ) : (\n            <Typography variant=\"h6\" id=\"tableTitle\">\n              {title}\n            </Typography>\n          )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {actions}\n        {numSelected > 0 ? (\n          <Tooltip title={translate('table.delete')}>\n            <IconButton aria-label={translate('table.delete')} onClick={onDelete}>\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        ) : (\n            <Tooltip title={translate('table.filter')}>\n              <IconButton aria-label={translate('table.filter')} color={isFilterSet ? \"primary\" : \"default\"} onClick={onFilter}>\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n          )}\n        <Tooltip title={translate('table.export')}>\n          <IconButton aria-label={translate('table.export')} onClick={onExport} disabled={exportDisabled}>\n            <CloudDownloadIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title={translate('table.refresh')}>\n          <IconButton aria-label={translate('table.refresh')} onClick={onRefresh}>\n            <RefreshIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onFilter: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  onExport: PropTypes.func.isRequired,\n  isFilterSet: PropTypes.bool.isRequired,\n  actions: PropTypes.element,\n  exportDisabled: PropTypes.bool\n};\n\nexport default withLocalization(withStyles(toolbarStyles)(EnhancedTableToolbar));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withLocalization } from './localization';\n\nfunction AlertDialog(props) {\n  return (\n    <Dialog\n      open={props.isOpen}\n      onClose={props.onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {props.description}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.onClose} color=\"primary\">\n          {props.translate('dialog.cancel')}\n        </Button>\n        <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n          {props.translate('dialog.ok')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nAlertDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired\n}\n\nexport default withLocalization(AlertDialog);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { DatePicker } from \"material-ui-pickers\";\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 160\r\n  },\r\n});\r\n\r\nconst getMaskAndFormat = (locale) => {\r\n  switch(locale) {\r\n    case 'sk-SK': {\r\n      return {\r\n        format: \"DD.M.YYYY\",\r\n        mask:  [/\\d/, /\\d/, \".\", /\\d/, \".\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  \r\n    case 'en-US':\r\n    default: {\r\n      return {\r\n        format: \"MM/DD/YYYY\",\r\n        mask:  [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction DatePickerComponent(props) {\r\n  const { classes } = props;\r\n  const { format, mask } = getMaskAndFormat(props.locale);\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n  return (\r\n    <DatePicker\r\n      className={classes.formControl}\r\n      keyboard\r\n      label={label}\r\n      format={format}\r\n      clearable={!props.required}\r\n      mask={value =>\r\n        // handle clearing outside if value can be changed outside of the component\r\n        value ? mask : []\r\n      }\r\n      value={props.value || null}\r\n      onChange={(value) => props.onChange(props.field, value ? value.toDate() : null)}\r\n      disableOpenOnEnter\r\n      animateYearScrolling={false}\r\n      style={{flex: 1, display: 'flex'}}\r\n      disabled={props.disabled}\r\n      okLabel={props.translate('dialog.ok')}\r\n      cancelLabel={props.translate('dialog.cancel')}\r\n    />\r\n  );\r\n}\r\n\r\nDatePickerComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.instanceOf(Date),\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(DatePickerComponent));","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DatePicker from \"../shared/DatePicker\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextInput from \"./TextInput\";\r\nimport Select from \"./Select\";\r\nimport moment from \"moment\";\r\n\r\nexport const buildFilters = (rows, f, state) => {\r\n  const filters = [];\r\n\r\n  if (state) {\r\n    let value, field;\r\n\r\n    f.forEach((x) => {\r\n      field = x.field;\r\n      value = state[field];\r\n      if (value) {\r\n        filters.push(...x.data.find((y) => y._id === value).filters);\r\n      }\r\n    });\r\n\r\n    rows.forEach((x) => {\r\n      switch (x.type) {\r\n        case \"num\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"eq\", value });\r\n          }\r\n          break;\r\n\r\n        case \"bool\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"eq\",\r\n              value: value === 1 ? true : false,\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"date\":\r\n        case \"datetime\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"lte\",\r\n              value: moment(value).endOf(\"day\").toDate(),\r\n            });\r\n            filters.push({\r\n              field,\r\n              op: \"gte\",\r\n              value: moment(value).startOf(\"day\").toDate(),\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"enum\":\r\n        case \"array\":\r\n          field = x.idField;\r\n          value = state[field];\r\n          if (value && value.length > 0) {\r\n            filters.push({ field, op: \"in\", value });\r\n          }\r\n          break;\r\n\r\n        default:\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"regex\", value });\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  return filters;\r\n};\r\n\r\nclass FilterDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.defaultState || {};\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleClear = () => {\r\n    const state = {};\r\n    this.props.filters.forEach((x) => {\r\n      state[x.field] = null;\r\n    });\r\n\r\n    this.props.rows.forEach((x) => {\r\n      const field =\r\n        x.type === \"enum\" || x.type === \"array\" ? x.idField : x.field;\r\n      state[field] = null;\r\n    });\r\n    this.props.onConfirm(null);\r\n    this.setState(state);\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    this.props.onConfirm(this.state);\r\n  };\r\n\r\n  buildFilter = (x) => {\r\n    if (x.filterable === false) {\r\n      return null;\r\n    }\r\n\r\n    switch (x.type) {\r\n      case \"enum\":\r\n      case \"array\":\r\n        const textField = x.textField || x.field.split(\".\").pop();\r\n        const data = this.props.store[x.data].data;\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.idField] || []}\r\n            field={x.idField}\r\n            onChange={this.handleChange}\r\n            data={x.getData ? x.getData(data) : data}\r\n            textField={textField}\r\n            multiple\r\n          />\r\n        );\r\n      case \"bool\":\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            data={[\r\n              { _id: 1, name: \"T\" },\r\n              { _id: -1, name: \"F\" },\r\n            ]}\r\n            textField={\"name\"}\r\n          />\r\n        );\r\n      case \"date\":\r\n      case \"datetime\":\r\n        return (\r\n          <DatePicker\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n      case \"num\":\r\n        return (\r\n          <NumInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            min={0}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <TextInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const props = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open={props.isOpen}\r\n        onClose={props.onClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Filters</DialogTitle>\r\n        {this.props.filters.map((f) => (\r\n          <Select\r\n            value={this.state[f.field]}\r\n            field={f.field}\r\n            label={f.label}\r\n            onChange={this.handleChange}\r\n            data={f.data}\r\n            textField=\"name\"\r\n          />\r\n        ))}\r\n        {props.rows.map((x) => this.buildFilter(x))}\r\n        <DialogActions>\r\n          <Button onClick={this.handleClear} color=\"primary\">\r\n            Clear\r\n          </Button>\r\n          <Button onClick={this.handleSubmit} color=\"primary\" autoFocus>\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nFilterDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onConfirm: PropTypes.func.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  filters: PropTypes.array.isRequired,\r\n  defaultState: PropTypes.object,\r\n};\r\n\r\nexport default FilterDialog;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AlertDialog from \"./AlertDialog\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nclass ActionsMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    isOpenDelete: false,\r\n  };\r\n\r\n  handleOpenMenu = (event) => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleCloseMenu = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  };\r\n\r\n  handleOpenClone = () => {\r\n    this.setState({ isOpenDelete: true, anchorEl: null });\r\n  };\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true, anchorEl: null });\r\n  };\r\n\r\n  onDelete = () => {\r\n    this.props.onDelete();\r\n    this.handleCloseDelete();\r\n  };\r\n\r\n  onEdit = () => {\r\n    this.props.onEdit();\r\n    this.handleCloseMenu();\r\n  };\r\n\r\n  onClone = () => {\r\n    this.props.onClone();\r\n    this.handleCloseMenu();\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl, isOpenDelete } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          aria-owns={anchorEl ? \"actions-menu\" : undefined}\r\n          aria-haspopup=\"true\"\r\n          edge=\"end\"\r\n          aria-label=\"actions\"\r\n          onClick={this.handleOpenMenu}\r\n          disabled={this.props.disabled}\r\n        >\r\n          <MoreIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"actions-menu\"\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={this.handleCloseMenu}\r\n        >\r\n          <MenuItem onClick={this.onEdit}>{translate(\"table.edit\")}</MenuItem>\r\n          {this.props.onClone && (\r\n            <MenuItem onClick={this.onClone}>\r\n              {translate(\"table.clone\")}\r\n            </MenuItem>\r\n          )}\r\n          <MenuItem onClick={this.handleOpenDelete}>\r\n            {translate(\"table.delete\")}\r\n          </MenuItem>\r\n        </Menu>\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDelete}\r\n          title={translate(\"table.delete\")}\r\n          description={translate(\"table.sure\")}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nActionsMenu.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n  onClone: PropTypes.func,\r\n};\r\n\r\nexport default withLocalization(ActionsMenu);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  progress: {\n    backgroundColor: 'white',\n    opacity: 0.8,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    zIndex: 1800,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nfunction Progress(props) {\n  const { classes, isLoading } = props;\n\n  if(isLoading) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress />\n      </div>\n    );\n  }\n  else {\n    return null;\n  }\n}\n\nProgress.propTypes = {\n  isLoading: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles)(Progress);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport EnhancedTableHead from \"./TableHead\";\r\nimport EnhancedTableToolbar from \"./TableToolbar\";\r\nimport AlertDialog from \"../AlertDialog\";\r\nimport FilterDialog, { buildFilters } from \"../FilterDialog\";\r\nimport ActionsMenu from \"../ActionsMenu\";\r\nimport Progress from \"../Progress\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport _ from \"lodash\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  table: {\r\n    // minWidth: 1020,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: \"auto\",\r\n    position: \"relative\",\r\n  },\r\n});\r\n\r\nlet _headers = [];\r\nclass EnhancedTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: [],\r\n      page: 0,\r\n      rowsPerPage: 5,\r\n      filters: buildFilters(props.rows, props.filters, props.defaultFilters),\r\n      sort: props.defaultSort || { field: \"_id\", dir: \"asc\" },\r\n      isOpenDelete: false,\r\n      isOpenFilter: false,\r\n      filter: null,\r\n      exported: [],\r\n    };\r\n\r\n    this.exportRef = React.createRef();\r\n  }\r\n\r\n  handleRequestSort = (event, property) => {\r\n    const field = property;\r\n    let dir = \"desc\";\r\n\r\n    if (this.state.sort.field === property && this.state.sort.dir === \"desc\") {\r\n      dir = \"asc\";\r\n    }\r\n\r\n    const sort = { field, dir };\r\n    const { filters, page, rowsPerPage } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ sort });\r\n  };\r\n\r\n  handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const data = this.props.store[this.props.data].data;\r\n      this.setState((state) => ({\r\n        selected: data\r\n          .filter((n) => this.props.isDisabled(n) === false)\r\n          .map((n) => n._id),\r\n      }));\r\n      return;\r\n    }\r\n    this.setState({ selected: [] });\r\n  };\r\n\r\n  handleClick = (id) => {\r\n    const { selected } = this.state;\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    this.setState({ selected: newSelected });\r\n  };\r\n\r\n  handleChangePage = (event, page) => {\r\n    const { filters, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = (event) => {\r\n    const rowsPerPage = event.target.value;\r\n    const { filters, page, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ rowsPerPage });\r\n  };\r\n\r\n  isSelected = (id) => this.state.selected.indexOf(id) !== -1;\r\n\r\n  onChange = (filters, page, rowsPerPage, sort) => {\r\n    this.props.onChange(\r\n      filters,\r\n      { limit: rowsPerPage, skip: rowsPerPage * page },\r\n      sort,\r\n      true\r\n    );\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  };\r\n\r\n  handleOpenFilter = () => {\r\n    this.setState({ isOpenFilter: true });\r\n  };\r\n\r\n  handleCloseFilter = () => {\r\n    this.setState({ isOpenFilter: false });\r\n  };\r\n\r\n  handleConfirmFilter = (state) => {\r\n    const filters = buildFilters(this.props.rows, this.props.filters, state);\r\n    const page = 0;\r\n    const { rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ filters, page, isOpenFilter: false });\r\n  };\r\n\r\n  onDeleteMultiple = async () => {\r\n    const { selected, filters, page, rowsPerPage, sort } = this.state;\r\n    await Promise.all(selected.map((id) => this.props.onDelete(id)));\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ selected: [] });\r\n    this.handleCloseDelete();\r\n  };\r\n\r\n  strToDate = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleDateString(this.props.locale);\r\n  };\r\n\r\n  strToDateTime = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleString(this.props.locale, {\r\n      hour12: false,\r\n      year: \"numeric\",\r\n      month: \"numeric\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  getValue = (n, row) => {\r\n    const value = _.get(n, row.field);\r\n    if (row.cell) {\r\n      return row.cell(n);\r\n    }\r\n\r\n    switch (row.type) {\r\n      case \"date\":\r\n        return this.strToDate(value);\r\n      case \"datetime\":\r\n        return this.strToDateTime(value);\r\n      case \"bool\":\r\n        return value ? \"T\" : \"F\";\r\n      case \"array\":\r\n        return value.map((s) => s[row.textField]).join(\" | \");\r\n      default:\r\n        return value;\r\n    }\r\n  };\r\n\r\n  onDeleteSingle = async (id) => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    await this.props.onDelete(id);\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  };\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  };\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true });\r\n  };\r\n\r\n  onExport = async () => {\r\n    const { filters, sort } = this.state;\r\n    _headers = [];\r\n    this.props.rows.forEach((x) => {\r\n      if (x.exportable !== false) {\r\n        const field = x.idField || x.field;\r\n        _headers.push({\r\n          label: this.props.translate(\"field.\" + field),\r\n          key: x.field,\r\n        });\r\n      }\r\n    });\r\n    const exported = await this.props.onChange(filters, undefined, sort, false);\r\n    if (exported) {\r\n      this.setState({ exported: exported.data });\r\n      this.exportRef.current.link.click();\r\n    }\r\n  };\r\n\r\n  handleRefresh = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort, true);\r\n  };\r\n\r\n  render() {\r\n    const { classes, rows, sortable, title, translate } = this.props;\r\n    const {\r\n      selected,\r\n      rowsPerPage,\r\n      page,\r\n      sort,\r\n      isOpenDelete,\r\n      isOpenFilter,\r\n    } = this.state;\r\n    const data = this.props.store[this.props.data];\r\n    const emptyRows =\r\n      rowsPerPage - Math.min(rowsPerPage, data.total - page * rowsPerPage);\r\n\r\n    return (\r\n      <Paper className={classes.root}>\r\n        <EnhancedTableToolbar\r\n          numSelected={selected.length}\r\n          onDelete={this.handleOpenDelete}\r\n          onExport={this.onExport}\r\n          onFilter={this.handleOpenFilter}\r\n          title={title}\r\n          isFilterSet={this.state.filters.length > 0}\r\n          actions={this.props.actions}\r\n          onRefresh={this.handleRefresh}\r\n          exportDisabled={!this.props.filename}\r\n        />\r\n        <div className={classes.tableWrapper}>\r\n          <Progress isLoading={data.isLoading} />\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              numSelected={selected.length}\r\n              sort={sort}\r\n              onSelectAllClick={this.handleSelectAllClick}\r\n              onRequestSort={this.handleRequestSort}\r\n              rowCount={data.total}\r\n              rows={rows}\r\n              sortable={sortable}\r\n            />\r\n            <TableBody>\r\n              {data.data.map((n) => {\r\n                const isSelected = this.isSelected(n._id);\r\n                const disabled = this.props.isDisabled(n);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    // onClick={event => this.handleClick(n._id)}\r\n                    role=\"checkbox\"\r\n                    aria-checked={isSelected}\r\n                    tabIndex={-1}\r\n                    key={n._id}\r\n                    selected={isSelected}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                      <Checkbox\r\n                        checked={isSelected}\r\n                        onClick={(event) => this.handleClick(n._id)}\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    {rows.map((row) => (\r\n                      <TableCell\r\n                        key={row.field}\r\n                        align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                        padding={row.disablePadding ? \"none\" : \"default\"}\r\n                      >\r\n                        {this.getValue(n, row)}\r\n                      </TableCell>\r\n                    ))}\r\n                    <TableCell>\r\n                      <ActionsMenu\r\n                        onDelete={() => this.onDeleteSingle(n._id)}\r\n                        onEdit={() => this.props.onEdit(n)}\r\n                        onClone={() => this.props.onClone(n)}\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 49 * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          labelRowsPerPage={translate(\"table.rowsPerPage\")}\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            `${from}-${to} ${translate(\"table.of\")} ${count}`\r\n          }\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={data.total}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            \"aria-label\": translate(\"table.previousPage\"),\r\n          }}\r\n          nextIconButtonProps={{\r\n            \"aria-label\": translate(\"table.nextPage\"),\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDeleteMultiple}\r\n          title={translate(\"table.delete\")}\r\n          description={translate(\"table.sure\")}\r\n        />\r\n        <FilterDialog\r\n          isOpen={isOpenFilter}\r\n          onClose={this.handleCloseFilter}\r\n          onConfirm={this.handleConfirmFilter}\r\n          store={this.props.store}\r\n          rows={this.props.rows}\r\n          filters={this.props.filters}\r\n          defaultState={this.props.defaultFilters}\r\n        />\r\n        <CSVLink\r\n          data={this.state.exported}\r\n          headers={_headers}\r\n          filename={this.props.filename + \".csv\"}\r\n          style={{ display: \"none\" }}\r\n          ref={this.exportRef}\r\n          target=\"_blank\"\r\n        />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTable.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  data: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  sortable: PropTypes.bool,\r\n  onDelete: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  onClone: PropTypes.func,\r\n  filters: PropTypes.array,\r\n  isDisabled: PropTypes.func.isRequired,\r\n  filename: PropTypes.string,\r\n  actions: PropTypes.element,\r\n  defaultState: PropTypes.object,\r\n  defaultSort: PropTypes.object,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(EnhancedTable));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing.unit,\r\n    width: 160,\r\n  },\r\n});\r\n\r\nfunction FormDialog(props) {\r\n  return (\r\n    <Dialog\r\n      onClose={props.onClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={props.isOpen}\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\r\n      {props.children}\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(FormDialog);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: '_enumType.name', type: 'enum', data: 'enumTypes', idField: \"enumTypeId\", sortable: false },\r\n  { field: 'key', type: 'num' },\r\n  { field: 'disabled', type: 'bool' },\r\n];\r\n\r\nconst FILTERS = [\r\n  {\r\n    label: 'Sub', field: 'sub', data: [\r\n      { _id: 1, name: \"shop attrs\", filters: [{ field: 'enumTypeId', op: 'gt', value: 200}, { field: 'enumTypeId', op: 'lt', value: 300 }] },\r\n    ]\r\n  }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getEnums(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteEnum } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='enums'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteEnum}\r\n          title={translate('enums')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={FILTERS}\r\n          isDisabled={this.isDisabled}\r\n          filename='enums'\r\n        />\r\n        <FormDialog\r\n          title={translate('enum')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport getSharedStyles from '../../style';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n    const {classes} = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport NumInput from \"../shared/NumInput\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  content: \"\",\r\n  key: 0\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addTemplate, refreshTemplates, editTemplate } = this.props.store;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editTemplate(this.state);\r\n      } else {\r\n        await addTemplate(this.state);\r\n      }\r\n      refreshTemplates();\r\n      this.setState(INIT_STATE);\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name, content, key } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={content}\r\n            field=\"content\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <NumInput\r\n          value={key}\r\n          field=\"key\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          step={1}\r\n          required\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [{ field: \"name\", disablePadding: true }, { field: \"content\" }, { field: 'key', type: 'num' }];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getTemplates(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteTemplate } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"templates\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteTemplate}\r\n          title={translate(\"templates\")}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"templates\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"template\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStore, withUser, withLocalization)(TableWrapper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from \"react\";\r\nimport MaskedInput from \"react-text-mask\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 40,\r\n  },\r\n});\r\n\r\nfunction Mask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={inputRef}\r\n      mask={[/\\d/, /\\d/, \":\", /\\d/, /\\d/]}\r\n      placeholderChar={\"\\u2000\"}\r\n      showMask\r\n    />\r\n  );\r\n}\r\n\r\nMask.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TimeInput(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl className={classes.formControl}>\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input\r\n        value={props.value}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        inputComponent={Mask}\r\n        placeholder={props.placeholder}\r\n        disabled={props.disabled}\r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTimeInput.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TimeInput));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nconst styles = (theme) => ({});\r\n\r\nfunction IconButtonComponent(props) {\r\n  const { color, onClick, tooltip, disabled, className } = props;\r\n  return (\r\n    <Tooltip title={tooltip}>\r\n      <IconButton\r\n        color={color}\r\n        onClick={onClick}\r\n        aria-label={tooltip}\r\n        disabled={disabled}\r\n        className={className}\r\n      >\r\n        {props.children}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nIconButtonComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  color: PropTypes.string,\r\n  tooltip: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\r\n    .isRequired,\r\n  disabled: PropTypes.bool,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(IconButtonComponent);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { getStyles } from \"./style\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport IconButton from \"./IconButton\";\r\nimport withUtils from \"./utils/withUtils\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getStyles(theme),\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nclass ImageAvatars extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.inputRef = React.createRef();\r\n    this.filePath = \"\";\r\n  }\r\n\r\n  onChange = async (event) => {\r\n    event.preventDefault();\r\n\r\n    let file = event.target.files[0];\r\n    this.filePath = URL.createObjectURL(file);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n\r\n    if (this.props.mimeType === \"image/jpeg\") {\r\n      var urlCreator = window.URL || window.webkitURL;\r\n      var src = urlCreator.createObjectURL(file);\r\n      file = await this.props.utils.resize(src, this.props.height, file.name);\r\n    }\r\n\r\n    this.props.onChange(this.props.field, file);\r\n  };\r\n\r\n  onClick = () => {\r\n    if (!this.props.disabled) {\r\n      this.inputRef.current.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, value, disabled, mimeType, field, translate } = this.props;\r\n    const label = this.props.label || translate(\"field.\" + field);\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          className={classes.button}\r\n          tooltip={<img src={this.filePath} alt=\"Attach file\" />}\r\n          color={value ? \"primary\" : \"default\"}\r\n          onClick={this.onClick}\r\n          disabled={disabled}\r\n        >\r\n          <AttachFileIcon />\r\n        </IconButton>\r\n        <InputLabel htmlFor={field}>{label}</InputLabel>\r\n        <input\r\n          ref={this.inputRef}\r\n          style={{ display: \"none\" }}\r\n          type=\"file\"\r\n          accept={mimeType}\r\n          onChange={this.onChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageAvatars.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  field: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  label: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  mimeType: PropTypes.string,\r\n};\r\n\r\nexport default withLocalization(withUtils(withStyles(styles)(ImageAvatars)));\r\n","import React from \"react\";\r\n\r\nconst DobyContext = React.createContext();\r\nexport default DobyContext;","import React from \"react\";\r\nimport DobyContext from \"../contexts/DobyContext\";\r\n\r\nconst withDoby = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <DobyContext.Consumer>\r\n        {doby =>\r\n          <WrappedComponent\r\n            {...props}\r\n            doby={doby}\r\n          />\r\n        }\r\n      </DobyContext.Consumer>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withDoby;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Switch from \"../shared/Switch\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport TimeInput from \"../shared/TimeInput\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport config from \"../../config.json\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  disabled: false,\r\n  description: \"\",\r\n  difficulty: 1,\r\n  elevation: null,\r\n  elevationGain: null,\r\n  distance: null,\r\n  time: \"01:00\",\r\n  _img: null,\r\n  _thumbnail: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addSummit, refreshSummits, editSummit } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editSummit(this.state);\r\n      } else {\r\n        await addSummit(this.state);\r\n      }\r\n\r\n      refreshSummits();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      name,\r\n      description,\r\n      difficulty,\r\n      elevation,\r\n      elevationGain,\r\n      distance,\r\n      time,\r\n      _img,\r\n      _thumbnail,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <NumInput\r\n          value={difficulty}\r\n          field=\"difficulty\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          required\r\n        />\r\n\r\n        <NumInput\r\n          value={elevation}\r\n          field=\"elevation\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={110}\r\n          required\r\n        />\r\n\r\n        <NumInput\r\n          value={elevationGain}\r\n          field=\"elevationGain\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={40}\r\n        />\r\n\r\n        <NumInput\r\n          value={distance}\r\n          field=\"distance\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={40}\r\n        />\r\n\r\n        <TimeInput\r\n          value={time}\r\n          field=\"time\"\r\n          onChange={this.handleChange}\r\n          disabled={disabled}\r\n        />\r\n\r\n        <Switch\r\n          label=\"\"\r\n          value={this.state.disabled}\r\n          field=\"disabled\"\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_img}\r\n          field=\"_img\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || this.state._id === \"\" || disabled}\r\n          height={config.imageSize}\r\n        />\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_thumbnail}\r\n          field=\"_thumbnail\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || this.state._id === \"\" || disabled}\r\n          height={config.thumbnailSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\nimport compose from \"../../compose\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  { field: \"elevation\" },\r\n  { field: \"elevationGain\" },\r\n  { field: \"distance\" },\r\n  { field: \"time\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getSummits(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteSummit } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"summits\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteSummit}\r\n          title={translate(\"summits\")}\r\n          onEdit={this.onEdit}\r\n          store={this.props.doby}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"summits\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"summit\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withDoby, withUser, withLocalization)(TableWrapper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addSerie, refreshSeries, editSerie } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editSerie(this.state);\r\n      } else {\r\n        await addSerie(this.state);\r\n      }\r\n\r\n      refreshSeries();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name } = this.state;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(withStyles(styles), withDoby, withUser)(FormWrapper);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: '_id' }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getSeries(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteSerie } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='series'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteSerie}\r\n          title={translate('series')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.doby}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='series'\r\n        />\r\n        <FormDialog\r\n          title={translate('serie')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import * as React from 'react';\r\nimport ReactMarkdown from 'markdown-to-jsx';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nconst styles = (theme) => ({\r\n  listItem: {\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst options = {\r\n  overrides: {\r\n    h1: {\r\n      component: Typography,\r\n      props: {\r\n        gutterBottom: true,\r\n        variant: 'h4',\r\n      },\r\n    },\r\n    h2: {\r\n      component: Typography,\r\n      props: { gutterBottom: true, variant: 'h6' },\r\n    },\r\n    h3: {\r\n      component: Typography,\r\n      props: { gutterBottom: true, variant: 'subtitle1' },\r\n    },\r\n    h4: {\r\n      component: Typography,\r\n      props: {\r\n        gutterBottom: true,\r\n        variant: 'caption',\r\n        paragraph: true,\r\n      },\r\n    },\r\n    p: {\r\n      component: Typography,\r\n      props: { paragraph: true },\r\n    },\r\n    a: { component: Link },\r\n    li: {\r\n      component: withStyles(styles)((props) => {\r\n        const { classes, ...other } = props;\r\n        return (\r\n          <li className={classes.listItem}>\r\n            <Typography component=\"span\" {...other} />\r\n          </li>\r\n        );\r\n      }),\r\n    },\r\n  },\r\n};\r\n\r\nexport default function Markdown(props) {\r\n  return <ReactMarkdown options={options} {...props} />;\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactMde from \"react-mde\";\r\nimport Markdown from \"./Markdown\";\r\nimport withUtils from \"./utils/withUtils\";\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nconst URL = \"https://mailer.poprad.space\";\r\nfunction Editor(props) {\r\n  const save = async function* (data) {\r\n    var blob = new Blob([data], { type: \"image/jpeg\" });\r\n    var urlCreator = window.URL || window.webkitURL;\r\n    var src = urlCreator.createObjectURL(blob);\r\n    const d = await props.utils.resize(src, this.props.height, \"img.jpg\");\r\n\r\n    try {\r\n      const file = await props.utils.postFile(\r\n        URL,\r\n        d,\r\n        \"dGVzdDozPGdEdGc2PkQnOXR9XCFE\"\r\n      );\r\n      yield `${URL}/uploads/${file._id}`;\r\n      return true;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const [selectedTab, setSelectedTab] = React.useState(\"write\");\r\n  return (\r\n    <ReactMde\r\n      value={props.value}\r\n      onChange={(value) => props.onChange(props.field, value)}\r\n      selectedTab={selectedTab}\r\n      readOnly={props.disabled}\r\n      onTabChange={setSelectedTab}\r\n      generateMarkdownPreview={(content) =>\r\n        Promise.resolve(<Markdown>{content}</Markdown>)\r\n      }\r\n      paste={{\r\n        saveImage: save,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nEditor.propTypes = {\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withUtils(Editor);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Select from \"../shared/Select\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  enumTypeData: [],\r\n  enumType: \"\",\r\n  enumValueData: [],\r\n  enumValue: \"\",\r\n  disabled: false,\r\n};\r\n\r\nclass TechParamForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    if (name === \"enumType\") {\r\n      const { enums } = this.props.store;\r\n\r\n      const enumValueData = enums.data.filter((e) => e.enumTypeId === value);\r\n      this.setState({ enumValueData });\r\n    }\r\n\r\n    this.setState({ [name]: value }, this.callBack);\r\n  };\r\n\r\n  callBack = () => {\r\n    const { enumType, enumValue } = this.state;\r\n    if (enumType !== \"\" && enumValue !== \"\")\r\n      this.props.onChange(enumType, enumValue);\r\n  };\r\n\r\n  handleSubmit = async () => {};\r\n\r\n  handleDelete = () => {\r\n    this.props.onDelete(this.state.enumType, this.props.inOrder);\r\n    this.setState({ disabled: false });\r\n  };\r\n\r\n  render() {\r\n    const { classes, enumTypeData } = this.props;\r\n    const { enumType, enumValueData, enumValue, disabled } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={true}>\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={enumType}\r\n            field=\"enumType\"\r\n            onChange={this.handleChange}\r\n            data={enumTypeData}\r\n            textField=\"name\"\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={enumValue}\r\n            field=\"enumValue\"\r\n            onChange={this.handleChange}\r\n            data={enumValueData}\r\n            textField=\"name\"\r\n            fullWidth\r\n            required\r\n            disabled={enumValueData.length === 0 || disabled}\r\n          />\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"Clear\"\r\n          className={classes.margin}\r\n          onClick={this.handleDelete}\r\n        >\r\n          <ClearIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nTechParamForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onDelete: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  enumTypeData: PropTypes.array.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  inOrder: PropTypes.number,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(TechParamForm);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport Switch from \"../shared/Switch\";\r\nimport Editor from \"../shared/Editor\";\r\nimport Select from \"../shared/Select\";\r\nimport config from \"../../config.json\";\r\nimport TechParamForm from \"./TechParamForm\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  catalog_id: \"\",\r\n  ean: \"\",\r\n  short_description: \"\",\r\n  long_description: \"\",\r\n  price_without_tax: 0,\r\n  disabled: false,\r\n  main: false,\r\n  category: [],\r\n  productsRef: [],\r\n  _img: null,\r\n  _thumbnail: null,\r\n  tech_param: {},\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...(props.data || INIT_STATE), tech_param_forms: [] };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { tech_param, tech_param_forms } = this.state;\r\n\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const { getSubordinateProducts } = this.props.doby;\r\n\r\n      const filter = [\r\n        { field: \"enumTypeId\", op: \"gte\", value: 200 },\r\n        { field: \"enumTypeId\", op: \"lt\", value: 300 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n      await getSubordinateProducts();\r\n\r\n      if (!_.isEmpty(tech_param) && tech_param_forms.length === 0)\r\n        this.setTechParamForms(tech_param);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addProduct, refreshProducts, editProduct } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editProduct(this.state);\r\n      } else {\r\n        await addProduct(this.state);\r\n      }\r\n      refreshProducts();\r\n      this.setState({ ...INIT_STATE, tech_param_forms: [] });\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleChangeTechParamForm = (enumTypeId, enumValueID) => {\r\n    const { tech_param } = this.state;\r\n\r\n    this.setState({\r\n      tech_param: { ...tech_param, [enumTypeId]: enumValueID },\r\n    });\r\n  };\r\n\r\n  handleAddTechParam = (event) => {\r\n    event.preventDefault();\r\n    this.addTechParamForm();\r\n  };\r\n\r\n  removeTechParam = (enumTypeId, inOrder) => {\r\n    const { tech_param, tech_param_forms } = this.state;\r\n    delete tech_param[enumTypeId];\r\n\r\n    this.setState({\r\n      tech_param,\r\n      tech_param_forms: tech_param_forms.filter((p) => p.inOrder !== inOrder),\r\n    });\r\n  };\r\n\r\n  addTechParamForm = (enumTypeID = null, enumValueID = null) => {\r\n    const { tech_param_forms } = this.state;\r\n    const { enumTypes, enums } = this.props.store;\r\n\r\n    const enumTypesFiltered = enumTypes.data.filter(\r\n      (e) => e._id > 200 && e._id < 300\r\n    );\r\n\r\n    let data = null;\r\n    if (enumTypeID !== null) {\r\n      data = {\r\n        enumType: Number.parseInt(enumTypeID),\r\n        enumValueData: enums.data.filter(\r\n          (e) => e.enumTypeId === Number.parseInt(enumTypeID)\r\n        ),\r\n        enumValue: enumValueID,\r\n        disabled: true,\r\n      };\r\n    }\r\n\r\n    const inOrder = tech_param_forms.length;\r\n    this.setState({\r\n      tech_param_forms: [\r\n        ...tech_param_forms,\r\n        {\r\n          inOrder,\r\n          element: (\r\n            <TechParamForm\r\n              classes={this.props.classes}\r\n              onChange={this.handleChangeTechParamForm}\r\n              onDelete={this.removeTechParam}\r\n              enumTypeData={enumTypesFiltered}\r\n              inOrder={inOrder}\r\n              data={data}\r\n            />\r\n          ),\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  setTechParamForms = (tech_param) => {\r\n    const entries = Object.entries(tech_param);\r\n    for (const [enumTypeID, enumValueID] of entries)\r\n      this.addTechParamForm(enumTypeID, enumValueID);\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { enums, enumTypes } = this.props.store;\r\n    const { subordinateProducts } = this.props.doby;\r\n    const {\r\n      name,\r\n      price_without_tax,\r\n      category,\r\n      productsRef,\r\n      _img,\r\n      _thumbnail,\r\n      tech_param_forms,\r\n      catalog_id,\r\n      ean,\r\n      short_description,\r\n      long_description,\r\n    } = this.state;\r\n\r\n    const enumTypesFiltered = enumTypes.data.filter(\r\n      (e) => e._id > 200 && e._id < 300\r\n    );\r\n    const disabledAddTechParamForm =\r\n      tech_param_forms.length === enumTypesFiltered.length;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={short_description}\r\n            field=\"short_description\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={catalog_id}\r\n            field=\"catalog_id\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={ean}\r\n            field=\"ean\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <Select\r\n              value={category}\r\n              field=\"category\"\r\n              onChange={this.handleChange}\r\n              data={enums.data.filter((e) => e.enumTypeId === 200)}\r\n              textField=\"name\"\r\n              multiple\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <NumInput\r\n            value={price_without_tax}\r\n            field=\"price_without_tax\"\r\n            onChange={this.handleChange}\r\n            min={0}\r\n            required\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <Select\r\n              value={productsRef}\r\n              field=\"productsRef\"\r\n              onChange={this.handleChange}\r\n              data={subordinateProducts.data}\r\n              textField=\"name\"\r\n              multiple\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <Switch\r\n            label=\"Zruen\"\r\n            value={this.state.disabled}\r\n            field=\"disabled\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Switch\r\n            label=\"Na hlavnej strnke\"\r\n            value={this.state.main}\r\n            field=\"main\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_img}\r\n            field=\"_img\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.imageSize}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_thumbnail}\r\n            field=\"_thumbnail\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.thumbnailSize}\r\n          />\r\n        </Form>\r\n\r\n        <Editor\r\n          field=\"long_description\"\r\n          value={long_description}\r\n          onChange={this.handleChange}\r\n          height={config.imageSize}\r\n          disabled={disabled}\r\n        />\r\n\r\n        {tech_param_forms.map((p) => p.element)}\r\n\r\n        <Button\r\n          disabled={disabledAddTechParamForm}\r\n          onClick={this.handleAddTechParam}\r\n          className={classes.button}\r\n        >\r\n          + Prida technicky parameter\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"price_without_tax\", type: \"num\" },\r\n  { field: \"tax\", type: \"num\" },\r\n  { field: \"ean\" },\r\n  { field: \"price_with_tax\", type: \"num\" },\r\n  { field: \"disabled\", type: \"bool\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getProducts(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleClone = async (x) => {\r\n    this.setState({ x: { ...x, _id: \"\" }, isOpen: true });\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteProduct } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"products\"\r\n          onChange={this.handleChange}\r\n          onClone={this.handleClone}\r\n          onDelete={deleteProduct}\r\n          title={translate(\"products\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"products\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"product\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Select from \"../shared/Select\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport Editor from \"../shared/Editor\";\r\nimport config from \"../../config.json\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  title: \"\",\r\n  description: \"\",\r\n  typeRef: null,\r\n  content: \"\",\r\n  _img: null,\r\n  _thumbnail: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const filter = [\r\n        { field: \"enumTypeId\", value: 1 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChangeTypeRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addPost, refreshPosts, editPost } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editPost(this.state);\r\n      } else {\r\n        await addPost(this.state);\r\n      }\r\n\r\n      refreshPosts();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      title,\r\n      description,\r\n      typeRef,\r\n      content,\r\n      _img,\r\n      _thumbnail,\r\n    } = this.state;\r\n    const { enums } = this.props.store;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n          <TextInput\r\n            value={title}\r\n            field=\"title\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <TextInput\r\n              value={description}\r\n              field=\"description\"\r\n              onChange={this.handleChange}\r\n              required\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <Select\r\n            value={typeRef ? typeRef.id : null}\r\n            field=\"typeRef\"\r\n            onChange={this.handleChangeTypeRef}\r\n            data={enums.data}\r\n            textField=\"name\"\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_img}\r\n            field=\"_img\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.imageSize}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_thumbnail}\r\n            field=\"_thumbnail\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.thumbnailSize}\r\n          />\r\n        </Form>\r\n        <Editor\r\n          field=\"content\"\r\n          value={content}\r\n          onChange={this.handleChange}\r\n          height={config.imageSize}\r\n          disabled={disabled}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"title\", disablePadding: true },\r\n  { field: \"description\" },\r\n  {\r\n    field: \"type.name\",\r\n    type: \"enum\",\r\n    data: \"enums\",\r\n    idField: \"typeRef.id\",\r\n    sortable: false,\r\n  },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getPosts(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deletePost } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"posts\"\r\n          onChange={this.handleChange}\r\n          onDelete={deletePost}\r\n          title={translate(\"posts\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='posts'\r\n        />\r\n        <FormDialog\r\n          title={translate(\"post\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: 'email' },\r\n  { field: 'tel' },\r\n  { field: '_id' }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.user.getUsers(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='users'\r\n          onChange={this.handleChange}\r\n          title={translate('users')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.user}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='users'\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport Select from \"../shared/Select\";\r\nimport config from \"../../config.json\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  description: \"\",\r\n  typeRef: null,\r\n  key: 0,\r\n  _logo: \"\",\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const filter = [\r\n        { field: \"enumTypeId\", value: 3 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChangeTypeRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async (content) => {\r\n    const { addPartner, refreshPartners, editPartner } = this.props.doby;\r\n    const data = { ...this.state, content };\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editPartner(data);\r\n      } else {\r\n        await addPartner(data);\r\n      }\r\n\r\n      refreshPartners();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name, description, typeRef, key, _logo } = this.state;\r\n    const { enums } = this.props.store;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <TextInput\r\n          value={name}\r\n          field=\"name\"\r\n          onChange={this.handleChange}\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <Select\r\n          value={typeRef ? typeRef.id : null}\r\n          field=\"typeRef\"\r\n          onChange={this.handleChangeTypeRef}\r\n          data={enums.data}\r\n          textField=\"name\"\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <NumInput value={key} field=\"key\" onChange={this.handleChange} />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_logo}\r\n          field=\"_logo\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.logoSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  {\r\n    field: \"type.name\",\r\n    type: \"enum\",\r\n    data: \"enums\",\r\n    idField: \"typeRef.id\",\r\n    sortable: false,\r\n  },\r\n  { field: \"key\", type: \"num\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getPartners(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deletePartner } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"partners\"\r\n          onChange={this.handleChange}\r\n          onDelete={deletePartner}\r\n          title={translate(\"partners\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"partners\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"partner\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    button: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',        \r\n        whiteSpace: 'nowrap',        \r\n        userSelect: 'none',\r\n        fontSize: '14px',\r\n        lineHeight: '130%',\r\n        fontFamily: \"'IBM Plex Mono', monospace\",\r\n        letterSpacing: '0.5px',\r\n        padding: '0 20px',\r\n        height: '52px',       \r\n        background: theme.palette.primary.main,\r\n        color: '#ffffff',\r\n        fontWeight: '700',       \r\n        //borderRadius: '50px',\r\n        border: `2px solid ${theme.palette.primary.main}`,\r\n        textTransform: 'uppercase',\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.25s ease',\r\n        '&:hover': {\r\n            background: theme.palette.primary.dark,\r\n            borderColor: theme.palette.primary.dark,\r\n        }\r\n    },\r\n    btnFullwidth: {\r\n        display: 'block',\r\n        width: '100%',\r\n        maxWidth: '400px',\r\n    },\r\n    btnOutline: {\r\n         border: '1px solid #333442!important',\r\n         background: 'transparent!important',\r\n         color: '#333442!important',\r\n    },\r\n    //color variants\r\n    btnSecondary: {\r\n        background: theme.palette.primary.main,\r\n    },\r\n    //size\r\n    btnLarge: {\r\n        padding: '0 25px',\r\n        height: '52px',  \r\n        fontSize: '14px',     \r\n    },\r\n    btnSmall: {\r\n        padding: '0 15px',\r\n        height: '30px',  \r\n        fontSize: '11px',\r\n    },\r\n    btnDisabled: {\r\n        background: 'black'\r\n    }\r\n});\r\n\r\nfunction Button(props) {   \r\n    const { classes, fullwidth, disabled, outline, size, variant, minWidth} = props;\r\n   \r\n    return (\r\n        <>\r\n            <button \r\n                className={classNames(props.className, classes.button, disabled && classes.btnDisabled, fullwidth && classes.btnFullwidth, outline && classes.btnOutline, size === 'lg' && classes.btnLarge, size === 'sm' && classes.btnSmall, variant === 'secondary' && classes.btnSecondary)}\r\n                onClick={() => !disabled && props.onClick()}\r\n                style={{minWidth: minWidth ? minWidth+'px' : '0px'}}\r\n            >\r\n                {props.children}\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(Button);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from './form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        minWidth: 300,   \r\n    },   \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <div className={classNames(classes.card, classes.roundedMd, classes.p5, classes.cardShadow, props.className)}>\r\n            <div className={classNames()}>\r\n                <div className={classNames(classes.textMd, classes.fontBold)}>\r\n                    {props.title}\r\n                </div>\r\n                <div className={classNames(classes.textXs, classes.text200)}>\r\n                    {props.description}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.mt4, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                <Button \r\n                    fullwidth\r\n                    className={classNames(classes.mr1)}\r\n                    onClick={props.onClickMoreInfo}\r\n                >\r\n                   {props.translate('more_info')}\r\n                </Button>\r\n                <Button \r\n                    fullwidth\r\n                    className={classNames(classes.ml1)}\r\n                    onClick={props.onClickParticipate}\r\n                >\r\n                    {props.translate('participate')}\r\n                </Button>               \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string,\r\n    onClickMoreInfo: PropTypes.func,\r\n    onClickParticipate: PropTypes.func,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport classNames from 'classnames';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VizSensor from 'react-visibility-sensor';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n\r\n    root: {\r\n        justifyContent: 'center'\r\n    },\r\n    itemCard: {\r\n        boxShadow: 'none',\r\n        backgroundColor: 'transparent'\r\n    },\r\n    media: {\r\n        height: 140,\r\n        width: '100%',\r\n        backgroundColor: '#ededed',\r\n    },\r\n    price: {\r\n        fontWeight: 'bold',\r\n        float: 'left',\r\n        display: 'inline-block'\r\n    },\r\n    source: {\r\n        float: 'right',\r\n        display: 'inline-block'\r\n    },\r\n    membersOnlySpacer: {\r\n        height: 10,\r\n        width: '100%'\r\n    },\r\n    membersOnly: {\r\n        height: 25,\r\n        backgroundColor: '#4c4c4c',\r\n        width: '90%',\r\n        color: 'white',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        paddingLeft: 5\r\n    }\r\n});\r\n\r\nfunction ItemCard(props) {\r\n    const [img, setImg] = useState(null);\r\n    const onViz = async (isVisible) => {\r\n        try {\r\n            if(props.Id) {\r\n                const data = await props.onViz(props.Id);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    const { classes } = props;\r\n    return (\r\n        <VizSensor\r\n            partialVisibility\r\n            onChange={onViz}\r\n        >\r\n            <Card\r\n                className={classNames(classes.itemCard, classes.w100)}\r\n                onClick={props.onClick}\r\n            >\r\n                <CardActionArea>\r\n                    <CardMedia\r\n                        className={classes.media}\r\n                        image={img || '/img/logo.png'}\r\n                        title={props.name}\r\n                    >\r\n                        {props.membersOnly ? (\r\n                            <div className={styles.center}>\r\n                                <div className={classes.membersOnlySpacer}></div>\r\n                                <div className={classNames(classes.membersOnly, styles.center)}>Pre astnkov vzvy</div>\r\n                            </div>\r\n                        ) : null\r\n                        }\r\n                    </CardMedia>\r\n                    <CardContent className={classNames(classes.p0, classes.mt3)}>\r\n                        <Typography>{props.name}</Typography>\r\n                        <Typography component=\"p\" className={classes.price}>\r\n                            <small>{props.price}{props.curr}</small>\r\n                        </Typography>\r\n                        <Typography component=\"p\" className={classes.source}>\r\n                            {props.source}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n            </Card>\r\n        </VizSensor>\r\n    );\r\n}\r\n\r\nItemCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    curr: PropTypes.string.isRequired,\r\n    source: PropTypes.string.isRequired,\r\n    onViz: PropTypes.func.isRequired,\r\n    Id: PropTypes.string,\r\n    membersOnly: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(ItemCard);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\n\r\nimport Select from '../shared/Select';\r\nimport ChallengeCard from '../dobyComponents/ChallengeCard'\r\nimport ItemCard from './ItemCard';\r\nimport compose from '../../compose';\r\nimport config from '../../config.json';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nimport Flickity from \"react-flickity-component\";\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    challengeCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '0.5rem',           \r\n        }\r\n    },\r\n    challengeList: {\r\n        overflowX: 'auto',\r\n        overflowY: 'hidden',\r\n        position: 'relative',\r\n        '&::-webkit-scrollbar': {\r\n            display: 'none'\r\n        }\r\n    },\r\n    challengeListWrapper: {\r\n        display: 'flex',\r\n    },\r\n    itemFilterSelect: {\r\n        marginBottom: '20px'\r\n    }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nclass Eshop extends React.Component {   \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            itemFilterId: '1'\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();\r\n\r\n        const filter = [\r\n            { field: \"main\", value: true },\r\n        ];\r\n\r\n        await this.props.doby.getProducts(filter);\r\n    }\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({[name]: value});\r\n    }\r\n\r\n    joinChallenge = (challenge) => {\r\n        if(challenge._id) \r\n            this.props.history.push(`/challenge-checkout/${challenge._id}`);\r\n    }\r\n\r\n    showProductDetail = (product)=>  {\r\n        if(product.catalog_id.length > 0)\r\n            this.props.history.push(`/eshop/product/${product.catalog_id}`);\r\n    }\r\n\r\n    renderChallenges = () => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;\r\n        return challenges.data.map(challenge => {\r\n            const endDate = new Date(challenge.end);\r\n            return (\r\n                <div className={\"carousel-cell\"} key={challenge._id}>\r\n                    <ChallengeCard\r\n                        title={challenge.name}\r\n                        description={`${this.props.translate('register_to_date')} ${endDate.getDay()}.${endDate.getMonth() + 1}.`}\r\n                        onClickParticipate={()=> this.joinChallenge(challenge)}\r\n                        className={classNames(classes.mt2, classes.mb2, classes.mr3)}\r\n                    />\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.isLoading ? (\r\n            <div style={{flexGrow: 1}}>\r\n                <LinearProgress color=\"secondary\"/>\r\n            </div>) : products.data.map(product => {                \r\n            return (\r\n                <Grid item xs={6} sm={3} lg={2} key={product._id}>\r\n                    <ItemCard\r\n                        onClick={()=> this.showProductDetail(product)}\r\n                        name={product.name}\r\n                        price={product.price_with_tax}\r\n                        curr={config.currency}\r\n                        Id={product.thumbnailId}\r\n                        onViz={this.props.store.getFile}\r\n                        source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                        //membersOnly\r\n                    />\r\n                </Grid>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {        \r\n        const { classes } = this.props;\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Flickity\r\n                        className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                        options={flickityOptions}\r\n                        reloadOnUpdate={true}\r\n                    >\r\n                        { this.renderChallenges() }                    \r\n                    </Flickity>\r\n                </div>\r\n                {/* <div className={classNames(classes.challengeList, classes.mt4)}>\r\n                    <div className={classNames(classes.challengeListWrapper, classes.pt2, classes.pb2, classes.pl5)}>\r\n                        { this.renderChallenges() }\r\n                    </div>\r\n                </div> */}\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <Select\r\n                        className={classes.itemFilterSelect}\r\n                        value={this.state.itemFilterId}\r\n                        field=\"itemFilterId\"\r\n                        onChange={this.handleChange}\r\n                        data={[\r\n                            {name: this.props.translate('most_liked'), _id: '1'}, \r\n                            {name: this.props.translate('cheapest'), _id: '2'},\r\n                            {name: this.props.translate('most_expensive'), _id: '3'}\r\n                        ]}\r\n                        textField=\"name\"\r\n                        required\r\n                    />\r\n                    <Grid container spacing={24}>\r\n                        { this.renderProducts() }\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nEshop.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Eshop);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport classNames from \"classnames\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\n\r\nconst styles = (theme) => ({\r\n  selectInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  selectRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction SelectFieldComponent(props) {\r\n  const {\r\n    classes,\r\n    data,\r\n    textField,\r\n    required,\r\n    value,\r\n    onChange,\r\n    field,\r\n    multiple,\r\n  } = props;\r\n  if (\r\n    required &&\r\n    (value === null || value === undefined || value === \"\") &&\r\n    data &&\r\n    data.length > 0\r\n  ) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find((x) => x._id === selected);\r\n    return value ? value[textField] : null;\r\n  };\r\n\r\n  const renderValue = (selected) => {\r\n    if (!multiple) {\r\n      return getText(selected);\r\n    }\r\n\r\n    return selected.map((s) => getText(s)).join(\" | \");\r\n  };\r\n\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n      variant=\"filled\"\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      {label && (\r\n        <InputLabel\r\n          htmlFor={props.field}\r\n          className={classNames(classes.inputLabel)}\r\n        >\r\n          {label}\r\n        </InputLabel>\r\n      )}\r\n      <Select\r\n        value={props.value !== null ? props.value : \"\"}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n        input={<FilledInput name={props.field} id={props.field} />}\r\n        className={classes.selectInput}\r\n        classes={{ select: classes.selectRoot }}\r\n      >\r\n        {!props.required && !multiple && (\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        )}\r\n        {data.map((x) => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple && (\r\n              <Checkbox\r\n                checked={value.find((d) => d === x._id) !== undefined}\r\n              />\r\n            )}\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nSelectFieldComponent.propTypes = {\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  errorText: PropTypes.string,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(SelectFieldComponent));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from '../../../style';\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n  checkbox: {\r\n    color: `${theme.palette.secondary.main}!important`,\r\n    padding: 0,\r\n  },\r\n  checkboxLight: {\r\n    color: \"white!important\",\r\n  },\r\n  checkboxIcon: {\r\n    fontSize: \"24px\",\r\n  },\r\n  controlNoLabel: {\r\n    marginRight: \"0\",\r\n  },\r\n  formControlLabelRoot: {\r\n    marginLeft: '0',\r\n    marginRight: '0',\r\n  },\r\n  label: {\r\n      marginLeft: '5px',\r\n  }\r\n});\r\n\r\nfunction CheckboxFieldComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n  const noLabel = props.noLabel ? props.noLabel : false;\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          //value={props.value}\r\n          checked={props.value}\r\n          onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n          classes={{ root: classNames(classes.checkbox, props.light && classes.checkboxLight) }}\r\n          icon={\r\n            <CheckBoxOutlineBlankIcon\r\n              className={classNames(classes.checkboxIcon)}\r\n            />\r\n          }\r\n          checkedIcon={\r\n            <CheckBoxIcon className={classNames(classes.checkboxIcon)} />\r\n          }\r\n          disabled={props.disabled}\r\n        />\r\n      }\r\n      label={!noLabel && label}\r\n      classes={{ root: props.noLabel && classes.controlNoLabel, root: classes.formControlLabelRoot, label: classNames(classes.label, props.labelClasses) }}\r\n      className={classNames(props.className)}\r\n    />\r\n  );\r\n}\r\n\r\nCheckboxFieldComponent.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  field: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  value: PropTypes.string,\r\n  noLabel: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  labelClasses: PropTypes.string,\r\n  checkboxLight: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(CheckboxFieldComponent));\r\n","import config from  '../config.json';\r\n\r\nexport const formatPrice = (price) => (Math.round((price * 100) + Number.EPSILON) / 100).toFixed(2) + '\\xa0' + getCurrencySymbol(config.currency);\r\nexport const getCurrencySymbol = (currency) => {\r\n    switch(currency) {\r\n        case 'EUR': \r\n            return '';\r\n        case 'USD': \r\n            return '$';\r\n        default:\r\n            return '';\r\n    }\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport config from '../../../config.json'\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport TextField from '../../dobyComponents/form/TextField';\r\nimport SelectField from '../../dobyComponents/form/SelectField';\r\nimport Checkbox from '../../dobyComponents/form/CheckboxField';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n});\r\n\r\nclass DeliveryPayment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            invoiceErrorTexts: {\r\n                invoiceNameSurname: null,\r\n                invoiceCountry: null,\r\n                invoiceCity: null,\r\n                invoicePsc: null,\r\n                invoiceStreet: null, \r\n                invoiceStreetNumber: null\r\n            },\r\n            companyOrderErrorTexts: {\r\n                ico: null,\r\n                dic: null,\r\n                icdph: null,\r\n                bic: null,\r\n                iban: null,\r\n                accountOwner: null\r\n            },\r\n            commonErrorTexts: {\r\n                nameSurname: null,\r\n                email: null,\r\n                country: null,\r\n                city: null,\r\n                psc: null, \r\n                street: null,\r\n                streetNumber: null,\r\n                tel: null   \r\n            },\r\n            errorTexts: {},\r\n            isValid: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { getEnums } = this.props.store;\r\n        const filter = [\r\n            { field: \"enumTypeId\", value: 5 },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        await getEnums(filter);\r\n        await this.props.store.getTransports();\r\n        this.props.doby.cartGetProducts();\r\n        this.fillFromUser();\r\n    }\r\n\r\n    fillFromUser = () => {\r\n        const { user } = this.props.user;\r\n        if (!user) return;\r\n\r\n        //NOTE: prefill deliver order data from user profile\r\n        this.props.doby.deliveryOrderFill({\r\n            nameSurname: user.name,\r\n            country: user.country,\r\n            city: user.city,\r\n            email: user.email,\r\n            tel: user.tel,\r\n            psc: user.postCode\r\n        });\r\n\r\n        this.validateForm();\r\n    }\r\n\r\n    handleChangeCountry = async (field, value) => {\r\n        const filter = [\r\n            { field: \"countryId\", value },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        this.props.doby.deliveryOrderChanged(field, value);\r\n        await this.props.store.getTransports(filter);\r\n    }\r\n\r\n    validateForm = () => {\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n        let errorTexts = {};\r\n        \r\n        for(let key in this.state.commonErrorTexts) {\r\n            if(key === 'tel') {\r\n                errorTexts[key] = deliveryData[key].length <= 4 ? this.props.translate('required_field') : null \r\n                continue;\r\n            }\r\n\r\n            errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n        }\r\n\r\n        if(deliveryData.invoiceData) {\r\n            for(let key in this.state.invoiceErrorTexts) {\r\n                errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n            }\r\n        }\r\n\r\n        if(deliveryData.companyOrder) {\r\n            for(let key in this.state.companyOrderErrorTexts) {\r\n                errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n            }\r\n        }\r\n\r\n        const fieldsAreValid = Object.values(errorTexts).filter(v => v).length === 0;\r\n        const checkboxesAreChoosen = deliveryData.deliveryType && deliveryData.paymentMethod;\r\n        this.setState({errorTexts, isValid: fieldsAreValid && checkboxesAreChoosen});\r\n    }\r\n    \r\n    render() {\r\n        const { classes } = this.props;\r\n        const { enums } = this.props.store;\r\n        const { transports } = this.props.store;\r\n\r\n        const deliveryOrderChanged = async (field, value)  =>{\r\n            await this.props.doby.deliveryOrderChanged(field, value);\r\n            this.validateForm();\r\n        } \r\n\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n\r\n        return (\r\n            <form>\r\n                <div className={classNames(classes.container)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('delivery_details')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.nameSurname}\r\n                                field=\"nameSurname\"\r\n                                errorText={this.state.errorTexts.nameSurname}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.email}\r\n                                field=\"email\"\r\n                                errorText={this.state.errorTexts.email}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <SelectField\r\n                                onChange={this.handleChangeCountry}\r\n                                fullWidth\r\n                                required\r\n                                data={enums.data}\r\n                                value={deliveryData.country}\r\n                                field=\"country\"\r\n                                textField=\"name\"\r\n                                disabled={false}\r\n                                errorText={this.state.errorTexts.country}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.city}\r\n                                field=\"city\"\r\n                                errorText={this.state.errorTexts.city}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.psc}\r\n                                field=\"psc\"\r\n                                errorText={this.state.errorTexts.psc}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.street}\r\n                                field=\"street\"\r\n                                errorText={this.state.errorTexts.street}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.streetNumber}\r\n                                field=\"streetNumber\"\r\n                                errorText={this.state.errorTexts.streetNumber}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.tel}\r\n                                field=\"tel\"\r\n                                errorText={this.state.errorTexts.tel}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <Checkbox\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.invoiceData}\r\n                                field=\"invoiceData\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {deliveryData.invoiceData && <>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceNameSurname}\r\n                                    field=\"invoiceNameSurname\"\r\n                                    label={this.props.translate('field.nameSurname')}\r\n                                    errorText={this.state.errorTexts.invoiceNameSurname}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <SelectField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    data={enums.data}\r\n                                    value={deliveryData.invoiceCountry}\r\n                                    field=\"invoiceCountry\"\r\n                                    textField=\"name\"\r\n                                    label={this.props.translate('field.country')}\r\n                                    errorText={this.state.errorTexts.invoiceCountry}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceCity}\r\n                                    field=\"invoiceCity\"\r\n                                    label={this.props.translate('field.city')}\r\n                                    errorText={this.state.errorTexts.invoiceCity}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoicePsc}\r\n                                    field=\"invoicePsc\"\r\n                                    label={this.props.translate('field.psc')}\r\n                                    errorText={this.state.errorTexts.invoicePsc}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceStreet}\r\n                                    field=\"invoiceStreet\"\r\n                                    label={this.props.translate('field.street')}\r\n                                    errorText={this.state.errorTexts.invoiceStreet}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceStreetNumber}\r\n                                    field=\"invoiceStreetNumber\"\r\n                                    label={this.props.translate('field.streetNumber')}\r\n                                    errorText={this.state.errorTexts.invoiceStreetNumber}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n                        </>}\r\n\r\n                        <Grid item xs={12}>\r\n                            <Checkbox\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.companyOrder}\r\n                                field=\"companyOrder\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {deliveryData.companyOrder && <>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.ico}\r\n                                    field=\"ico\"\r\n                                    errorText={this.state.errorTexts.ico}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.dic}\r\n                                    field=\"dic\"\r\n                                    errorText={this.state.errorTexts.dic}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.icdph}\r\n                                    field=\"icdph\"\r\n                                    errorText={this.state.errorTexts.icdph}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.bic}\r\n                                    field=\"bic\"\r\n                                    errorText={this.state.errorTexts.bic}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.iban}\r\n                                    field=\"iban\"\r\n                                    errorText={this.state.errorTexts.iban}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.accountOwner}\r\n                                    field=\"accountOwner\"\r\n                                    errorText={this.state.errorTexts.accountOwner}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n                        </>}\r\n\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('delivery')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                {transports && transports.data.map(item => {\r\n                                    return (\r\n                                        <div\r\n                                            className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}\r\n                                            onClick={(e) => deliveryOrderChanged(\"deliveryType\", item._id)}\r\n                                        >\r\n                                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                <div>\r\n                                                    ikona\r\n                                                    </div>\r\n                                                <div className={classNames(classes.ml5, classes.textM)}>\r\n                                                    {item.name}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                <div className={classNames(classes.mr3, classes.fontBold)}>\r\n                                                    {formatPrice(item.price)} {getCurrencySymbol(config.currency)}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <Radio\r\n                                                        onChange={(e) => deliveryOrderChanged(\"deliveryType\", item._id)}\r\n                                                        value={item._id}\r\n                                                        checked={deliveryData.deliveryType === item._id}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('payment')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                {\r\n                                    deliveryData.paymentMethods.map(item => {\r\n                                        return (\r\n                                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)} onClick={(e) => deliveryOrderChanged(\"paymentMethod\", item.id)}>\r\n                                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                    <div>\r\n                                                        ikona\r\n                                                    </div>\r\n                                                    <div className={classNames(classes.ml5, classes.textM)}>\r\n                                                        {item.name}\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                    <div className={classNames(classes.mr3, classes.fontBold)}>\r\n                                                        {formatPrice(item.price)} {getCurrencySymbol(config.currency)}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <Radio\r\n                                                            onChange={(e) => deliveryOrderChanged(\"paymentMethod\", item.id)}\r\n                                                            value={item.id}\r\n                                                            checked={deliveryData.paymentMethod === item.id}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                onClick={() => { this.props.changeStep(4) }}\r\n                                className={classNames(classes.mb5, classes.mt4)}\r\n                                disabled={!this.state.isValid}\r\n                                fullwidth\r\n                            >\r\n                                {this.props.translate('continue')}\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </form>\r\n        );\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n)(DeliveryPayment);","import React, { useState }  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withDoby from '../../../consumers/withDoby';\r\nimport withUser from '../../../consumers/withUser';\r\nimport withStore from '../../../consumers/withStore';\r\nimport compose from '../../../compose';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport config from '../../../config.json';\r\n//import ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productThumbnail: {\r\n        width: '70px'\r\n    },\r\n    itemCountBtn: {\r\n        backgroundColor: '#ececec',\r\n        width: '24px',\r\n        height: '24px',\r\n        lineHeight: '21px',\r\n        textAlign: 'center',\r\n        fontSize: '19px',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer'\r\n    },\r\n    itemCount: {\r\n        width: '60px',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nfunction CheckouCartItem(props) {\r\n    const { classes } = props;\r\n    const renderVariants = () => {\r\n        return (\r\n            <div className={classNames(classes.textXs2)}>Variant</div>\r\n        );\r\n    }\r\n   \r\n    const [img, setImg] = useState(null);\r\n    const getImage = async () => {\r\n        try {\r\n            if(props.thumbnailId) {\r\n                const data = await props.store.getFile(props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    getImage();\r\n\r\n    return (         \r\n        <>\r\n            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}> \r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <img\r\n                            className={classes.productThumbnail} \r\n                            src={ img || ''} \r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames(classes.textXs)}>{props.productName}</div>\r\n                        <div>{renderVariants()}</div>\r\n                    </div>\r\n                </div>   \r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.fontBold)}>{formatPrice(props.priceWithTax * props.productCount)}</div>\r\n                    <div className={classNames(classes.textXs2, classes.textRight)}>{props.translate('with_tax')}</div> \r\n                </div>            \r\n            </div> \r\n            <hr className={classNames(classes.w100, classes.mt4, classes.mb4, classes.hrLine)}/>\r\n        </>         \r\n    );\r\n}\r\n\r\nCheckouCartItem.propTypes = {\r\n    productName: PropTypes.string.isRequired, \r\n    techParams: PropTypes.array, \r\n    priceWithTax: PropTypes.number.isRequired,\r\n    thumbnailId: PropTypes.string,\r\n    productId: PropTypes.string.isRequired,\r\n    productCount: PropTypes.number.isRequired,\r\n    countInStock: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization,\r\n    withStore\r\n)(CheckouCartItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport config from '../../../config.json'\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport TextField from '../../dobyComponents/form/TextField';\r\nimport Checkbox from '../../dobyComponents/form/CheckboxField';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CheckouCartItem from './CheckouCartItem';\r\n\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    starterPackDiscount: {\r\n        border: '1px solid #C8D2E1',\r\n        background: '#ECECEC',\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n    spacingBottom: {\r\n        paddingBottom: '190px'\r\n    }\r\n});\r\n\r\nclass CheckoutSummary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            starterPackDiscount: false,\r\n            discountCode: \"\",\r\n            standardPack: null,\r\n            standardPackProduct: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.doby.cartGetProducts();\r\n        this.fetchData();\r\n        this.checkStarterpack();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { getEnums } = this.props.store;\r\n        const filter = [\r\n            { field: \"enumTypeId\", value: 5 },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        await getEnums(filter);\r\n        await this.props.store.getTransports();\r\n    }\r\n\r\n    handleChange = async (field, value) => {\r\n        this.setState({\r\n            [field]: value\r\n        });\r\n\r\n        if (field === 'discountCode' && value.length === config.discountCodeLength) {\r\n            await this.props.doby.redeeemDiscountCode(value);\r\n        }\r\n    }\r\n\r\n    checkStarterpack = async () => {\r\n        const { cart } = this.props.doby;\r\n        \r\n        for(let item of cart.data.products) {\r\n            if(item.product.catalog_id === 'pack') {\r\n                const filter = [\r\n                    { field: \"_id\", value: item.product.productsRef.map(item=>item.id), op:'in' },\r\n                ];\r\n                let products = await this.props.doby.getProducts(filter);\r\n                for(let packProduct of products.data) {\r\n                    if(packProduct.catalog_id === 'coupon') {\r\n                        this.setState({standardPack: packProduct, standardPackProduct: item.product});\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    renderCartitems() {\r\n        const { cart } = this.props.doby;\r\n        return cart.data.products.map(item => {\r\n            const { product } = item;\r\n            return (\r\n                <CheckouCartItem\r\n                    key={product.id}\r\n                    productId={product.id}\r\n                    productName={product.name}\r\n                    priceWithTax={product.price_with_tax}\r\n                    thumbnailId={product.thumbnailId}\r\n                    productCount={item.count}\r\n                    countInStock={product.count}\r\n                //techParams={product.techParams}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    getTotalPrice = () => {\r\n        const { transports } = this.props.store;\r\n        const { coupon } = this.props.doby.checkout.data;\r\n        const { deliveryType } = this.props.doby.checkout.data.deliveryData;\r\n        const { products } = this.props.doby.cart.data;\r\n\r\n        let priceProducts = 0;\r\n        let pricePack = 0;\r\n        let price = 0;\r\n\r\n        for (const item of products) {\r\n            if(item.product.catalog_id === 'pack')\r\n                pricePack += item.product.price_with_tax;\r\n            else \r\n                priceProducts += (item.count * item.product.price_with_tax);\r\n        }\r\n\r\n        //NOTE: apply discounts, before adding price for delivery\r\n        if (coupon._id) {\r\n            //TODO: enums ?\r\n            if (coupon.discountType === 1) {\r\n                price = price * (100.0 - coupon.amount) / 100.0;\r\n            } else {\r\n                price -= coupon.amount;\r\n            }\r\n        }\r\n        let couponBalance = this.state.standardPack ? this.state.standardPack.price_with_tax : 0;\r\n        if(!this.state.starterPackDiscount) {\r\n            price = priceProducts + pricePack;\r\n        } else {\r\n            if(priceProducts < couponBalance) {\r\n                priceProducts = 0;\r\n                couponBalance -= priceProducts;\r\n            } else {\r\n                priceProducts = priceProducts - couponBalance;\r\n                couponBalance = 0;                \r\n            }\r\n            price = priceProducts + pricePack;\r\n\r\n         \r\n        }\r\n\r\n        //NOTE: add delivery price\r\n        const transport = transports.data.find(x => x._id === deliveryType);\r\n        if (transport) {\r\n            price += transport.price;\r\n        }\r\n\r\n        return formatPrice(price);\r\n    }\r\n\r\n    proceedCheckout = async () => {\r\n        const { cart } = this.props.doby;\r\n        const { deliveryData, coupon } = this.props.doby.checkout.data;\r\n\r\n        let items = [];\r\n        for (const product of cart.data.products) {\r\n            product.product.count = product.count;\r\n            if(this.state.standardPackProduct && product.product._id === this.state.standardPackProduct._id) {\r\n                items.push({...product.product, id: product.product._id, useCoupon: this.state.starterPackDiscount});\r\n                continue;\r\n            }\r\n            \r\n            items.push({...product.product, id: product.product._id});\r\n        }\r\n\r\n        //TODO: validation ( function ? )\r\n        const name = deliveryData.nameSurname.split(' ')[0];\r\n        const surname = deliveryData.nameSurname.split(' ')[1];\r\n        const country_obj = this.props.store.enums.data.find((x => x._id === deliveryData.country));\r\n        const id_delivery_obj = this.props.store.transports.data.find((x => x._id === deliveryData.deliveryType));\r\n\r\n        if (!country_obj || !id_delivery_obj)\r\n            return;\r\n\r\n        const destination_country_id = country_obj.key;\r\n        const id_delivery = id_delivery_obj.key;\r\n\r\n        const order = await this.props.doby.createOrder({\r\n            //--- \r\n            name,\r\n            surname,\r\n            phone: deliveryData.tel,\r\n            email: deliveryData.email,\r\n            street: deliveryData.street,\r\n            street_number: deliveryData.streetNumber,\r\n            postal_code: deliveryData.psc,\r\n            city: deliveryData.city,\r\n            country: deliveryData.country,\r\n            couponRef: { ...coupon, id: coupon._id},\r\n\r\n            //--- FA\r\n            fa_city: deliveryData.invoiceCity,\r\n            fa_company: '',\r\n            fa_country: deliveryData.invoiceCountry,\r\n            fa_postal_code: deliveryData.invoicePsc,\r\n            fa_street: deliveryData.invoiceStreet,\r\n            fa_street_number: deliveryData.invoiceStreet,\r\n            //---\r\n\r\n            id_delivery,\r\n            payment_method_id: deliveryData.paymentMethod,\r\n            items,\r\n            destination_country_id,\r\n            ru: config.stripe.redirect_url\r\n        });\r\n\r\n        if (order) {\r\n            const { payment_id } = order;\r\n            const stripe = await loadStripe(config.stripe.id);\r\n\r\n            const result = await stripe.redirectToCheckout({\r\n                sessionId: payment_id,\r\n            });\r\n\r\n            if (result.error) {\r\n                // If `redirectToCheckout` fails due to a browser or network\r\n                // error, display the localized error message to your customer\r\n                // using `result.error.message`.\r\n                console.error(result.error);\r\n            }\r\n        }\r\n        console.log(order);\r\n    }\r\n\r\n    renderDiscounts = () => {\r\n        const { classes } = this.props;\r\n        const { coupon } = this.props.doby.checkout.data;\r\n        const getDiscountByType = (type, amount) => type === 1 ? `-${amount}%` : `-${amount}${getCurrencySymbol(config.currency)}`;\r\n        return (\r\n            <>\r\n                { coupon._id &&\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.w100)}>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {this.props.translate('coupon_discount')}\r\n                        </div>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {getDiscountByType(coupon.discountType, coupon.amount)}\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderStarterpackDiscount = () => {\r\n        const { classes } = this.props;\r\n        \r\n        return ( this.state.standardPack && \r\n            <Grid item xs={12} className={classes.mt3}>\r\n                <div className={classNames(classes.starterPackDiscount, classes.px4, classes.py2, classes.roundedMd, classes.dFlex, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <Checkbox\r\n                            onChange={this.handleChange}\r\n                            fullWidth\r\n                            required\r\n                            value={this.state.starterPackDiscount}\r\n                            field=\"starterPackDiscount\"\r\n                            noLabel\r\n                        />\r\n                    </div>\r\n                    <div className={classNames(classes.flexCol)}>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {this.props.translate('starterpack_discount')}\r\n                        </div>\r\n                        <div className={classNames(classes.textXs2)}>\r\n                            - {formatPrice(this.state.standardPack.price_with_tax)} na produkty\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n        const country = this.props.store.enums.data.find((x => x._id === deliveryData.country));\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.container, classes.spacingBottom)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classes.mt4}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.name')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {deliveryData.nameSurname}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter, classes.mt3)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.email')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {deliveryData.email}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter, classes.mt3)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.tel')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {`+${deliveryData.tel}`}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.mt6)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('delivery_address')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.flexCol, classes.textRight)}>\r\n                                        <div className={classes.textXs}>\r\n                                            {deliveryData.street}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt1)}>\r\n                                            {`${deliveryData.email}, ${deliveryData.psc}`}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt1)}>\r\n                                            {country ? country.name : ''}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt2, classes.fontSemibold)} onClick={() => { this.props.changeStep(3) }}>\r\n                                            {this.props.translate('edit')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.mt5}>\r\n                            <hr className={classNames(classes.w100, classes.mb4, classes.hrLine)} />\r\n                            {this.renderCartitems()}\r\n                        </Grid>\r\n\r\n                        {this.renderStarterpackDiscount()}\r\n\r\n                        <Grid item xs={12} className={classes.mt6}>\r\n                            <hr className={classNames(classes.w100, classes.mb4, classes.hrLine)} />\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.discountCode}\r\n                                field=\"discountCode\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.fixedBottomBar, classes.py4)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.flexCol, classes.w100)}>\r\n\r\n                            {this.renderDiscounts()}\r\n\r\n                            <div className={classNames(classes.dFlex, classes.mt2, classes.justifyContentBetween)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.fontMedium)}>\r\n                                        {this.props.translate('totalPrice')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {this.props.translate('price_with_tax')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold)}>\r\n                                    {this.getTotalPrice()}\r\n                                </div>\r\n                            </div>\r\n                            <Button\r\n                                onClick={this.proceedCheckout}\r\n                                fullwidth\r\n                                className={classNames(classes.mt4)}>\r\n                                {this.props.translate('continue')}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n)(CheckoutSummary);","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport DeliveryPayment from './DeliveryPayment';\r\nimport CheckoutSummary from './CheckoutSummary'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    checkoutStep: {\r\n        width: '25%',\r\n        height: '60px',\r\n        background: 'red',\r\n    },\r\n    checkoutStepActive: {\r\n        background: 'green'\r\n    }\r\n});\r\n\r\nfunction Checkout(props) {\r\n    const [currentStep, setCurrentStep] = useState(3);\r\n    const { classes } = props;\r\n\r\n    const changeStep = (step) => {\r\n        setCurrentStep(step)\r\n    }\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.dFlex, classes.w100)}>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep, classes.checkoutStepActive)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                {currentStep === 3 && <DeliveryPayment changeStep={changeStep}/>}\r\n                {currentStep === 4 && <CheckoutSummary changeStep={changeStep}/>}               \r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(Checkout);","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport compose from '../../compose';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport config from '../../config.json';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productThumbnail: {\r\n        width: '70px'\r\n    },\r\n    itemCountBtn: {\r\n        backgroundColor: '#ececec',\r\n        width: '24px',\r\n        height: '24px',\r\n        lineHeight: '23px',\r\n        textAlign: 'center',\r\n        fontSize: '19px',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer'\r\n    },\r\n    itemCount: {\r\n        width: '45px',\r\n        textAlign: 'center',\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nfunction CartItem(props) {\r\n    const { classes } = props;\r\n    const renderVariants = () => {\r\n        return (\r\n            <div className={classNames(classes.textXs2)}>Variant</div>\r\n        );\r\n    }\r\n\r\n    const [img, setImg] = useState(null);\r\n    const [challenge, setChallenge] = useState(null);\r\n\r\n    const getImage = async (currentChallange = null) => {\r\n        try {\r\n            console.log(currentChallange);\r\n            if(props.thumbnailId || currentChallange) {\r\n                const data = await props.store.getFile(currentChallange ? currentChallange.logoId : props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    const getChallenge = async () => {\r\n        const challenges = await props.doby.getChallenges();\r\n        const currentChallange = challenges.data.find(x => x._id === props.challengeRef);\r\n        setChallenge(currentChallange);\r\n        getImage(currentChallange);\r\n    }\r\n\r\n    const removeCartItem = () => props.doby.cartRemoveProduct(props.productId);\r\n    const increaseItemCount = (increase) => props.doby.cartIncreaseCount(props.productId, increase);\r\n\r\n    useEffect( async () => {\r\n        if(props.challengeRef) {\r\n            await getChallenge();\r\n            return;\r\n        }\r\n        getImage();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classNames(classes.flexCol)}>\r\n            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <img\r\n                            className={classes.productThumbnail}\r\n                            src={img || ''} alt=\"\" />\r\n                    </div>\r\n\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames(classes.textXs)}>{challenge ? challenge.name : props.productName}</div>\r\n                        <div>{renderVariants()}</div>\r\n                    </div>\r\n                </div>\r\n                <div><ClearIcon onClick={removeCartItem} /></div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.alignItemsEnd, classes.justifyContentBetween)}>\r\n                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                    { props.catalogId !== \"pack\" && <>\r\n                    <div className={classNames(classes.itemCountBtn)} onClick={() => increaseItemCount(-1)}>-</div>\r\n                    <div className={classNames(classes.itemCount, classes.textXs)}>{props.productCount}ks</div>\r\n                    <div className={classNames(classes.itemCountBtn)} onClick={() => increaseItemCount(1)}>+</div>\r\n                    </> }\r\n                    <div className={classNames(classes.ml4, classes.textXs2)}>{props.productCount <= props.countInStock ? props.translate('in_stock') : props.translate('out_stock')}</div>\r\n                </div>\r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.fontBold)}>{formatPrice(Number(props.priceWithTax) * Number(props.productCount))}</div>\r\n                    <div className={classNames(classes.textXs2, classes.textRight)}>{props.translate('with_tax')}</div>\r\n                </div>\r\n            </div>\r\n            <hr className={classNames(classes.w100, classes.mt4, classes.mb4, classes.hrLine)} />\r\n        </div>\r\n    );\r\n}\r\n\r\nCartItem.propTypes = {\r\n    productName: PropTypes.string.isRequired,\r\n    techParams: PropTypes.array,\r\n    priceWithTax: PropTypes.number.isRequired,\r\n    thumbnailId: PropTypes.string,\r\n    productId: PropTypes.string.isRequired,\r\n    catalogId: PropTypes.string.isRequired,\r\n    productCount: PropTypes.number.isRequired,\r\n    countInStock: PropTypes.number.isRequired,\r\n    challengeRef: PropTypes.string,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withDoby,\r\n    withStore,\r\n    withUser,\r\n    withLocalization\r\n)(CartItem);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\nimport CartItem from './CartItem';\r\nimport config from '../../config.json';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    emptyCartImg: {\r\n        width: '60%'\r\n    },\r\n    bottomSection: {\r\n        marginTop: '20px',\r\n        bottom: '0'\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nclass Cart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.doby.cartGetProducts();\r\n    }\r\n\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    getCartProductCount = () => {\r\n        const { cart } = this.props.doby;\r\n        return cart.data.products.length;\r\n    }\r\n\r\n    goToEshop = () => this.props.history.push(`/eshop`);\r\n    goToCheckout = () => this.props.history.push('/eshop/checkout');\r\n    \r\n    renderEmptyCart = ()=> {\r\n        const { classes } = this.props;\r\n        return ( \r\n            <div className={classNames(classes.flexCol)}>\r\n                <div className={classNames(classes.mt8, classes.textCenter)}>\r\n                    <img className={classes.emptyCartImg} alt=\"\" src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.pngmart.com%2Ffiles%2F6%2FSheep-PNG-Clipart.png&f=1&nofb=1\"/>\r\n                </div>\r\n                \r\n                <div className={classNames(classes.textCenter, classes.mt4)}>\r\n                    {this.props.translate('cart_is_empty1')}<br/>\r\n                    {this.props.translate('cart_is_empty2')}\r\n                </div>\r\n\r\n                <Button className={classNames(classes.mt4)}\r\n                    onClick={this.goToEshop}\r\n                    fullwidth\r\n                >\r\n                    {this.props.translate('go_to_eshop')}\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderCartItems = ()=> {\r\n        const { products } = this.props.doby.cart.data;\r\n        return products.map(item => {\r\n            const { product } = item;\r\n            return (\r\n                <CartItem \r\n                    key={product._id}\r\n                    productId={product._id}\r\n                    productName={product.name}\r\n                    priceWithTax={product.price_with_tax}\r\n                    thumbnailId={product.thumbnailId}\r\n                    productCount={item.count}\r\n                    countInStock={product.count}\r\n                    catalogId={product.catalog_id}\r\n                    challengeRef={product.challengeRef && product.challengeRef.id}\r\n                    //techParams={product.techParams}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    getTotalPrice = ()=> {\r\n        let price = 0;\r\n        const { products } = this.props.doby.cart.data;\r\n        for(const item of products) {\r\n            price += (item.count * item.product.price_with_tax);\r\n        }\r\n        return formatPrice(price);\r\n    }\r\n\r\n    renderCart = ()=> {\r\n        const { classes } = this.props;\r\n        return ( \r\n            <>\r\n                { this.renderCartItems() }\r\n                <div className={classNames(classes.bottomSection)}>\r\n                    <Button className={classNames(classes.mt4, classes.mb4)}\r\n                        onClick={this.goToCheckout}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('checkout')}\r\n                    </Button>\r\n\r\n                    {/* <h5 className={classNames(classes.textMd, classes.fontBold, classes.mt1)} style={{display: 'inline-block'}}>{this.props.translate('total_cost')}</h5>\r\n                    <h5 className={classNames(classes.textMd, classes.mt1)} style={{display: 'inline-block', float: 'right', color: '#0e95d4'}}>{this.getTotalPrice()}{config.currency}</h5> */}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const productCount = this.getCartProductCount();\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <h5 className={classNames(classes.textBase, classes.fontRegular, classes.uppercase, classes.mb5)}>{this.props.translate('cart')} {productCount > 0 ? `( ${productCount} )` : ``}</h5>\r\n                    { productCount > 0 ? this.renderCart() : this.renderEmptyCart() }\r\n                </div>\r\n\r\n                <div className={classNames(classes.fixedBottomBar, classes.py4)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.flexCol, classes.w100)}>                           \r\n                            <div className={classNames(classes.dFlex, classes.mt2, classes.justifyContentBetween)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.fontMedium)}>\r\n                                        {this.props.translate('totalPrice')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {this.props.translate('with_tax')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold)}>\r\n                                    {this.getTotalPrice()}\r\n                                </div>\r\n                            </div>          \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nCart.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Cart);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n\r\n    root: {\r\n        justifyContent: 'center'\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    drawer: {\r\n        borderTopLeftRadius: '20px',\r\n        borderTopRightRadius: '20px'\r\n    }\r\n});\r\n\r\nfunction RollerModal(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <Drawer\r\n            anchor=\"bottom\"\r\n            open={props.opened}\r\n            onClose={props.onClose}\r\n            //className={classes.drawer}\r\n            classes={{ paper: classes.drawer }}\r\n        >\r\n            <div className={classNames(classes.container, classes.mt5)}>\r\n                <h5 className={classNames(classes.fontBold, classes.mt7)}>Detaily</h5>\r\n                <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum leo vel orci porta non. Morbi tristique senectus et netus. Porta non pulvinar neque laoreet suspendisse interdum consectetur libero.\r\n                </p>\r\n\r\n                <h5 className={classNames(classes.fontBold, classes.mt7)}>Detaily</h5>\r\n                <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum leo vel orci porta non. Morbi tristique senectus et netus. Porta non pulvinar neque laoreet suspendisse interdum consectetur libero.\r\n                </p>\r\n            </div>\r\n        </Drawer>\r\n    );\r\n}\r\n\r\nRollerModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(RollerModal);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport config from '../../config.json';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport classNames from 'classnames';\r\nimport Select from '../shared/Select';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport ItemCard from './ItemCard';\r\nimport RollerModal from './RollerModal';\r\n\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    root: {\r\n        backgroundColor: '#f7f7f8'\r\n    },\r\n    content: {\r\n        padding: 0,\r\n    },\r\n    imageContainer: {\r\n        width: '100%',\r\n        height: '300px',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n        //background: 'red',\r\n        // margin: -2 * theme.spacing.unit\r\n    },\r\n    productImage: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)'\r\n    },\r\n    productContent: {\r\n        position: 'relative',\r\n        padding: 10\r\n    },\r\n    productTitle: {\r\n        margin: 0,\r\n        padding: 0,\r\n        paddingBottom: 5,\r\n        fontSize: 19\r\n    },\r\n    productPrice: {\r\n        margin: 0,\r\n        padding: 0,\r\n        fontSize: 15,\r\n        display: 'inline-block'\r\n    },\r\n    productPriceDPH: {\r\n        color: 'grey',\r\n        fontSize: 9\r\n    },\r\n});\r\n\r\nconst _defaultState = {\r\n    detailImage: null,\r\n    selectedVariants: {},\r\n    selectedProduct: null,\r\n    detailsModalOpened: false,\r\n    showSnackbar: false,\r\n    lastLocation: window.location\r\n};\r\n\r\nclass ProductDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = _defaultState;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.lastLocation !== window.location.href) {\r\n            this.setState({..._defaultState, lastLocation: window.location.href});\r\n            this.fetchData();\r\n        }\r\n    }\r\n\r\n    fetchDetailImage = async () => {\r\n        const { imageId } = this.state.selectedProduct;\r\n        if(imageId) {\r\n            const data = await this.props.store.getFile(imageId);\r\n            let reader = new FileReader();\r\n            reader.onloadend = () => this.setState({detailImage: reader.result});\r\n            reader.readAsDataURL(data);\r\n        } \r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { _id } = this.props.match.params;\r\n        await this.props.doby.getProductsByCatalogId(_id);\r\n\r\n        const filter = [{ field: \"main\", value: true }];\r\n        await this.props.doby.getProducts(filter);\r\n\r\n        const catalogProducts = this.props.doby.catalog.data;\r\n        if(catalogProducts.length > 0) {\r\n            this.setState({ selectedProduct: catalogProducts[0] }, () => {\r\n                this.fetchDetailImage();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleChange = (name, value) => this.setState({ [name]: value });\r\n\r\n    handleChangeDropdown = (name, value) => {\r\n        this.setState((state) => {\r\n            return {\r\n                ...state,\r\n                selectedVariants: {\r\n                    ...state.selectedVariants,\r\n                    [name]: value\r\n                }\r\n            };\r\n        }, () => {\r\n            const product = this.getProductByDropdownSelection();\r\n            this.setState({ selectedProduct: product }, ()=> this.fetchDetailImage());\r\n        });\r\n    }\r\n\r\n    handleProductImageLoaded = (e) => {\r\n        let width = e.target.naturalWidth;\r\n        let height = e.target.naturalHeight;\r\n        if (height < width) {\r\n            e.target.style.height = '100%';\r\n            e.target.style.width = 'auto';\r\n        } else {\r\n            e.target.style.width = '100%';\r\n            e.target.style.height = 'auto';\r\n        }\r\n    }\r\n\r\n    renderDropdowns = () => {\r\n        let dropdowns = [];\r\n        for (let variantKey in this.props.doby.productVariants.data) {\r\n            dropdowns.push(\r\n                <Select\r\n                    key={variantKey}\r\n                    value={this.state.selectedVariants[variantKey] ? this.state.selectedVariants[variantKey].toString() : ''}\r\n                    field={variantKey}\r\n                    onChange={this.handleChangeDropdown}\r\n                    data={this.props.doby.productVariants.data[variantKey].data}\r\n                    textField={\"name\"}\r\n                    fullWidth\r\n                    required\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                { dropdowns}\r\n            </>\r\n        );\r\n    }\r\n\r\n    getProductByDropdownSelection = () => {\r\n        //NOTE: musme vybrat tolko dropdownov kolko mame unikatnych parametrov pre produkt variant\r\n        if (Object.keys(this.state.selectedVariants).length !== Object.keys(this.props.doby.productVariants.data).length)\r\n            return null;\r\n\r\n        for (let variant of this.props.doby.catalog.data) {\r\n            let hasAllRequirements = false;\r\n            for (let variantKey in this.state.selectedVariants) {\r\n                if (variant.tech_param && variant.tech_param[variantKey] === this.state.selectedVariants[variantKey]) {\r\n                    hasAllRequirements = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (hasAllRequirements)\r\n                return variant\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addToCart = () => {\r\n        if (this.state.selectedProduct) {\r\n            this.props.doby.cartAddProduct(this.state.selectedProduct);\r\n            this.setState({showSnackbar: true});\r\n        }\r\n    }\r\n\r\n    showProductDetail = (product) => {\r\n        if (product.catalog_id && product.catalog_id.length > 0)\r\n            this.props.history.push(`/eshop/product/${product.catalog_id}`);\r\n    }\r\n\r\n    renderSimillarProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.isLoading ? (\r\n            <div style={{ flexGrow: 1 }}>\r\n                <LinearProgress color=\"secondary\" />\r\n            </div>) : products.data.map(product => {\r\n                return (\r\n                    <Grid item xs={6} sm={3} lg={2} key={product._id}>\r\n                        <ItemCard\r\n                            onClick={() => this.showProductDetail(product)}\r\n                            name={product.name}\r\n                            price={product.price_with_tax}\r\n                            curr={config.currency}\r\n                            Id={product.thumbnailId}\r\n                            onViz={this.props.store.getFile}\r\n                            source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                            //membersOnly\r\n                        />\r\n                    </Grid>\r\n                );\r\n            })\r\n    }\r\n\r\n    showAllProductDetails = () => this.setState({ detailsModalOpened: true });\r\n    closeDetailsModal = () => this.setState({ detailsModalOpened: false });\r\n\r\n    renderProductDetail = () => {\r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classes.imageContainer}>\r\n                    <img\r\n                        className={classes.productImage}\r\n                        src={this.state.detailImage ? this.state.detailImage : ''}\r\n                        onLoad={(e) => { this.handleProductImageLoaded(e) }}\r\n                        alt={''}\r\n                    />\r\n                </div>\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <h5 className={classNames(classes.fontBold)}>{this.state.selectedProduct ? this.state.selectedProduct.name : ''}</h5>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.mb3)}>\r\n                        <div className={classes.fontBold}>{this.state.selectedProduct ? formatPrice(this.state.selectedProduct.price_with_tax) : ''} <small className={classes.productPriceDPH}>s DPH</small> </div>\r\n                        <div className={classes.productStock}>{this.state.selectedProduct ? this.state.selectedProduct.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock') : ''}</div>\r\n                    </div>\r\n\r\n                    {this.renderDropdowns()}\r\n                    { console.log(this.state.selectedProduct)} \r\n\r\n                    <Button\r\n                        className={classNames(classes.mt4, classes.mb3)}\r\n                        onClick={this.addToCart}\r\n                        disabled={!this.state.selectedProduct || (this.state.selectedProduct && this.state.selectedProduct.disabled)}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('add_to_cart')}\r\n                    </Button>\r\n\r\n                    <p>\r\n                        {this.state.selectedProduct ? this.state.selectedProduct.short_description : ''}\r\n                    </p>\r\n\r\n                    <Button\r\n                        className={classNames(classes.mt4, classes.mb3)}\r\n                        onClick={this.showAllProductDetails}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('all_product_details')}\r\n                    </Button>\r\n\r\n                    <h5 className={classNames( classes.fontBold, classes.mt7)}>{this.props.translate('find_similar_products')}</h5>\r\n\r\n                    <Grid container spacing={24} className={classes.mt2}>\r\n                        {this.renderSimillarProducts()}\r\n                    </Grid>\r\n                </div>\r\n\r\n                { <RollerModal\r\n                    onClose={this.closeDetailsModal}\r\n                    opened={this.state.detailsModalOpened}\r\n                />}\r\n            </>\r\n        );\r\n    }\r\n\r\n    handleClose = () => this.setState({showSnackbar: false});\r\n    render() {\r\n        return (\r\n            <>\r\n                { this.props.doby.catalog.isLoading ? (\r\n                    <div style={{ flexGrow: 1 }}>\r\n                        <LinearProgress color=\"secondary\" />\r\n                    </div>\r\n                ) : this.renderProductDetail()}\r\n\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'left',\r\n                    }}\r\n                    open={this.state.showSnackbar}\r\n                    autoHideDuration={6000}\r\n                    onClose={this.handleClose}\r\n                    message={this.props.translate('successfully_added_to_cart')}\r\n                    action={\r\n                        <React.Fragment>\r\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\r\n                                <CloseIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nProductDetail.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withStore,\r\n    withUser,\r\n    withLocalization\r\n)(ProductDetail);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  countryId: null,\n  disabled: false,\n  price: 0,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChangeCountryRef = (name, value) => {\n    this.setState({ [name]: { id: value } });\n  };\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addTransport,\n      refreshTransports,\n      editTransport\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editTransport(this.state);\n      } else {\n        await addTransport(this.state);\n      }\n      refreshTransports();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  async componentDidMount() {\n    try {\n      const { getEnums, } = this.props.store;\n      const filter = [\n        { field: \"enumTypeId\", value: 5 },\n        { field: \"disabled\", value: false },\n      ];\n      await getEnums(filter);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, price, key, countryId } = this.state;\n    const { enums } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={countryId}\n          field=\"countryId\"\n          onChange={this.handleChange}\n          data={enums.data}\n          textField=\"name\"\n          disabled={disabled}\n        />\n        <NumInput\n          value={price}\n          field=\"price\"\n          onChange={this.handleChange}\n          min={0}\n          required\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: 'price', type: 'num' },\r\n  { field: 'key', type: 'num' },\r\n  { field: 'disabled', type: 'bool' },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getTransports(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteTransport } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='transports'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteTransport}\r\n          title={translate('transports')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='transports'\r\n        />\r\n        <FormDialog\r\n          title={translate('transport')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport getSharedStyles from '../../style';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n    const {classes} = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import config from '../config';\r\nimport { mail, storage } from \"kd-web\";\r\nimport * as signalR from '@aspnet/signalr';\r\n\r\nexport const send = async (data) => {\r\n  try {\r\n    return await mail.send(data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const sendMock = async () => {\r\n  try {\r\n    const data =    {\r\n      subject: \"subject\",\r\n      body: \"body\",\r\n      from: \"mail@gmail.com\",\r\n      fromName: \"mailer\",\r\n      recipientRef: {\r\n       id: \"5fef09fe7d1c7341543b71a5\"\r\n      },\r\n      templateId: 1,\r\n      params: [\"<b>toto je test</b>\"]\r\n   };\r\n\r\n    return await mail.send(data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getToken = () => {\r\n  return storage.getUser().refreshToken;\r\n}\r\n\r\nconst onConnect = (userId) => {\r\n  console.log(\"hub_connect\", userId);\r\n}\r\n\r\nconst onDisconnect = (userId) => {\r\n  console.log(\"hub_disconnect\", userId);\r\n}\r\n\r\nexport const initHub = (onNotification) => {\r\n  const connection = new signalR.HubConnectionBuilder()\r\n    .withUrl(`${config.url.mail}/hub`, { accessTokenFactory: getToken })\r\n    .configureLogging(signalR.LogLevel.Error)\r\n    .build();\r\n\r\n  connection.start().catch(err => {\r\n    console.error(\"hub\", err)\r\n  });\r\n\r\n  connection.on(\"connect\", onConnect);\r\n  connection.on(\"disconnect\", onDisconnect);\r\n  connection.on(\"notification\", onNotification);\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport { withRouter } from 'react-router';\r\nimport classNames from 'classnames';\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport getSharedStyles from '../../../style';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport config from '../../../config.json';\r\nimport * as mailUtils from \"../../../utils/mailUtils\";\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    emptyCartImg: {\r\n        width: '60%'\r\n    },\r\n});\r\n\r\nclass VerificationPayment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            succeeded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    sendCouponMail = async(coupon) =>{\r\n        const { user } = this.props.user;\r\n        const data = {\r\n            subject: this.props.translate('email_coupon_subject'),\r\n            from: config.mail.address,\r\n            fromName: config.mail.name,\r\n            recipientRef: {\r\n                id: user._id\r\n            },\r\n            templateId: config.mail.sendCouponTemplate,\r\n            params: [user.name, coupon]\r\n        };\r\n        await mailUtils.send(data);\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const query = new URLSearchParams(this.props.location.search);\r\n        if (query) {\r\n            const id = query.get('id');\r\n            if (id) {\r\n                const result = await this.props.doby.verifyOrder(id);\r\n                if(result) {\r\n                    this.setState({succeeded: true});\r\n                    this.props.doby.cartRemoveProducts();\r\n\r\n                    if(result.coupon) {\r\n                        await this.sendCouponMail(result.coupon.code);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    goToEshop = () => this.props.history.push(`/eshop`);\r\n\r\n    render = () => {   \r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.flexCol, classes.container)}>\r\n                    { \r\n                        this.props.doby.checkout.isLoading ? (<CircularProgress/>) : (\r\n                            <>\r\n                                <div className={classNames(classes.mt8, classes.textCenter)}>\r\n                                    <img className={classes.emptyCartImg} alt=\"\" src={this.state.succeeded ? \"https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/792/Tick_Mark_Dark-512.png\" : \"https://nika.shop/wp-content/uploads/2020/01/fail-png-7.png\"} />\r\n                                </div>\r\n                                <div className={classNames(classes.textCenter, classes.mt4)}>\r\n                                    {this.props.translate(this.state.succeeded ? 'payment_successfull' : 'payment_failed')}\r\n                                </div>\r\n                            </>\r\n                        ) \r\n                    }\r\n\r\n                    <Button \r\n                        className={classNames(classes.mt4)}\r\n                        onClick={this.goToEshop}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('go_to_eshop')}\r\n                    </Button>\r\n    \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n    withRouter,\r\n)(VerificationPayment);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../../shared/TextInput\";\r\nimport Select from \"../../shared/Select\";\r\nimport Form from \"../../shared/form/Form\";\r\nimport DatePicker from \"../../shared/DatePicker\";\r\nimport FileInput from \"../../shared/FileInput\";\r\nimport NumInput from \"../../shared/NumInput\";\r\nimport config from \"../../../config.json\";\r\n\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport compose from \"../../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  description: \"\",\r\n  summitsRef: [],\r\n  serieRef: null,\r\n  difficulty: 1,\r\n  start: new Date(),\r\n  end: new Date(),\r\n  _img: null,\r\n  _thumbnail: null,\r\n  _logo: null,\r\n  _badge: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getSummits, getSeries } = this.props.doby;\r\n\r\n      await getSummits();\r\n      await getSeries();\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleChangeSummitsRef = (name, value) => {\r\n    const v = value.map((x) => ({ id: x }));\r\n    this.setState({ [name]: v });\r\n  };\r\n\r\n  handleChangeSerieRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addChallenge, refreshChallenges, editChallenge } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editChallenge(this.state);\r\n      } else {\r\n        await addChallenge(this.state);\r\n      }\r\n\r\n      refreshChallenges();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      name,\r\n      description,\r\n      start,\r\n      end,\r\n      summitsRef,\r\n      serieRef,\r\n      difficulty,\r\n      _img,\r\n      _thumbnail,\r\n      _logo,\r\n      _badge,\r\n    } = this.state;\r\n    const { summits, series } = this.props.doby;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <TextInput\r\n          value={name}\r\n          field=\"name\"\r\n          onChange={this.handleChange}\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <Select\r\n          value={serieRef ? serieRef.id : null}\r\n          field=\"serieRef\"\r\n          onChange={this.handleChangeSerieRef}\r\n          data={series.data}\r\n          textField=\"name\"\r\n          required\r\n          idField=\"id\"\r\n          disabled={disabled}\r\n        />\r\n\r\n        <NumInput\r\n          value={difficulty}\r\n          field=\"difficulty\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          required\r\n        />\r\n\r\n        <DatePicker\r\n          value={start}\r\n          field=\"start\"\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <DatePicker\r\n          value={end}\r\n          field=\"end\"\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={summitsRef.map((x) => x.id)}\r\n            field=\"summitsRef\"\r\n            onChange={this.handleChangeSummitsRef}\r\n            fullWidth\r\n            data={summits.data}\r\n            textField=\"name\"\r\n            required\r\n            multiple\r\n            idField=\"id\"\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_img}\r\n          field=\"_img\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.imageSize}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_thumbnail}\r\n          field=\"_thumbnail\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.thumbnailSize}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/png\"\r\n          value={_logo}\r\n          field=\"_logo\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_badge}\r\n          field=\"_badge\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.badgeSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../../shared/table/Table\";\r\nimport FormDialog from \"../../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../../compose\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  { field: \"start\", type: \"date\" },\r\n  { field: \"end\", type: \"date\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getChallenges(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteChallenge } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"challenges\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteChallenge}\r\n          title={translate(\"challenges_title\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"challenges\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"challenge_title\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Form from './Form';\r\nimport Table from './Table';\r\n\r\nimport compose from '../../../compose';\r\nimport withUser from '../../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport getSharedStyles from \"../../style\";\r\nimport compose from \"../../compose\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    borderRadius: \"50px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    objectFit: \"cover\",\r\n  },\r\n  postImgWrapper: {\r\n    width: \"100%\",\r\n    height: \"220px\",\r\n    background: \"rgba(0,0,0,0.1)\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  postImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  postCard: {\r\n    background: \"#ffffff\",\r\n  },\r\n});\r\n\r\nconst convertDate = (date) => {\r\n  return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n};\r\n\r\nfunction ActivityPost(props) {\r\n  const { classes } = props;\r\n  const climbCreated = new Date(props.climbCreated);\r\n\r\n  return (\r\n    <div className={classNames(props.className, classes.postCard, classes.py5)}>\r\n      <div className={classNames(classes.flexCol, classes.w100)}>\r\n        <div className={classNames(classes.container)}>\r\n          <div\r\n            className={classNames(\r\n              classes.dFlex,\r\n              classes.w100,\r\n              classes.alignItemsCenter,\r\n              classes.justifyContentBetween\r\n            )}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div className={classNames(classes.profileImgHolder)}>\r\n                <img\r\n                  alt=\"avatarImg\"\r\n                  src={\r\n                    props.avatar\r\n                      ? \"data:image/jpeg;base64,\" + props.avatar\r\n                      : \"./img/user-img.jpg\"\r\n                  }\r\n                  className={classNames(classes.profileImg)}\r\n                />\r\n              </div>\r\n              <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                <div className={classNames(classes.textXs)}>\r\n                  {props.userName}\r\n                </div>\r\n                <div className={classNames(classes.textXs2, classes.text200)}>\r\n                  {props.userAddress}\r\n                </div>\r\n                <div className={classNames()}></div>\r\n              </div>\r\n            </div>\r\n            <div>...</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={classNames(classes.postImgWrapper, classes.mt5)}>\r\n          <img\r\n            alt=\"summitImg\"\r\n            src={\r\n              props.image\r\n                ? \"data:image/jpeg;base64,\" + props.image\r\n                : \"./img/user-img.jpg\"\r\n            }\r\n            className={classes.postImg}\r\n          />\r\n        </div>\r\n\r\n        <div className={classNames(classes.container, classes.mt5)}>\r\n          <div className={classNames(classes.flexCol, classes.w100)}>\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div\r\n                className={classNames(\r\n                  classes.dFlex,\r\n                  classes.alignItemsCenter\r\n                )}\r\n              >\r\n                <div>Ikona</div>\r\n                <div className={classNames(classes.FlexCol, classes.ml3)}>\r\n                  <div className={classNames(classes.textXs)}>\r\n                    {props.summitName}\r\n                  </div>\r\n                  <div className={classNames(classes.textXs2, classes.text200)}>\r\n                    {`${props.summitElevation}m | Pridan ${convertDate(\r\n                      climbCreated\r\n                    )}`}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className={classNames(\r\n                  classes.flexRCol,\r\n                  classes.alignItemsCenter\r\n                )}\r\n              >\r\n                <div className={classNames(classes.textXs)}>\r\n                  {props.challengeName}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.textXs2,\r\n                    classes.text200,\r\n                    classes.textRight\r\n                  )}\r\n                >{`${props.challengeFinishedSummits}/${props.challengeAllSummits}`}</div>\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.textXs2, classes.mt3)}>\r\n              {props.description}\r\n            </div>\r\n            <div\r\n              className={classNames(\r\n                classes.w100,\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween,\r\n                classes.mt3\r\n              )}\r\n            >\r\n              <div className={classNames()}>Likes {props.likesCount}</div>\r\n              <div className={classNames()}>Comments</div>\r\n              <div className={classNames()}>Share</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nActivityPost.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  userName: PropTypes.string.isRequired,\r\n  userAddress: PropTypes.string.isRequired,\r\n  avatar: PropTypes.string.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  summitName: PropTypes.string.isRequired,\r\n  summitElevation: PropTypes.string.isRequired,\r\n  climbCreated: PropTypes.string.isRequired,\r\n  challengeName: PropTypes.string.isRequired,\r\n  challengeAllSummits: PropTypes.number.isRequired,\r\n  challengeFinishedSummits: PropTypes.number.isRequired,\r\n  likesCount: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withLocalization)(ActivityPost);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport ActivityPost from '../dobyComponents/ActivityPost'\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n    filterIconHolder: {\r\n        width: '60px'\r\n    },  \r\n    tabsRootClasses: {\r\n        background: '#F1F1F1',\r\n        border: '3px solid #F1F1F1'\r\n    },\r\n    tabsInicator: {\r\n        height: '100%',\r\n        background: '#333442',\r\n    },\r\n    tabSelected: {\r\n        zIndex: 3,\r\n        color: 'white'\r\n    },   \r\n    filterOverlay: {\r\n        position: 'fixed',\r\n        height: '100%',\r\n        width: '100%',\r\n        background: '#F7F7F7',\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 15,\r\n        paddingTop: '60px'\r\n    }\r\n});\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentTab: 0,\r\n            filterOpen: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {  \r\n\r\n    }    \r\n\r\n    handleTabChange = (event, tab) => {\r\n        this.setState({currentTab: tab})\r\n    };\r\n\r\n    renderActivityPosts = () => {\r\n        const { classes } = this.props;\r\n        let activityPosts = [0,1,2,3]\r\n\r\n        return activityPosts.map(post=>{\r\n            return (\r\n                <ActivityPost className={classNames(classes.mb3)}/>             \r\n            )\r\n        })\r\n    }\r\n\r\n    openFilter = () => {\r\n        console.log('aaa')\r\n        this.setState({filterOpen: true})\r\n    }\r\n\r\n    applyFilters = () =>{\r\n        this.setState({filterOpen: false})\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <>\r\n               <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                >\r\n                    <Grid item xs={12} className={classNames(classes.pt5, classes.pb2, classes.bgWhite)}>\r\n                        <div className={classNames(classes.container)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.flexGrow)}>\r\n                                    <Tabs\r\n                                        value={this.state.currentTab}\r\n                                        onChange={this.handleTabChange}\r\n                                        aria-label=\"simple tabs example\"\r\n                                        variant=\"fullWidth\"\r\n                                        classes={{root: classes.tabsRootClasses, indicator: classNames(classes.tabsInicator, classes.roundedMd)}}\r\n                                        className={classNames(classes.roundedMd)}\r\n                                    >\r\n                                        <Tab \r\n                                            label=\"Sledujem\" \r\n                                            \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                        <Tab \r\n                                            label=\"Vsetci\"\r\n                                        \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                        <Tab\r\n                                            label=\"Moje\"\r\n                                           \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                    </Tabs>\r\n                                </div>\r\n                                <div className={classNames(classes.filterIconHolder, classes.textRight)} onClick={this.openFilter}>\r\n                                    icon\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Grid>  \r\n\r\n                    <Grid item xs={12} className={classNames()}>\r\n                        {this.renderActivityPosts()}\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                { this.state.filterOpen && <div className={classNames(classes.filterOverlay)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.fontBold, classes.textMd, classes.mt5)}>\r\n                            Filter\r\n                        </div>\r\n                        <Button fullwidth onClick={this.applyFilters}>Pouzit filtre</Button>\r\n                    </div>\r\n                </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(   \r\n    withStyles(styles),\r\n    withUser,\r\n    withLocalization,\r\n    withRouter\r\n)(Home);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport compose from \"../../compose\";\r\n\r\nimport classNames from \"classnames\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  challengeCard: {\r\n    background: \"#333442\",\r\n    color: \"white\",\r\n  },\r\n  dateText: {\r\n    color: \"rgba(255,255,255,0.4)\",\r\n  },\r\n  progressLine: {\r\n    width: \"100%\",\r\n    height: \"5px\",\r\n    borderRadius: \"5px\",\r\n    background: \"#FF8C00\",\r\n  },\r\n});\r\n\r\nconst convertDate = (date) => {\r\n  return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n};\r\n\r\nconst handleDates = (sDateFrom, sDateTo) => {\r\n  const dateFrom = new Date(sDateFrom);\r\n  const dateTo = new Date(sDateTo);\r\n\r\n  //const differenceInMiliseconds = dateTo.getTime() - dateFrom.getTime();\r\n  const differenceInMiliseconds = new Date() - dateTo.getTime();  \r\n  const differenceInDays = Math.round(\r\n    Math.abs(differenceInMiliseconds) / (1000 * 3600 * 24)\r\n  );\r\n  const differenceInHours = Math.round(differenceInMiliseconds / (1000 * 3600));\r\n  const differenceInMinutes = Math.round(differenceInMiliseconds / (1000 * 60));\r\n\r\n  return {\r\n    dateFrom: convertDate(dateFrom),\r\n    dateTo: convertDate(dateTo),\r\n    remaining:\r\n      differenceInDays !== 0\r\n        ? differenceInDays + \"dn\"\r\n        : `${differenceInHours}h ${differenceInMinutes}min`,   \r\n  };\r\n};\r\n\r\nfunction ActiveChallenge(props) {\r\n  const { classes } = props;\r\n  const { dateFrom, dateTo, remaining } = handleDates(\r\n    props.dateFrom,\r\n    props.dateTo\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={classNames(\r\n          classes.challengeCard,\r\n          classes.roundedMd,\r\n          classes.p5,\r\n          props.className\r\n        )}\r\n      >\r\n        <div className={classNames(classes.flexCol, classes.w100)}>\r\n          <div\r\n            className={classNames(\r\n              classes.dFlex,\r\n              classes.justifyContentBetween,\r\n              classes.w100\r\n            )}\r\n          >\r\n            <div className={classNames(classes.flexCol)}>\r\n              <div\r\n                className={classNames(\r\n                  classes.textWhite,\r\n                  classes.textMonoH4,\r\n                  classes.fontBold, \r\n                  classes.pr2\r\n                )}\r\n              >\r\n                {props.name}\r\n              </div>\r\n              <div className={classNames(classes.dateText, classes.textXs2)}>\r\n                {`${dateFrom} - ${dateTo}`}\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.flexCol)}>\r\n              <div className={classNames(classes.textCenter)}>ikona</div>\r\n              <div className={classNames(classes.textXs2)}>{remaining}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={classNames(classes.flexCol, classes.w100, classes.mt4)}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.justifyContentBetween,\r\n                classes.w100\r\n              )}\r\n            >\r\n              <div className={classNames(classes.textXs2)}>tty</div>\r\n              <div className={classNames(classes.textXs2)}>\r\n                {`${props.summitsFinished}/${props.allSummits}`}\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.mt2)}>\r\n              <div className={classNames(classes.progressLine)}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActiveChallenge.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  name: PropTypes.string,\r\n  allSummits: PropTypes.number,\r\n  summitsFinished: PropTypes.number,\r\n  dateFrom: PropTypes.string,\r\n  dateTo: PropTypes.string,\r\n};\r\n\r\nexport default compose(withStyles(styles))(ActiveChallenge);\r\n","import { ajax } from \"kd-web\";\r\nimport config from \"../config.json\";\r\nimport { store } from \"kd-web\";\r\n\r\n//-- [Summits] --\r\nconst SUMMITS_URL = config.url.doby + \"/api/Summit\";\r\n\r\nexport const addSummit = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    await ajax.post(SUMMITS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSummit = async (id) => {\r\n  try {\r\n    return await ajax.getById(SUMMITS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editSummit = async (data) => {\r\n  try {\r\n    await ajax.put(SUMMITS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSummits = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(SUMMITS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSummit = async (id) => {\r\n  try {\r\n    await ajax.delById(SUMMITS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//-- [Challenges] --\r\nconst CHALLENGES_URL = config.url.doby + \"/api/Challenge\";\r\n\r\nexport const addChallenge = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    if (data._logo) {\r\n      const res = await store.postFile(data._logo);\r\n      data.logoId = res._id;\r\n      data._logo = null;\r\n    }\r\n    if (data._badge) {\r\n      const res = await store.postFile(data._badge);\r\n      data.badgeId = res._id;\r\n      data._badge = null;\r\n    }\r\n\r\n    await ajax.post(CHALLENGES_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getChallenge = async (id) => {\r\n  try {\r\n    let challenge = await ajax.getById(CHALLENGES_URL, id);\r\n    if (challenge) {\r\n      challenge.summitsRefIds = challenge.summitsRef.map((x) => x.id);\r\n    }\r\n\r\n    return challenge;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editChallenge = async (data) => {\r\n  try {\r\n    await ajax.put(CHALLENGES_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getChallenges = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(CHALLENGES_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteChallenge = async (id) => {\r\n  try {\r\n    await ajax.delById(CHALLENGES_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Products] --\r\nconst PRODUCTS_URL = config.url.doby + \"/api/Product\";\r\n\r\nexport const addProduct = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    if (data.productsRef) {\r\n      data.productsRef = data.productsRef.map((productId) => ({\r\n        id: productId,\r\n      }));\r\n    }\r\n\r\n    await ajax.post(PRODUCTS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProduct = async (id) => {\r\n  try {\r\n    return await ajax.getById(PRODUCTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProductsByCatalogId = async (id) => {\r\n  try {\r\n    return await ajax.getById(`${PRODUCTS_URL}/catalog`, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editProduct = async (data) => {\r\n  try {\r\n    await ajax.put(PRODUCTS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProducts = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(PRODUCTS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (id) => {\r\n  try {\r\n    await ajax.delById(PRODUCTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//-- [Orders] --\r\nconst ORDERS_URL = config.url.doby + \"/api/Order\";\r\n\r\nexport const addOrder = async (data) => {\r\n  try {\r\n    console.log(data);\r\n    return await ajax.post(ORDERS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getOrder = async (id) => {\r\n  try {\r\n    return await ajax.getById(ORDERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const verifyOrder = async (paymentId) => {\r\n  try {\r\n    return await ajax.post(`${ORDERS_URL}/verify?paymentId=${paymentId}`, {});\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Coupon] --\r\nconst COUPON_URL = config.url.doby + \"/api/Coupon\";\r\n\r\nexport const redeeemDiscountCode = async (coupon) => {\r\n  try {\r\n    return await ajax.getById(COUPON_URL, coupon);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Posts] --\r\nconst POSTS_URL = config.url.doby + \"/api/Post\";\r\n\r\nexport const addPost = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n\r\n    await ajax.post(POSTS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPost = async (id) => {\r\n  try {\r\n    return await ajax.getById(POSTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editPost = async (data) => {\r\n  try {\r\n    await ajax.put(POSTS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPosts = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(POSTS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deletePost = async (id) => {\r\n  try {\r\n    await ajax.delById(POSTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Series] --\r\nconst SERIES_URL = config.url.doby + \"/api/Serie\";\r\n\r\nexport const addSerie = async (data) => {\r\n  try {\r\n    // if (data._photo) {\r\n    //   const res = await store.postFile(data._photo);\r\n    //   data.photoId = res._id;\r\n    //   data._photo = null;\r\n    // }\r\n\r\n    await ajax.post(SERIES_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSerie = async (id) => {\r\n  try {\r\n    let serie = await ajax.getById(SERIES_URL, id);\r\n    return serie;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editSerie = async (data) => {\r\n  try {\r\n    await ajax.put(SERIES_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSeries = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(SERIES_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSerie = async (id) => {\r\n  try {\r\n    await ajax.delById(SERIES_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Partners] --\r\nconst PARTNERS_URL = config.url.doby + \"/api/Partner\";\r\n\r\nexport const addPartner = async (data) => {\r\n  try {\r\n    if (data._logo) {\r\n      const res = await store.postFile(data._logo);\r\n      data.logoId = res._id;\r\n      data._logo = null;\r\n    }\r\n    await ajax.post(PARTNERS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPartner = async (id) => {\r\n  try {\r\n    return await ajax.getById(PARTNERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editPartner = async (data) => {\r\n  try {\r\n    await ajax.put(PARTNERS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPartners = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(PARTNERS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deletePartner = async (id) => {\r\n  try {\r\n    await ajax.delById(PARTNERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [User] --\r\nconst USER_URL = config.url.doby + \"/api/user\";\r\n\r\nexport const getUsers = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(USER_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUser = async (id) => {\r\n  try {\r\n    return ajax.getById(USER_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const followUser = async (id) => {\r\n  try {\r\n    return ajax.post(`${USER_URL}/followers?id=${id}`, {});\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const subscribe = async (subscriber) => {\r\n  try {\r\n    return ajax.post(`${config.url.doby}/api/subscriber`, subscriber);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const unfollowUser = async (id) => {\r\n  try {\r\n    return ajax.delById(USER_URL, `followers?id=${id}`);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Climbs] --\r\nconst CLIMBS_URL = config.url.doby + \"/api/Climb\";\r\n\r\nexport const addClimb = async (data) => {\r\n  try {\r\n    await ajax.post(CLIMBS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getClimb = async (id) => {\r\n  try {\r\n    return await ajax.getById(CLIMBS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editClimb = async (data) => {\r\n  try {\r\n    await ajax.put(CLIMBS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getClimbs = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(CLIMBS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteClimb = async (id) => {\r\n  try {\r\n    await ajax.delById(CLIMBS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Downshift from 'downshift';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction renderInput(inputProps) {\n  const { InputProps, classes, ref, ...other } = inputProps;\n\n  return (\n    <TextField\n      InputProps={{\n        inputRef: ref,\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        },\n        ...InputProps,\n      }}\n      {...other}\n    />\n  );\n}\n\nfunction renderSuggestion({ suggestion, index, itemProps, highlightedIndex, selectedItem, textField }) {\n  const isHighlighted = highlightedIndex === index;\n  const isSelected = selectedItem && suggestion._id === selectedItem._id;\n\n  return (\n    <MenuItem\n      {...itemProps}\n      key={suggestion._id}\n      selected={isHighlighted}\n      component=\"div\"\n      style={{\n        fontWeight: isSelected ? 500 : 400,\n      }}\n    >\n      {suggestion[textField]}\n    </MenuItem>\n  );\n}\nrenderSuggestion.propTypes = {\n  highlightedIndex: PropTypes.number,\n  index: PropTypes.number,\n  itemProps: PropTypes.object,\n  selectedItem: PropTypes.string,\n  suggestion: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    flexGrow: 1,\n    position: 'relative',\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  inputRoot: {\n    flexWrap: 'wrap',\n  },\n  inputInput: {\n    width: 'auto',\n    flexGrow: 1,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  }\n});\n\nlet _timer;\nfunction IntegrationDownshift(props) {\n  const { classes } = props;\n\n  const onInputValueChange = (value) => {\n    if (_timer){\n      clearTimeout(_timer);\n    }\n\n    _timer = setTimeout(() => {\n      const filters = [{ field: props.textField, value, op: 'regex' }];\n      props.onFilterChange(filters);\n    }, 500);\n  }\n\n  return (\n    <div className={classes.root}>\n      <Downshift\n        itemToString={item => item ? item[props.textField] : ''} \n        id=\"downshift-simple\" \n        onChange={(value) => props.onChange(props.field, value)} \n        onInputValueChange={onInputValueChange}\n        selectedItem={props.value}\n      >\n        {({\n          getInputProps,\n          getItemProps,\n          getMenuProps,\n          highlightedIndex,\n          inputValue,\n          isOpen,\n          selectedItem,\n        }) => (\n          <div className={classes.container}>\n            {renderInput({\n              fullWidth: props.fullWidth,\n              classes,\n              label: props.label,\n              required: props.required,\n              disabled: props.disabled,\n              InputProps: getInputProps({\n                placeholder: ''\n              })\n            })}\n            <div {...getMenuProps()}>\n              {isOpen ? (\n                <Paper className={classes.paper} square>\n                  {props.data.map((suggestion, index) =>\n                    renderSuggestion({\n                      suggestion,\n                      index,\n                      itemProps: getItemProps({ item: suggestion }),\n                      highlightedIndex,\n                      selectedItem,\n                      textField: props.textField\n                    }),\n                  )}\n                </Paper>\n              ) : null}\n            </div>\n          </div>\n        )}\n      </Downshift>\n    </div>\n  );\n}\n\nIntegrationDownshift.propTypes = {\n  classes: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  data: PropTypes.array.isRequired,\n  value: PropTypes.object,\n  required: PropTypes.bool,\n  field: PropTypes.string.isRequired,\n  textField: PropTypes.string.isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool\n};\n\nexport default withStyles(styles)(IntegrationDownshift);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport compose from \"../../../compose\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport classNames from \"classnames\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withStore from \"../../../consumers/withStore\";\r\n\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Button from \"../../dobyComponents/form/Button\";\r\nimport Flickity from \"react-flickity-component\";\r\n\r\nimport ActiveChallengeCard from \"../../dobyComponents/ActiveChallengeCard\";\r\nimport ChallengeCard from \"../../dobyComponents/ChallengeCard\";\r\nimport ActivityPost from \"../../dobyComponents/ActivityPost\";\r\nimport { getClimbs } from \"./../../../utils/dobyUtils\";\r\nimport Autocomplete from \"../../shared/Autocomplete\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"120px\",\r\n    height: \"120px\",\r\n    borderRadius: \"100px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    objectFit: \"cover\",\r\n  },\r\n  medalItem: {\r\n    width: \"120px\",\r\n    position: \"relative\",\r\n    \"&:after\": {\r\n      content: \"''\",\r\n      display: \"block\",\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100%\",\r\n      height: \"140px\",\r\n      borderRadius: \"10px\",\r\n      background: \"#F5F5F5\",\r\n      zIndex: \"-1\",\r\n    },\r\n  },\r\n  medalImgHolder: {\r\n    width: \"100px\",\r\n    height: \"150px\",\r\n  },\r\n  medalImg: {\r\n    width: \"100%\",\r\n    height: \"auto\",\r\n  },\r\n  medalTitle: {\r\n    minHeight: \"40px\",\r\n  },\r\n  //   medalItem: {\r\n  //     width: \"120px\",\r\n  //     height: \"160px\",\r\n  //     position: \"relative\",\r\n  //   },\r\n  //   medalItemBg: {\r\n  //     background: \"#F5F5F5\",\r\n  //     //background: 'red',\r\n  //     borderRadius: \"10px\",\r\n  //     width: \"100%\",\r\n  //     height: \"160px\",\r\n  //   },\r\n  //   medalItemImg: {\r\n  //     width: \"95px\",\r\n  //     position: \"absolute\",\r\n  //     top: \"45px\",\r\n  //     left: 0,\r\n  //     right: 0,\r\n  //     margin: \"0 auto\",\r\n  //   },\r\n  medalCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n  challengesCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n});\r\n\r\nconst flickityOptions = {\r\n  cellAlign: \"left\",\r\n  contain: true,\r\n  prevNextButtons: false,\r\n  pageDots: false,\r\n};\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      friend: null,\r\n      dobyFriend: null,\r\n      dobyUser: null,\r\n      medals: [],\r\n      unfinishedChallenges: [],\r\n      challengesUserNotParticipate: [],\r\n      currUserFollowingFriend: false,\r\n      myClimbs: [],\r\n      summits: [],\r\n      foundFriend: null,\r\n      watchingYourself: false,\r\n    };\r\n  }\r\n\r\n  buildFilter = (value) => {\r\n    return [\r\n      {\r\n        field: \"userRef.id\",\r\n        op: \"eq\",\r\n        value,\r\n      },\r\n    ];\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { _id } = this.props.match.params;\r\n    const { user } = this.props.user;\r\n\r\n    const watchingYourself = _id === user._id;\r\n    this.setState({ watchingYourself });\r\n\r\n    const dobyUser = await this.props.doby.getUser(user._id);\r\n    this.setState({ dobyUser });\r\n\r\n    const filter = this.buildFilter(_id || user._id);\r\n    const climbs = await getClimbs(filter);\r\n\r\n    if (_id) {\r\n      const dobyFriend = await this.props.doby.getUser(_id);\r\n      const friend = await this.props.user.getUser(_id);\r\n      const currUserFollowingFriend =\r\n        dobyUser.followingRef.find((f) => f.id === _id) !== undefined;\r\n\r\n      this.setState({ dobyFriend, friend, currUserFollowingFriend });\r\n\r\n      this.setMyClimbs(climbs.data, friend);\r\n      this.setUnfinishedChallenges(dobyFriend);\r\n      this.setMedals(dobyFriend);\r\n    } else {\r\n      this.setMyClimbs(climbs.data, user);\r\n      this.setUnfinishedChallenges(dobyUser);\r\n      this.setMedals(dobyUser);\r\n    }\r\n  }\r\n\r\n  setMyClimbs = async (climbs, user) => {\r\n    const myClimbs = climbs.map((c) => {\r\n      if (c.summit && c.summit.imageId)\r\n        this.getFile(c.summit.imageId, this.setImageToClimbCallback, c._id);\r\n\r\n      return {\r\n        ...c,\r\n        userName: user.name,\r\n        userAddress: `${user.city} ${user.country}`,\r\n        avatar: user.avatar,\r\n      };\r\n    });\r\n\r\n    this.setState({ myClimbs });\r\n  };\r\n\r\n  setUnfinishedChallenges = (dobyUser) => {\r\n    const { challenges, challengesRef } = dobyUser;\r\n\r\n    let unfinishedChallenges = [];\r\n    let unfinishedChallengesRef = [];\r\n    if (challengesRef) {\r\n      unfinishedChallengesRef = challengesRef\r\n        .filter((c) => c.finished === null)\r\n        .map((c) => ({ id: c.id, count: c.count }));\r\n    }\r\n\r\n    unfinishedChallenges = unfinishedChallengesRef.map((activeC) => {\r\n      const found = challenges.find((c) => c._id === activeC.id);\r\n      return {\r\n        ...found,\r\n        countFinishedSummits: activeC.count,\r\n      };\r\n    });\r\n\r\n    this.setState({ unfinishedChallenges });\r\n  };\r\n\r\n  setMedals = (dobyUser) => {\r\n    const { challenges, challengesRef } = dobyUser;\r\n\r\n    let medals = [];\r\n    let finishedChallengesRefIDs = [];\r\n    if (challengesRef) {\r\n      finishedChallengesRefIDs = challengesRef\r\n        .filter((c) => c.finished !== null)\r\n        .map((c) => c.id);\r\n    }\r\n\r\n    medals = finishedChallengesRefIDs.map((id) => {\r\n      const medal = challenges.find((c) => c._id === id);\r\n      this.getFile(medal.logoId, this.setLogoToMedalCallback, medal._id);\r\n\r\n      return medal;\r\n    });\r\n\r\n    this.setState({ medals });\r\n  };\r\n\r\n  // Follow/Unfollow user\r\n  followUser = async () => {\r\n    const { _id } = this.props.match.params;\r\n\r\n    this.props.doby.followUser(_id);\r\n    this.setState({ currUserFollowingFriend: true });\r\n  };\r\n  unfollowUser = async (id) => {\r\n    const { _id } = this.props.match.params;\r\n\r\n    this.props.doby.unfollowUser(_id);\r\n    this.setState({ currUserFollowingFriend: false });\r\n  };\r\n\r\n  // Callbacks\r\n  setLogoToMedalCallback = (logoSrc, id) => {\r\n    const medals = [...this.state.medals];\r\n\r\n    this.setState({\r\n      medals: [\r\n        ...medals.map((m) => {\r\n          if (m._id === id) return { ...m, logoSrc };\r\n          return m;\r\n        }),\r\n      ],\r\n    });\r\n  };\r\n  setImageToClimbCallback = (imgSrc, id) => {\r\n    const myClimbs = [...this.state.myClimbs];\r\n\r\n    this.setState({\r\n      myClimbs: [\r\n        ...myClimbs.map((m) => {\r\n          if (m._id === id) return { ...m, imgSrc };\r\n          return m;\r\n        }),\r\n      ],\r\n    });\r\n  };\r\n\r\n  getFile = async (fileId, callback, identificator) => {\r\n    try {\r\n      if (fileId) {\r\n        const data = await this.props.store.getFile(fileId);\r\n\r\n        var reader = new FileReader();\r\n        reader.onloadend = async () => {\r\n          callback(reader.result, identificator);\r\n        };\r\n        reader.readAsDataURL(data);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  joinChallenge = (challenge) => {\r\n    if (challenge._id)\r\n      this.props.history.push(`/challenge-checkout/${challenge._id}`);\r\n  };\r\n\r\n  handleGetChallengesUserNotParticipate = async () => {\r\n    const { dobyUser } = this.state;\r\n\r\n    if (dobyUser) {\r\n      const userChals = dobyUser.challenges.map((c) => c._id);\r\n      const filter = [\r\n        { field: \"end\", value: new Date().toISOString(), op: \"gt\" },\r\n      ];\r\n\r\n      const filteredChals = await this.props.doby.getChallenges(\r\n        filter,\r\n        { field: \"name\", dir: \"asc\" },\r\n        { limit: 1000, skip: 0 },\r\n        false\r\n      );\r\n\r\n      const challengesUserNotParticipate = filteredChals\r\n        ? filteredChals.data.filter(\r\n            (filteredChal) =>\r\n              userChals.find(\r\n                (userChal) => userChal._id === filteredChal._id\r\n              ) === undefined\r\n          )\r\n        : [];\r\n\r\n      this.setState({ challengesUserNotParticipate });\r\n    }\r\n  };\r\n\r\n  handleOnChangeSearchFriends = (name, friend) => {\r\n    this.goToProfileFriend(friend._id);\r\n  };\r\n\r\n  handleOnFilterChangeSearchFriends = async (filter) => {\r\n    await this.props.user.getUsers(filter);\r\n  };\r\n\r\n  renderMedals = () => {\r\n    const { classes } = this.props;\r\n    return this.state.medals.map((medal) => {\r\n      return (\r\n        <div className={\"carousel-cell\"}>\r\n          <div\r\n            className={classNames(\r\n              classes.flexCol,\r\n              classes.medalItem,\r\n              classes.alignItemsCenter\r\n            )}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.medalTitle,\r\n                classes.textXs,\r\n                classes.textCenter,\r\n                classes.flexCol,\r\n                classes.justifyContentCenter,\r\n                classes.px3,\r\n                classes.pt3,\r\n                classes.pb2\r\n              )}\r\n            >\r\n              {medal.name}\r\n            </div>\r\n            <div className={classNames(classes.medalImgHolder)}>\r\n              <img\r\n                alt=\"medalImg\"\r\n                src={medal.logoSrc}\r\n                className={classNames(classes.medalImg)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderMyChallenges = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.unfinishedChallenges.map((challenge) => {\r\n      return (\r\n        <ActiveChallengeCard\r\n          className={classNames(classes.mt3)}\r\n          name={challenge.name}\r\n          allSummits={challenge.summitsRef.length}\r\n          summitsFinished={challenge.countFinishedSummits}\r\n          dateFrom={challenge.start}\r\n          dateTo={challenge.end}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  renderChallenges = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.challengesUserNotParticipate.map((challenge) => {\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <ChallengeCard\r\n            className={classNames(classes.mr5)}\r\n            title={challenge.name}\r\n            description={challenge.description}\r\n            onClickParticipate={() => this.joinChallenge(challenge)}\r\n            onClickMoreInfo={() => {}}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderMyClimbs = () => {\r\n    const { classes } = this.props;\r\n    const { myClimbs, dobyUser, dobyFriend } = this.state;\r\n\r\n    return myClimbs.map((climb) => {\r\n      const {\r\n        description,\r\n        userName,\r\n        userAddress,\r\n        avatar,\r\n        created,\r\n        summit,\r\n        challenge,\r\n        imgSrc,\r\n        likesCount,\r\n      } = climb;\r\n\r\n      const challengeRefFound =\r\n        dobyFriend && challenge\r\n          ? dobyFriend.challengesRef.find((c) => c.id === challenge._id)\r\n          : dobyUser && challenge\r\n          ? dobyUser.challengesRef.find((c) => c.id === challenge._id)\r\n          : null;\r\n      return (\r\n        <ActivityPost\r\n          className={classNames(classes.mt3)}\r\n          description={description}\r\n          userName={userName}\r\n          userAddress={userAddress}\r\n          avatar={avatar}\r\n          image={imgSrc}\r\n          summitName={summit ? summit.name : \"NaN\"}\r\n          summitElevation={summit ? summit.elevation : 0}\r\n          climbCreated={created}\r\n          challengeName={challenge ? challenge.name : \"NaN\"}\r\n          challengeAllSummits={challenge ? challenge.summitsRef.length : 0}\r\n          challengeFinishedSummits={\r\n            challengeRefFound ? challengeRefFound.count : 0\r\n          }\r\n          likesCount={likesCount || 0}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  goToProfileFriend = (id) => this.props.history.push(`/profile-friend/${id}`);\r\n  goToProfileSettings = () => this.props.history.push(`/profile-settings`);\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n    const { user, users } = this.props.user;\r\n    const {\r\n      friend,\r\n      medals,\r\n      unfinishedChallenges,\r\n      dobyFriend,\r\n      dobyUser,\r\n      currUserFollowingFriend,\r\n      foundFriend,\r\n      watchingYourself,\r\n    } = this.state;\r\n\r\n    const isFriendProfile = friend !== null;\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            {/* HEADER */}\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.textXs)}>Domov</div>\r\n                  {!isFriendProfile && (\r\n                    <div>\r\n                      <ClearIcon onClick={this.goToProfileSettings} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* PROFILE IMAGE + FIND FRIENDS */}\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt4\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.profileImgHolder)}>\r\n                    <img\r\n                      alt=\"avatarImg\"\r\n                      src={\r\n                        friend && friend.avatar\r\n                          ? \"data:image/jpeg;base64,\" + friend.avatar\r\n                          : user && user.avatar\r\n                          ? \"data:image/jpeg;base64,\" + user.avatar\r\n                          : \"./img/user-img.jpg\"\r\n                      }\r\n                      className={classNames(classes.profileImg)}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.flexCol,\r\n                      classes.flexGrow,\r\n                      classes.ml5\r\n                    )}\r\n                  >\r\n                    <div\r\n                      className={classNames(\r\n                        classes.dFlex,\r\n                        classes.justifyContentBetween,\r\n                        classes.w100\r\n                      )}\r\n                    >\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.climbsCnt\r\n                            : dobyUser\r\n                            ? dobyUser.climbsCnt\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {translate(\"ofHills\")}\r\n                        </div>\r\n                      </div>\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.followersRef.length\r\n                            : dobyUser\r\n                            ? dobyUser.followersRef.length\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {`${\r\n                            isFriendProfile\r\n                              ? translate(\"followers\")\r\n                              : translate(\"followMe\")\r\n                          }`}\r\n                        </div>\r\n                      </div>\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.followingRef.length\r\n                            : dobyUser\r\n                            ? dobyUser.followingRef.length\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {`${\r\n                            isFriendProfile\r\n                              ? translate(\"heFollow\")\r\n                              : translate(\"following\")\r\n                          }`}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      {isFriendProfile ? (\r\n                        <Button\r\n                          disabled={watchingYourself}\r\n                          fullwidth\r\n                          onClick={\r\n                            currUserFollowingFriend\r\n                              ? this.unfollowUser\r\n                              : this.followUser\r\n                          }\r\n                        >\r\n                          {`${\r\n                            currUserFollowingFriend\r\n                              ? translate(\"following\")\r\n                              : translate(\"follow\")\r\n                          }`}\r\n                        </Button>\r\n                      ) : (\r\n                        <Autocomplete\r\n                          classes={classes}\r\n                          onChange={this.handleOnChangeSearchFriends}\r\n                          onFilterChange={\r\n                            this.handleOnFilterChangeSearchFriends\r\n                          }\r\n                          data={users ? users.data : []}\r\n                          field=\"foundFriend\"\r\n                          textField=\"username\"\r\n                          label={translate(\"searchFriends\")}\r\n                          value={foundFriend}\r\n                          fullWidth\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* POPIS */}\r\n            <Grid item xs={12} className={classNames(classes.mt4)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div className={classNames(classes.fontBold, classes.dBlock)}>\r\n                  {isFriendProfile ? friend.name : user.name}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.fontBold,\r\n                    classes.textXs,\r\n                    classes.dBlock,\r\n                    classes.mt3\r\n                  )}\r\n                >\r\n                  {isFriendProfile\r\n                    ? `${friend.city}, ${friend.country}`\r\n                    : `${user.city}, ${user.country}`}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.textXs2,\r\n                    classes.dBlock,\r\n                    classes.mt1\r\n                  )}\r\n                >\r\n                  {isFriendProfile ? friend.bio : user.bio}\r\n                  {/* Mountain lover  MTB enthusiast. Mountain lover  MTB\r\n                  enthusiast.Mountain lover  MTB enthusiast. */}\r\n                </div>\r\n                <hr\r\n                  className={classNames(\r\n                    classes.w100,\r\n                    classes.mt4,\r\n                    classes.mb4,\r\n                    classes.hrLine\r\n                  )}\r\n                />\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* MEDALS */}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className={classNames(\r\n                classes.mt7,\r\n                classes.bgWhite,\r\n                classes.pt6,\r\n                classes.pb6\r\n              )}\r\n            >\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontSemibold)}>\r\n                    {`${translate(\"medals\")} (${medals.length})`}\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.textXs,\r\n                      classes.text300,\r\n                      classes.fontMedium\r\n                    )}\r\n                  >\r\n                    {translate(\"showAll\")}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Flickity\r\n                  className={classNames(classes.mt4, classes.medalCarousel)}\r\n                  options={flickityOptions}\r\n                  reloadOnUpdate={true}\r\n                >\r\n                  {this.renderMedals()}\r\n                </Flickity>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* ACTUAL CHALLENGES */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontSemibold)}>\r\n                    {`${translate(\"activeChallenges\")} (${\r\n                      unfinishedChallenges.length\r\n                    })`}\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.textXs,\r\n                      classes.text300,\r\n                      classes.fontMedium\r\n                    )}\r\n                  >\r\n                    {isFriendProfile ? \"\" : translate(\"showAll\")}\r\n                  </div>\r\n                </div>\r\n\r\n                {this.renderMyChallenges()}\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* CHALLENGES */}\r\n            {!isFriendProfile && (\r\n              <Grid item xs={12} className={classNames(classes.mt7)}>\r\n                <div className={classNames(classes.container)}>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.dFlex,\r\n                      classes.alignItemsCenter,\r\n                      classes.justifyContentBetween\r\n                    )}\r\n                  >\r\n                    <div className={classNames(classes.fontSemibold)}>\r\n                      Nezmekaj\r\n                    </div>\r\n                    <div\r\n                      className={classNames(\r\n                        classes.textXs,\r\n                        classes.text300,\r\n                        classes.fontMedium\r\n                      )}\r\n                    >\r\n                      {translate(\"showAll\")}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Flickity\r\n                    className={classNames(\r\n                      classes.mt2,\r\n                      classes.challengesCarousel\r\n                    )}\r\n                    options={flickityOptions}\r\n                    reloadOnUpdate={true}\r\n                  >\r\n                    {this.renderChallenges()}\r\n                  </Flickity>\r\n                </div>\r\n              </Grid>\r\n            )}\r\n\r\n            {/* CLIMBS */}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className={classNames(classes.mt7, classes.bgWhite, classes.pt6)}\r\n            >\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.fontSemibold, classes.dBlock)}\r\n                >\r\n                  {translate(\"climbs\")}\r\n                </div>\r\n              </div>\r\n              <div>{this.renderMyClimbs()}</div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Profile);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    iOSSwitchBase: {\r\n        '&$iOSChecked': {\r\n            color: theme.palette.common.white,\r\n            '& + $iOSBar': {\r\n                backgroundColor: '#333442',\r\n            },\r\n        },\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n            easing: theme.transitions.easing.sharp,\r\n        }),\r\n    },\r\n    iOSChecked: {\r\n        transform: 'translateX(15px)',\r\n        '& + $iOSBar': {\r\n            opacity: 1,\r\n            border: 'none',\r\n        },\r\n    },\r\n    iOSBar: {\r\n        borderRadius: 13,\r\n        width: 42,\r\n        height: 24,\r\n        marginTop: -12,\r\n        marginLeft: -22,\r\n        border: 'solid 1px',\r\n        borderColor: theme.palette.grey[400],\r\n        backgroundColor: theme.palette.grey[50],\r\n        opacity: 1,\r\n        transition: theme.transitions.create(['background-color', 'border']),\r\n    },\r\n    iOSIcon: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n    iOSIconChecked: {\r\n        boxShadow: theme.shadows[1],\r\n    },\r\n    controlLabelRoot: {\r\n        marginRight: '0px'\r\n    }\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <FormControlLabel\r\n                classes={{root: classes.controlLabelRoot}}\r\n                control={\r\n                    <Switch\r\n                        classes={{\r\n                            switchBase: classes.iOSSwitchBase,\r\n                            bar: classes.iOSBar,\r\n                            icon: classes.iOSIcon,\r\n                            iconChecked: classes.iOSIconChecked,\r\n                            checked: classes.iOSChecked,\r\n                        }}\r\n                        disableRipple\r\n                        disabled={props.disabled}\r\n                        checked={props.value}\r\n                        onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n                        value={props.field}\r\n                    />\r\n                }\r\n                label={props.label}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(SwitchComponent);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MaskedInput from \"react-text-mask\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from \"../../../style\";\r\n\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  textInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  inputRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction Mask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={inputRef}\r\n      mask={[/\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, /\\d/]}\r\n      placeholderChar={\"\\u2000\"}\r\n      showMask\r\n    />\r\n  );\r\n}\r\n\r\nMask.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TextFieldComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      variant=\"filled\"\r\n      fullWidth={props.fullWidth}\r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      <InputLabel\r\n        htmlFor=\"component-filled\"\r\n        className={classNames(classes.inputLabel)}\r\n      >\r\n        {label}\r\n      </InputLabel>\r\n      <FilledInput\r\n        id=\"outlined-name\"\r\n        label={label}\r\n        value={props.value || \"\"}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        onBlur={props.onBlur}\r\n        margin=\"normal\"\r\n        variant=\"filled\"\r\n        inputComponent={Mask}\r\n        className={classes.textInput}\r\n        classes={{ input: classes.inputRoot }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextFieldComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextFieldComponent));\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    socialConnectCard: {\r\n        background: 'white',\r\n    },\r\n    socialIcon: {\r\n        width: '30px',\r\n        height: '30px',\r\n    }\r\n});\r\n\r\nfunction FacebookConnection(props) {\r\n    const { classes } = props;\r\n\r\n    const handleClick = () => {\r\n        const redirect = process.env.REACT_APP_HOMEPAGE;\r\n        const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n        window.location.replace(url);\r\n    };\r\n\r\n    if (!props.config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.p3, classes.socialConnectCard, classes.roundedMd, classes.dBlock)} onClick={handleClick}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <img src={\"./img/fb-logo.png\"} className={classNames(classes.socialIcon)} />\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames()}>\r\n                            Prida a prepoji Facebook\r\n                        </div>\r\n                        <div className={classNames(classes.textM, classes.text300)}>\r\n                            Njs priateov a prida link na profil\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(FacebookConnection);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    socialConnectCard: {\r\n        background: 'white',\r\n    },\r\n    socialIcon: {\r\n        width: '30px',\r\n        height: '30px',\r\n    }\r\n});\r\n\r\nfunction StravaConnection(props) {\r\n    const { classes } = props;\r\n\r\n    const handleClick = () => {\r\n        const redirect = process.env.REACT_APP_HOMEPAGE;\r\n        // const redirect = 'http://localhost:3000';\r\n        const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n        window.location.replace(url);\r\n    };\r\n\r\n    if (!props.config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.p3, classes.socialConnectCard, classes.roundedMd, classes.dBlock, props.className)} onClick={handleClick}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <img src={\"./img/strava-logo.png\"} className={classNames(classes.socialIcon)} />\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames()}>\r\n                            Prida a prepoji Strava\r\n                        </div>\r\n                        <div className={classNames(classes.textXs2, classes.text300)}>\r\n                            Njs priateov a prida link na profil\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(StravaConnection);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withUtils from \"../../shared/utils/withUtils\";\r\nimport compose from \"../../../compose\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport classNames from \"classnames\";\r\n\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Button from \"../../dobyComponents/form/Button\";\r\nimport Switch from \"../../dobyComponents/form/Switch\";\r\n\r\nimport TextField from \"../../dobyComponents/form/TextField\";\r\nimport TelField from \"../../dobyComponents/form/TelField\";\r\nimport SelectField from \"../../dobyComponents/form/SelectField\";\r\nimport Checkbox from \"../../dobyComponents/form/CheckboxField\";\r\n\r\nimport FacebookConnection from \"../../dobyComponents/socialConnections/FacebookConnection\";\r\nimport StravaConnection from \"../../dobyComponents/socialConnections/StravaConnection\";\r\n\r\nimport _ from \"lodash\";\r\nimport config from \"../../../config.json\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"120px\",\r\n    height: \"120px\",\r\n    minWidth: \"120px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  avatar: {},\r\n  socialConnectCard: {\r\n    background: \"white\",\r\n  },\r\n  socialIcon: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  tel: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null,\r\n  notifications: true,\r\n  notifyAboutMe: false,\r\n  notifyAboutFollowers: false,\r\n  notifyNews: false,\r\n  telPreffix: null,\r\n};\r\n\r\nconst preffixData = [\r\n  { preffix: \"+421\", _id: 1 },\r\n  { preffix: \"+43\", _id: 2 },\r\n];\r\n\r\nconst handleInputTelNumber = (tel) => {\r\n  if (tel === undefined || tel === \"\") return { value: \"\", preffix: null };\r\n\r\n  const preffix = tel.substring(0, 4);\r\n  switch (preffix) {\r\n    case \"+421\":\r\n    case \"+420\":\r\n      return {\r\n        value: tel.substring(4),\r\n        preffix: preffixData.find((p) => p.preffix === preffix)._id,\r\n      };\r\n    default:\r\n      return {\r\n        value: tel.substring(3),\r\n        preffix: preffixData.find((p) => p.preffix === tel.substring(0, 3))._id,\r\n      };\r\n  }\r\n};\r\n\r\nconst buildState = (user) => {\r\n  const { value, preffix } = handleInputTelNumber(user.tel);\r\n\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    tel: { ...INIT_STATE.tel, value },\r\n    telPreffix: preffix,\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false,\r\n  };\r\n};\r\n\r\nclass ProfileSettings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = buildState(this.props.user.user);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const { getEnums } = this.props.store;\r\n    const filter = [\r\n      { field: \"enumTypeId\", value: 5 },\r\n      { field: \"disabled\", value: false },\r\n    ];\r\n    await getEnums(filter);\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  handleChangeCheckBox = (event) => {\r\n    const { name, checked } = event.target;\r\n    this.setState((state) => _.set(state, name, checked));\r\n  };\r\n\r\n  handleChangeAvatar = (event) => {\r\n    event.preventDefault();\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      let data = await this.props.utils.resize(reader.result, 320);\r\n      data = data.split(\",\").pop();\r\n      this.setState({ avatar: data, avatarChanged: true });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  handleChangePreffix = (name, value) => {\r\n    if (value === \"\") this.handleChange(\"tel.value\", \"\");\r\n    this.handleChange(name, value);\r\n  };\r\n\r\n  handleRemoveAvatar = () => {\r\n    this.setState({ avatar: null, avatarChanged: true });\r\n  };\r\n\r\n  validTelephone = () => {\r\n    const { translate } = this.props;\r\n    const { tel } = this.state;\r\n\r\n    const telSuffix = tel.value.replace(/\\s/g, \"\");\r\n    const regex = new RegExp(\"^[0-9]{9}$\");\r\n    const isValid = telSuffix === \"\" || regex.test(telSuffix);\r\n\r\n    const errorText = isValid ? \"\" : translate(\"field.telNotValid\");\r\n\r\n    this.setState((state) => ({\r\n      tel: { ...state.tel, errorText },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return (\r\n      ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id)\r\n    );\r\n  };\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      username: {\r\n        ...state.username,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !username.value || (await this.isValid(username.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.usernameInUse\");\r\n\r\n    this.setState((state) => ({\r\n      username: { ...state.username, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged,\r\n      telPreffix,\r\n    } = this.state;\r\n\r\n    const isValid =\r\n      this.validTelephone() &&\r\n      this.validPasswords() &&\r\n      (await this.validEmail()) &&\r\n      (await this.validUsername());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    const preffix = telPreffix\r\n      ? preffixData.find((p) => p._id === telPreffix).preffix\r\n      : \"\";\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel: preffix + tel.value.replace(/\\s/g, \"\"),\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  goToProfile = () => this.props.history.push(`/profile`);\r\n\r\n  render() {\r\n    const { classes, translate, locale, disabled } = this.props;\r\n    const { user } = this.props.user;\r\n    const connectTitle = translate(\"connect\");\r\n    const { enums } = this.props.store;\r\n    const {\r\n      email,\r\n      tel,\r\n      otp,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      avatar,\r\n      name,\r\n      bio,\r\n      notifications,\r\n      notifyAboutMe,\r\n      notifyAboutFollowers,\r\n      notifyNews,\r\n      telPreffix,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.textXs)}\r\n                  onClick={this.goToProfile}\r\n                >\r\n                  Sp\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container, classes.mt2)}>\r\n                <div className={classNames(classes.fontBold, classes.textMonoH4)}>\r\n                  Nastavenia\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt3\r\n                  )}\r\n                >\r\n                  {/* <img src=\"./img/user-img.jpg\" className={classNames(classes.profileImg)} /> */}\r\n                  <div className={classNames(classes.profileImgHolder)}>\r\n                    <img\r\n                      alt=\"avatarImg\"\r\n                      src={\r\n                        avatar\r\n                          ? \"data:image/jpeg;base64,\" + avatar\r\n                          : \"./img/user-img.jpg\"\r\n                      }\r\n                      className={classNames(classes.profileImg)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div\r\n                    className={classNames(\r\n                      classes.flexCol,\r\n                      classes.flexGrow,\r\n                      classes.ml5\r\n                    )}\r\n                  >\r\n                    <div className={classNames(classes.textXs2)}>\r\n                      Tvoja profilov fotografia je verejn no sli aj na\r\n                      schvalovanie vstupov.\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      <Button fullwidth>\r\n                        <label for=\"avatar-upload\">Zmenit fotku</label>\r\n                        <input\r\n                          hidden\r\n                          type=\"file\"\r\n                          accept=\"image/jpeg\"\r\n                          onChange={this.handleChangeAvatar}\r\n                          id=\"avatar-upload\"\r\n                        />\r\n                      </Button>\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      <Button\r\n                        fullwidth\r\n                        outline\r\n                        onClick={this.handleRemoveAvatar}\r\n                      >\r\n                        Vymazat fotku\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <FacebookConnection config={config.fb} />\r\n                <StravaConnection\r\n                  config={config.strava}\r\n                  className={classNames(classes.mt3)}\r\n                />\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div className={classNames(classes.fontBold, classes.textMonoH4)}>\r\n                  Osobn daje\r\n                </div>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    className={classNames(classes.mt4, classes.pr1)}\r\n                  >\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={name}\r\n                      field=\"name\"\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  {/* <Grid item xs={6} className={classNames(classes.mt4, classes.pl1)}>\r\n                                        <TextField\r\n                                            onChange={this.handleChange}\r\n                                            fullWidth\r\n                                            required\r\n                                            value={this.state.surname}\r\n                                            field=\"surname\"\r\n                                        />\r\n                                    </Grid> */}\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={bio}\r\n                      field=\"bio\"\r\n                      rows={3}\r\n                      multiline\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <div\r\n                  className={classNames(\r\n                    classes.fontBold,\r\n                    classes.textMonoH4,\r\n                    classes.mt6\r\n                  )}\r\n                >\r\n                  Dorucovacie daje\r\n                </div>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={email.value}\r\n                      field=\"email.value\"\r\n                      type=\"email\"\r\n                      disabled={disabled || email.isLoading}\r\n                      onBlur={this.validEmail}\r\n                      errorText={email.errorText}\r\n                    />\r\n                  </Grid>\r\n                  {/* <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            value={tel.value}\r\n                                            field=\"tel.value\"\r\n                                            onChange={this.handleChange}\r\n                                            onBlur={this.validTelephone}\r\n                                            disabled={disabled}\r\n                                            errorText={tel.errorText}\r\n                                        />\r\n                                    </Grid> */}\r\n\r\n                  <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                    <SelectField\r\n                      onChange={this.handleChangePreffix}\r\n                      fullWidth\r\n                      data={preffixData}\r\n                      value={telPreffix}\r\n                      field=\"telPreffix\"\r\n                      textField=\"preffix\"\r\n                      disabled={false}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={8} className={classNames(classes.mt2)}>\r\n                    <TelField\r\n                      value={tel.value}\r\n                      fullWidth\r\n                      field=\"tel.value\"\r\n                      onChange={this.handleChange}\r\n                      onBlur={this.validTelephone}\r\n                      errorText={tel.errorText}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <SelectField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      data={enums.data}\r\n                      value={country}\r\n                      field=\"country\"\r\n                      textField=\"name\"\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    xs={8}\r\n                    className={classNames(classes.mt4, classes.pr2)}\r\n                  >\r\n                    <TextField\r\n                      fullWidth\r\n                      value={city}\r\n                      field=\"city\"\r\n                      type=\"city\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={4} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      fullWidth\r\n                      value={postCode}\r\n                      field=\"postCode\"\r\n                      type=\"postCode\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      fullWidth\r\n                      value={address}\r\n                      field=\"address\"\r\n                      type=\"address\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontBold)}>\r\n                    Notifikacie\r\n                  </div>\r\n                  <div>\r\n                    <Switch\r\n                      value={notifications}\r\n                      field=\"notifications\"\r\n                      onChange={this.handleChange}\r\n                      //disabled={disabled}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyAboutMe}\r\n                    field=\"notifyAboutMe\"\r\n                    label={translate(\"notifyAboutMe\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyAboutFollowers}\r\n                    field=\"notifyAboutFollowers\"\r\n                    label={translate(\"notifyAboutFollowers\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyNews}\r\n                    field=\"notifyNews\"\r\n                    label={translate(\"notifyNews\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt3, classes.mb5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <Button fullwidth onClick={this.handleSubmit}>\r\n                  Ulozit nastavenia\r\n                </Button>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfileSettings.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withLocalization,\r\n  withStore,\r\n  withUtils\r\n)(ProfileSettings);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport moment from \"moment\";\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        width: '300px',       \r\n        position: 'relative',\r\n        overflow: 'hidden', \r\n        borderRadius: '30px'          \r\n    },   \r\n    challengeImgHolder: {\r\n        height: '270px',\r\n    },\r\n    challengeImg: {\r\n        position: 'center',\r\n        left: '0',\r\n        right: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover', \r\n\r\n    },\r\n    cardContent: {\r\n        background: theme.palette.secondary.main\r\n    },\r\n    challengeLogoHolder: {\r\n        width: '100px'\r\n    },\r\n    challengeLogo: {\r\n        width: '100%'\r\n    },\r\n    difficultyDot: {\r\n        width: '7px',\r\n        height: '7px',\r\n        borderRadius: '10px',\r\n        border: '1px solid #A4B1C4',\r\n        marginRight: '4px'\r\n    },\r\n    dotFilled: {\r\n        background: 'white',\r\n        border: '1px solid white',\r\n    }\r\n    \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes, customClasses, difficulty } = props;\r\n    const startDate = moment(props.start).format('DD.MM.YYYY')   \r\n\r\n    return (\r\n        <div className={classNames(classes.card, props.className)}>\r\n            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                <div className={classNames(classes.challengeImgHolder)}>\r\n                    <img src={'./img/challenge-card.jpg'} className={classNames(classes.challengeImg)}/>\r\n                </div>\r\n                <div className={classNames(classes.cardContent, classes.flexCol, classes.w100, classes.p5)}>\r\n                    <div className={classNames(classes.w100, classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                        <div className={classNames(classes.flexCol)}>\r\n                            <div className={classNames(classes.flexCol)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mb1)}>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Obtiaznost\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.flexCol, classes.mt4)}>\r\n                                <div className={classNames(classes.textWhite, classes.fontSemibold, classes.textM)}>\r\n                                    {startDate}\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Start\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.challengeLogoHolder)}>\r\n                            <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.textSecondaryLight, classes.textM, classes.mt3)}>\r\n                        {props.description}\r\n                    </div>\r\n                    <Button className={classNames(classes.mt3)} fullwidth>\r\n                        Zobrazit vyzvu\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    start: PropTypes.string, \r\n    difficulty: PropTypes.number,  \r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React, { useState,useEffect  } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n    partnerImg: {\r\n        width: '100%'\r\n    }\r\n});\r\n\r\nfunction PartnerCard(props) {\r\n    const { classes } = props;\r\n    const [img, setImg] = useState(null);\r\n\r\n    useEffect(() => {       \r\n        if (!img) {\r\n            getImg();\r\n        }\r\n      }, []);\r\n\r\n    const getImg = async () =>{\r\n        try {       \r\n            if(props.logoId) {\r\n                const data = await props.getFile(props.logoId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }  \r\n    return (\r\n        <div>           \r\n            <img src={img} className={classes.partnerImg} alt={props.name}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nPartnerCard.propTypes = {\r\n    name: PropTypes.string,\r\n    desc: PropTypes.string,\r\n    logoId: PropTypes.string.isRequired,\r\n    getFile: PropTypes.func.isRequired    \r\n};\r\n\r\nexport default withStyles(styles)(PartnerCard);","import React, { useState,useEffect  } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport classNames from 'classnames';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n    postImgWrapper: {\r\n        width: '100%',\r\n        height: '180px',\r\n        background: 'rgba(0,0,0,0.1)',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n    },\r\n    postImg: {\r\n        width: '100%',\r\n        height: '100%',\r\n        position: 'absolute',\r\n        left: 0,\r\n        right: 0,\r\n        objectFit: 'cover',\r\n    },\r\n    blogPostCard: {\r\n        width: 250,\r\n        height: 'auto'\r\n    }\r\n   \r\n});\r\n\r\nfunction BlogPost(props) {\r\n    const { classes} = props;\r\n    const [img, setImg] = useState(null);\r\n\r\n    useEffect(() => {       \r\n        if (!img) {\r\n            getImg();\r\n        }\r\n      }, []);\r\n\r\n    const getImg = async () =>{\r\n        try {       \r\n            if(props.thumbnailId) {\r\n                const data = await props.getFile(props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }  \r\n\r\n    return (\r\n        <div className={classNames(classes.blogPostCard, classes.flexCol, classes.mr5)}>           \r\n            <div className={classNames(classes.postImgWrapper)}>\r\n                <img src={img} className={classes.postImg} alt={props.title}/>\r\n            </div>\r\n            <h5 className={classNames(classes.textBase, classes.fontBold, classes.mt2)}>{props.title}</h5> \r\n            <p className={classNames(classes.mt2, classes.textBase)}>\r\n                {props.content}\r\n            </p>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nBlogPost.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    content: PropTypes.string.isRequired,\r\n    created: PropTypes.string,    \r\n    thumbnailId: PropTypes.string.isRequired,\r\n    getFile: PropTypes.func.isRequired   \r\n};\r\n\r\nexport default withStyles(styles)(BlogPost);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Flickity from \"react-flickity-component\";\r\nimport ChallengeCard from './ChallengeCard';\r\n\r\nimport ItemCard from '../eshop/ItemCard';\r\nimport config from '../../config.json';\r\nimport withStore from '../../consumers/withStore';\r\nimport PartnerCard from './PartnerCard';\r\nimport BlogPost from './BlogPost'\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introImage: {\r\n        width: '100%',\r\n        // height: 'calc(100vh - 60px - 120px)',\r\n        height: 'calc(100vh + 60px)',\r\n        background: 'url(\"/img/intro-hill.png\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '-1px',\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180deg, rgba(7, 10, 26, 0) 36.46%, rgba(7, 10, 26, 0.6) 64.06%, #070A1A 100%)'\r\n        }\r\n    },\r\n    introContent: {\r\n        zIndex: 10,\r\n        height: 'calc(100% - 150px)',\r\n        width: '100%', \r\n    },\r\n    introTitle: {\r\n        fontSize: '34px',\r\n    },    \r\n    introBtn: {\r\n        background: 'rgba(27, 32, 62, 0.5)',\r\n        backdropFilter: 'blur(5px)',\r\n        padding: '20px',        \r\n        borderRadius: '0px',        \r\n    },\r\n    dashedBtn: {\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(white 50%, rgba(255, 255, 255, 0) 0%)',\r\n            backgroundPosition: 'top, right, bottom, left',\r\n            backgroundRepeat: 'repeat-x, repeat-y',\r\n            backgroundSize: '10px 1px, 1px 10px',\r\n            zIndex: 15,\r\n        }\r\n    },\r\n    howItWorks: {      \r\n        background: 'linear-gradient(180deg, #080A1A 0%, #1A1D33 100%), #080A1A'\r\n    },   \r\n    howItWorksRow: {\r\n        marginBottom: '130px',\r\n    },   \r\n    textCol: {\r\n        width: 'calc(100% - 100px)',\r\n        color: 'white'\r\n    },\r\n    howItWorksItemNumber: {\r\n        height: '70px',\r\n        width: '70px',\r\n        borderRadius: 50,\r\n        textAlign: 'center',\r\n        lineHeight: '70px',\r\n        background: 'rgba(10, 18, 49, 0.7)',\r\n        border: '1px solid #6D6E79',\r\n        color: 'white',     \r\n    },\r\n    challenges: {\r\n        background: 'url(\"/img/trees.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPositionY: 'top',\r\n        position: 'relative',\r\n        '&:before': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            background: 'linear-gradient(180deg, #1A1D33 0%, rgba(26, 29, 51, 0.8) 56.31%, rgba(26, 29, 51, 0.8) 110.75%), url(.jpg)',\r\n            zIndex: '1',\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '103%',\r\n            height: '100px',\r\n            background: 'url(\"img/triangle.svg\")',\r\n            backgroundSize: 'contain',\r\n            backgroundPositionY: 'bottom',\r\n            backgroundRepeat: 'no-repeat',\r\n            bottom: '-2px',\r\n            position: 'relative',\r\n            zIndex: '20',\r\n        }\r\n    },\r\n    challengesContent: {\r\n        position: 'relative',\r\n        zIndex: 3,\r\n    },\r\n    challengeCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '0.5rem',\r\n        }\r\n    },\r\n    whyGetInvolvedImg: {\r\n        maxWidth: '100%'\r\n    },\r\n\r\n\r\n    blog: {\r\n        background: '#ffffff'\r\n    },\r\n    smallImg: {\r\n        width: '47%',\r\n    }\r\n    // triangleSeparator: {\r\n    //     width: '100%',        \r\n    // }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nclass Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            partners: [],\r\n            generalPartners: [],\r\n            mainPartners: [],\r\n            expandedFaq: 'panel1'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();\r\n        await this.props.doby.getProducts();\r\n        await this.props.doby.getPartners();\r\n        await this.props.doby.getPosts();\r\n\r\n        const { partners } = this.props.doby;\r\n\r\n        this.setState({\r\n            partners: partners.data.filter(item => item.type.key === 30),\r\n            generalPartners: partners.data.filter(item => item.type.key === 10),\r\n            mainPartners: partners.data.filter(item => item.type.key === 20),\r\n        })\r\n\r\n    }\r\n\r\n    renderChallenges = () => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;        \r\n        return challenges.data.map(challenge => {\r\n            return (\r\n                <div className={\"carousel-cell\"}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        start={challenge.start}\r\n                        end={challenge.end}\r\n                        sumitsCount={challenge.summitsRef.length}                        \r\n                        onClick={() => this.joinChallenge(challenge)}\r\n                        customClasses={classNames(classes.mt2, classes.mb2, classes.mr3)}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        let retVal = [];\r\n        for (let i = 0; i < 2; i++) {\r\n            let product = products.data[i];\r\n            product && retVal.push(\r\n                <Grid item xs={6} sm={3} lg={2}>\r\n                    <ItemCard\r\n                        key={product._id}\r\n                        onClick={() => this.showProductDetail(product)}\r\n                        name={product.name}\r\n                        price={product.price_with_tax}\r\n                        curr={config.currency}\r\n                        Id={product.thumbnailId}\r\n                        onViz={this.props.store.getFile}\r\n                        source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                    //membersOnly\r\n                    />\r\n                </Grid>\r\n            )\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    renderPartners = () => {\r\n        console.log(this.state.partners)\r\n        return this.state.partners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderGeneralPartners = () => {\r\n        return this.state.generalPartners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderMainPartners = () => {\r\n        return this.state.mainPartners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderBlogPosts = () => {\r\n        return this.props.doby.posts.data.map(post => {\r\n            return (\r\n                <div className={\"carousel-cell\"}>\r\n                    <BlogPost\r\n                        key={post._id}\r\n                        title={post.title}\r\n                        content={post.content}\r\n                        created={post.created}\r\n                        thumbnailId={post.thumbnailId}\r\n                        getFile={this.props.store.getFile}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    handleExpandFaq = panel => (event, expanded) => {\r\n        this.setState({\r\n          expandedFaq: expanded ? panel : false,\r\n        });\r\n      };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { expandedFaq } = this.state;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introImage,classes.flexCol)}>\r\n                    <div className={classNames(classes.flex, classes.flexCol, classes.textCenter, classes.pl7, classes.pr7, classes.pb7, classes.introContent, classes.justifyContentEnd)}>\r\n                        <div className={classNames(classes.textWhite, classes.fontBold, classes.introTitle)}>\r\n                            {this.props.translate('intro_title')}\r\n                        </div>\r\n                        <div className={classNames(classes.textWhite, classes.mt3)}>\r\n                            {this.props.translate('intro_subtitle')}\r\n                        </div>\r\n                        <Button fullwidth className={classNames(classes.introBtn, classes.mt4, classes.dashedBtn, classes.mb7)}>Ako to funguje?</Button>\r\n                    </div>\r\n                </div>\r\n                <div className={classNames(classes.howItWorks, classes.flexCol)}>\r\n                    \r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                1\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('register')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Prejdi 4 jednoduch kroky. Trv to v priemere len 1:20 min.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('we_plant_tree')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Vysadili sme spolu u 14 500 stromov. Naviac z kadho nkupu prispievame 5% zo sumy na ochranu kamzkov.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                2\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                3\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('conquer_summits')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Na kadom vrchole idelne s merchom Doby Hory, nie je to ale podmienka.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('take_picture')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Na kadom vrchole idelne s merchom Doby Hory, nie je to vak podmienka.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                4\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                5\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('get_medal')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Dorume ti ju po schvlen vetkch fotiek, aby si mohol na toto navdy spomna.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className={classNames(classes.challenges, classes.pt6)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n\r\n                        <Grid item xs={12} className={classNames(classes.challengesContent)}>\r\n                            <div className={classNames(classes.textWhite, classes.textCenter, classes.fontBold)}>\r\n                                <div>{this.props.translate('intro_challenges_title_1')}</div>\r\n                                <div>{this.props.translate('intro_challenges_title_2')}</div>\r\n                            </div>\r\n\r\n                            <div className={classNames(classes.mt7)}>\r\n                                <Flickity\r\n                                    className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                                    options={flickityOptions}\r\n                                    reloadOnUpdate={true}\r\n                                >\r\n                                    {this.renderChallenges()}\r\n                                </Flickity>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.pb8, classes.bgWhite)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >                        \r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                {this.props.translate('why_get_involved')}\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <img src={'./img/winOverYourself.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('win_over_yourself')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Nepredbiehame sa a nevyhrvame jeden nad druhm. Cieom je zai tie najkrajie zitky a spomna na ne do konca ivota. Vystp z komfortu a zai to, o om si doteraz len snval.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <img src={'./img/helpNature.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('help_nature')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Prroda ti d vea, vr jej to. Pom nm ju v rmci vzvy oisti a udra jej istotou za o dostane pecilny odznak na tvoj profil.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <img src={'./img/localShops.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('support_local_shops')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Udratenos a kvalita je pre ns na prvom mieste, preto kad produkt v naom eshope pochdza od loklnych vrobcov. Pri produkcii a vbere materilov kladieme maximlny draz na udratenos a ekolgiu.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('help_nature')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('be_part_of_community')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.justifyContentBetween, classes.w100, classes.mt5)}>\r\n                                    <img src=\"/img/community1.jpg\" className={classNames(classes.smallImg)} />\r\n                                    <img src=\"/img/community2.jpg\" className={classNames(classes.smallImg)} />\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('share_experiences')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.justifyContentBetween, classes.w100, classes.mt5)}>\r\n                                    <img src=\"/img/experience1.jpg\" className={classNames(classes.smallImg)} />\r\n                                    <img src=\"/img/experience2.jpg\" className={classNames(classes.smallImg)} />\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('eshop')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderProducts()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    FAQ\r\n                                </div>\r\n                                <div className={classes.mt5}>\r\n                                <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel1'}\r\n                                        onChange={this.handleExpandFaq('panel1')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 1\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                           Odpoved 1\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                    <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel2'}\r\n                                        onChange={this.handleExpandFaq('panel2')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 2\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                            Odpoved 2\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                    <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel3'}\r\n                                        onChange={this.handleExpandFaq('panel3')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 3\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                            Odpoved 3\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n\r\n                <div className={classNames(classes.blog, classes.pt6)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                {this.props.translate('blog')}\r\n                            </div>\r\n\r\n                            <div className={classNames(classes.mt2)}>\r\n                                <Flickity\r\n                                    className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                                    options={flickityOptions}\r\n                                    reloadOnUpdate={true}\r\n                                >\r\n                                    {this.renderBlogPosts()}\r\n                                </Flickity>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>           \r\n\r\n                <div className={classNames(classes.container, classes.howItWorks, classes.pb8)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('general_partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderGeneralPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('main_partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderMainPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </div>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Landing);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction StopwatchIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <g clip-path=\"url(#clip0)\">\r\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.68577 3.17302C9.21491 3.17302 8.83321 3.17302 8.83321 3.17302V1.4679H12.2435V3.17302C12.2435 3.17302 11.8618 3.17302 11.3909 3.17302V4.02559C11.3909 4.03967 11.3906 4.05367 11.3899 4.06758C12.9987 4.22712 14.476 4.8339 15.6957 5.76185L16.8059 4.65162C16.8059 4.65162 17.0776 4.91977 17.4106 5.25272C17.7435 5.58566 18.0117 5.85733 18.0117 5.85733L16.9441 6.92493C18.2637 8.42623 19.064 10.3953 19.064 12.5512C19.064 17.2598 15.2469 21.0769 10.5383 21.0769C5.82975 21.0769 2.0127 17.2598 2.0127 12.5512C2.0127 8.13004 5.37802 4.49486 9.68679 4.06758C9.68611 4.05367 9.68577 4.03967 9.68577 4.02559V3.17302ZM10.5383 19.3717C14.3052 19.3717 17.3588 16.3181 17.3588 12.5512C17.3588 8.78436 14.3052 5.73072 10.5383 5.73072C6.77147 5.73072 3.71782 8.78436 3.71782 12.5512C3.71782 16.3181 6.77147 19.3717 10.5383 19.3717Z\" fill=\"white\" />\r\n                    <path d=\"M10.5382 7.43585C9.56747 7.43585 8.61675 7.71208 7.79712 8.23227C6.9775 8.75246 6.32281 9.49514 5.90954 10.3735C5.49627 11.2519 5.34148 12.2298 5.46326 13.1929C5.58503 14.156 5.97834 15.0646 6.59723 15.8125L10.5382 12.5512V7.43585Z\" fill=\"white\" />\r\n                </g>\r\n                <defs>\r\n                    <clipPath id=\"clip0\">\r\n                        <rect width=\"20.4615\" height=\"20.4615\" fill=\"white\" transform=\"translate(0.307617 0.615356)\" />\r\n                    </clipPath>\r\n                </defs>\r\n            </svg>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(StopwatchIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction MountainsIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>          \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M9.44747 12.0849L15.9289 22.0564H2.80969L9.44747 12.0849Z\" stroke=\"white\" stroke-width=\"1.5625\"/>\r\n                <path d=\"M10.9432 14.5778L15.9289 5.10489L24.9033 22.0565H15.4474\" stroke=\"white\" stroke-width=\"1.5625\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(MountainsIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction StartIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>   \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <circle cx=\"13.5\" cy=\"13.5\" r=\"9.4375\" stroke=\"white\" stroke-width=\"2.125\"/>\r\n                <circle cx=\"13.4996\" cy=\"13.4999\" r=\"4.375\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(StartIcon);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from './form/Button';\r\nimport moment from \"moment\";\r\n\r\nimport StopwatchIcon from '../dobyComponents/icons/Stopwatch';\r\nimport MountainsIcon from '../dobyComponents/icons/Mountains';\r\nimport StartIcon from '../dobyComponents/icons/Start';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        width: '100%',\r\n        maxWidth: '400px',\r\n        height: '500px',     \r\n        position: 'relative',\r\n        overflow: 'hidden',         \r\n    },   \r\n    challengeImgHolder: {\r\n        height: '270px',\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        top: '0',\r\n        left: '0',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180.41deg, rgba(24, 24, 24, 0.1) 22.25%, rgba(24,24,24, 0.5) 73.24%, rgba(24,24,24, 0.8) 84.72%, #191C1D 99.57%)',\r\n        }\r\n    },\r\n    cardContent: {\r\n        zIndex: 10,\r\n        position: 'relative',\r\n    },\r\n    challengeImg: {\r\n        position: 'center',\r\n        left: '0',\r\n        right: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover',\r\n    },\r\n\r\n    logoHolder: {\r\n\r\n    },\r\n    challengeLogo: {\r\n        width: '150px',\r\n    },\r\n    \r\n    difficultyDot: {\r\n        width: '9px',\r\n        height: '9px',\r\n        borderRadius: '10px',        \r\n        marginRight: '5px',\r\n        background: 'white',\r\n        opacity: '0.4'\r\n    },\r\n    dotFilled: {\r\n        opacity: '1',\r\n    },\r\n    challengeBtn: {\r\n\r\n    },\r\n    challengeMap: {\r\n       width: '90px',\r\n\r\n    }\r\n    \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes, difficulty, className, translate } = props;\r\n\r\n    const summitsCount = props.summits && props.summits.length\r\n    const startDate = moment(props.start).format('DD.MM.YYYY');  \r\n    \r\n    let months = moment(props.end).diff(moment(props.start), 'months', true)\r\n    months = Math.abs(months);\r\n    months = Math.ceil(months)\r\n\r\n    return (\r\n        <div className={classNames(classes.card, className)}>\r\n            <div className={classNames(classes.challengeImgHolder)}>\r\n                <img src={'./img/challenge-card.jpg'} className={classNames(classes.challengeImg)}/>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.w100, classes.h100, classes.justifyContentEnd, classes.cardContent)}>\r\n                <div className={classNames(classes.p6, classes.dFlex, classes.flexCol)}>\r\n                    <div className={classNames(classes.logoHolder, classes.w100, classes.textCenter)}>\r\n                        <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                    </div>\r\n                    <div className={classNames(classes.mapHolder, classes.w100, classes.textCenter, classes.mt8, classes.mb8)}>\r\n                        <img src={'./img/map-high-tatras.svg'} className={classNames(classes.challengeMap)}/>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                        <MountainsIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            {summitsCount} {summitsCount === 1 ? translate('challenge.summit') : summitsCount < 5 ? translate('challenge.summits') : translate('challenge.summit_gen')}\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2)}>\r\n                        <StopwatchIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            {months} {months === 1 ? translate('challenge.month') : months < 5 ? translate('challenge.months') : translate('challenge.month_gen')}\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt1)}>\r\n                        <StartIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            Start {startDate}\r\n                        </div>\r\n                    </div> */}\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.mt9)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.textEl250, classes.textS)}>\r\n                                {translate('challenge.difficulty')}\r\n                            </div>\r\n                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2)}>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.textEl250, classes.textS)}>\r\n                                {translate('challenge.start')}\r\n                            </div>\r\n                            <div className={classNames(classes.textM, classes.textWhite, classes.fontSemibold, classes.mt1)}>\r\n                                {startDate}\r\n                            </div>\r\n                        </div>\r\n                        {/* <img src={'./img/map-high-tatras.svg'} className={classNames(classes.challengeMap)}/> */}\r\n                    </div>\r\n                </div>\r\n                {(props.actionBtn !== false) && <Button className={classNames(classes.challengeBtn)} fullwidth size=\"lg\">\r\n                    {translate('challenge.more')}\r\n                </Button>}\r\n                \r\n                {/* <div className={classNames(classes.cardContent, classes.dFlex, classes.flexCol, classes.w100, classes.p5)}>\r\n                    <div className={classNames(classes.w100, classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mb1)}>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Obtiaznost\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.mt4)}>\r\n                                <div className={classNames(classes.textWhite, classes.fontSemibold, classes.textM)}>\r\n                                    {startDate}\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Start\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.challengeLogoHolder)}>\r\n                            <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.textSecondaryLight, classes.textM, classes.mt3)}>\r\n                        {props.description}\r\n                    </div>\r\n                    <Button className={classNames(classes.mt3)} fullwidth>\r\n                        Zobrazit vyzvu\r\n                    </Button>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    start: PropTypes.string, \r\n    difficulty: PropTypes.number,  \r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction DropdownFaqClosedIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M26 11L16 21L6 11\" fill=\"#F5333F\"/>\r\n            </svg>         \r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(DropdownFaqClosedIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction DropdownFaqOpenedIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>    \r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"  className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.87485 9.67083L13.25 14.046L14.0455 13.2505L9.67034 8.87534L14.0456 4.5001L13.2501 3.70461L8.87485 8.07984L4.4996 3.70459L3.7041 4.50008L8.07935 8.87534L3.70414 13.2505L4.49964 14.046L8.87485 9.67083Z\" fill=\"#68778D\"/>\r\n            </svg>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(DropdownFaqOpenedIcon);","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\n\r\nimport MuiExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport MuiExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport MuiExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\nimport DropdownFaqClosedIcon from '../dobyComponents/icons/DropdownFaqClosed';\r\nimport DropdownFaqOpenedIcon from '../dobyComponents/icons/DropdownFaqOpened';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    panelRoot: {\r\n        borderTop: '1px solid rgba(0,0,0,.125)',\r\n        borderBottom: '1px solid rgba(0,0,0,.125)',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n    },\r\n    panelExpanded: {\r\n        margin: 'auto',\r\n    },\r\n\r\n    summaryRoot: {\r\n        backgroundColor: 'transparent',\r\n        border: '0',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        padding: '0',\r\n        '&$summaryExpanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    summaryContent: {\r\n        '&$summaryExpanded': {\r\n            margin: '12px 0',           \r\n        },\r\n    },\r\n    summaryExpanded: {},\r\n    \r\n    detailsRoot: {\r\n        padding: '0rem 0rem 1.25rem 0rem'\r\n    },\r\n    iconSpacing: {\r\n        width: '30px'\r\n    },\r\n    textIconSpacing: {\r\n        paddingLeft: '30px',\r\n    }\r\n    \r\n    \r\n});\r\n\r\nfunction Faq(props) {\r\n    const { classes } = props;\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const handleChange = panel => (event, expanded) => {\r\n        console.log(panel)\r\n        console.log(expanded)\r\n\r\n        setExpanded(expanded ? panel : false)\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classNames(props.className)}>\r\n               {\r\n                   props.questions && props.questions.map((item, index)=>{\r\n                       return (\r\n                        <MuiExpansionPanel\r\n                            square\r\n                            expanded={expanded === index}\r\n                            onChange={handleChange(index)}\r\n                            classes={{root: classes.panelRoot, expanded: classes.panelExpanded}}\r\n                        >\r\n                            <MuiExpansionPanelSummary classes={{root: classes.summaryRoot, content: classes.summaryContent ,expanded: classes.summaryExpanded}}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <div className={classNames(classes.iconSpacing, classes.dFlex, classes.alignItemsCenter)}>\r\n                                        {expanded === index ? <DropdownFaqOpenedIcon/> : <DropdownFaqClosedIcon/>}\r\n                                    </div>\r\n                                    <div className={classNames(classes.fontBold,)}>\r\n                                        {item.description}\r\n                                    </div>\r\n                                </div>\r\n                            </MuiExpansionPanelSummary>\r\n                            <MuiExpansionPanelDetails classes={{root: classes.detailsRoot}}>\r\n                                <div className={classNames(classes.textM, classes.textIconSpacing)}>\r\n                                    {item.content}\r\n                                </div>\r\n                            </MuiExpansionPanelDetails>\r\n                        </MuiExpansionPanel>\r\n                       )\r\n                   })\r\n               }               \r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nFaq.propTypes = {\r\n    className: PropTypes.string,\r\n    questions: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(Faq);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({   \r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction FacebookIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>            \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <ellipse cx=\"12\" cy=\"11.9998\" rx=\"12\" ry=\"11.9998\" fill=\"#00263E\"/>\r\n                <path d=\"M16.4701 15.6699L17.0032 12.283H13.6686V10.0861C13.6686 9.15931 14.1335 8.25536 15.6271 8.25536H17.1441V5.37191C17.1441 5.37191 15.768 5.14307 14.4529 5.14307C11.7054 5.14307 9.91125 6.76556 9.91125 9.70166V12.283H6.8584V15.6699H9.91125V23.858C10.5241 23.9519 11.1512 23.9999 11.7899 23.9999C12.4287 23.9999 13.0557 23.9519 13.6686 23.858V15.6699H16.4701Z\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(FacebookIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction InstagramIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M20.0111 5.73127C20.0111 6.72538 19.2052 7.53127 18.2111 7.53127C17.217 7.53127 16.4111 6.72538 16.4111 5.73127C16.4111 4.73716 17.217 3.93127 18.2111 3.93127C19.2052 3.93127 20.0111 4.73716 20.0111 5.73127Z\" fill=\"#00263E\"/>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 15.6C13.9882 15.6 15.6 13.9882 15.6 12C15.6 10.0118 13.9882 8.4 12 8.4C10.0118 8.4 8.4 10.0118 8.4 12C8.4 13.9882 10.0118 15.6 12 15.6Z\" fill=\"#00263E\"/>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 11.52C0 7.48762 0 5.47143 0.784753 3.93127C1.47504 2.5765 2.5765 1.47504 3.93127 0.784753C5.47143 0 7.48762 0 11.52 0H12.48C16.5124 0 18.5286 0 20.0687 0.784753C21.4235 1.47504 22.525 2.5765 23.2152 3.93127C24 5.47143 24 7.48762 24 11.52V12.48C24 16.5124 24 18.5286 23.2152 20.0687C22.525 21.4235 21.4235 22.525 20.0687 23.2152C18.5286 24 16.5124 24 12.48 24H11.52C7.48762 24 5.47143 24 3.93127 23.2152C2.5765 22.525 1.47504 21.4235 0.784753 20.0687C0 18.5286 0 16.5124 0 12.48V11.52ZM11.52 2.4H12.48C14.5358 2.4 15.9333 2.40187 17.0135 2.49012C18.0657 2.57609 18.6038 2.73191 18.9792 2.92317C19.8823 3.38336 20.6166 4.11767 21.0768 5.02085C21.2681 5.3962 21.4239 5.93429 21.5099 6.98649C21.5981 8.06671 21.6 9.46421 21.6 11.52V12.48C21.6 14.5358 21.5981 15.9333 21.5099 17.0135C21.4239 18.0657 21.2681 18.6038 21.0768 18.9792C20.6166 19.8823 19.8823 20.6166 18.9792 21.0768C18.6038 21.2681 18.0657 21.4239 17.0135 21.5099C15.9333 21.5981 14.5358 21.6 12.48 21.6H11.52C9.46421 21.6 8.06671 21.5981 6.98649 21.5099C5.93429 21.4239 5.3962 21.2681 5.02085 21.0768C4.11767 20.6166 3.38336 19.8823 2.92317 18.9792C2.73191 18.6038 2.57609 18.0657 2.49012 17.0135C2.40187 15.9333 2.4 14.5358 2.4 12.48V11.52C2.4 9.46421 2.40187 8.06671 2.49012 6.98649C2.57609 5.93429 2.73191 5.3962 2.92317 5.02085C3.38336 4.11767 4.11767 3.38336 5.02085 2.92317C5.3962 2.73191 5.93429 2.57609 6.98649 2.49012C8.06671 2.40187 9.46421 2.4 11.52 2.4Z\" fill=\"#00263E\"/>\r\n            </svg>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(InstagramIcon);","import React, {useState, useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport withDoby from '../../consumers/withDoby';\r\nimport compose from '../../compose';\r\nimport Button from \"../dobyComponents/form/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport Checkbox from '../dobyComponents/form/CheckboxField';\r\nimport Flickity from \"react-flickity-component\";\r\nimport ChallengeCard from '../dobyComponents/ChallengeCardV1';\r\nimport Faq from '../dobyComponents/Faq';\r\nimport config from '../../config.json';\r\n\r\nimport FacebookIcon from '../dobyComponents/icons/Facebook';\r\nimport InstagramIcon from '../dobyComponents/icons/Instagram';\r\nimport { red } from '@material-ui/core/colors';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introImage: {\r\n        width: '100%',\r\n        // height: 'calc(100vh - 60px - 120px)',\r\n        height: 'calc(100vh - 60px - 15vh)',\r\n        background: 'url(\"/img/intro-bg2.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        [theme.breakpoints.up('md')]: {\r\n            background: 'url(\"/img/intro-bg-desktop.jpg\")',\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n        },\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '-1px',\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180deg, rgba(0,38,62, 0) 36.46%, rgba(0,38,62, 0.2) 64.06%, #070A1A 100%)'\r\n        }       \r\n    },\r\n    introContent: {\r\n        zIndex: 10,\r\n        position: 'relative'\r\n    },\r\n    introBtn: {\r\n        marginBottom: '-25px',\r\n        zIndex: 1,        \r\n    }, \r\n    desktopIntro:{\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        position: 'relative',\r\n        padding: '80px 0',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '50%',\r\n            background: theme.palette.secondary.main,\r\n            zIndex: -1,\r\n        },\r\n    },\r\n    desktopIntroContent: {\r\n        width: '600px',        \r\n    },\r\n    desktopIntroImageHolder: {\r\n        width: 'calc(100% - 600px)',       \r\n    },\r\n    //******************\r\n    participantsImg: {\r\n        width: '70%'\r\n    },   \r\n    howItWorksCircle: {\r\n        width: '38px',\r\n        height: '38px',\r\n        lineHeight: '36px',\r\n        borderRadius: '30px',\r\n        textAlign: 'center',\r\n        color: theme.palette.secondary.main,     \r\n        fontSize: '18px',\r\n        border: `2px solid ${theme.palette.secondary.main}`,         \r\n    },   \r\n    challengeCard: {\r\n        width: '300px'\r\n    }, \r\n    challengeCardAdapt: {\r\n        width: '100%',\r\n        //maxWidth: '330px',\r\n        // [theme.breakpoints.up('xl')]: {\r\n        //     width: '94%',\r\n        // }\r\n    },   \r\n    challengeItemsContainer: {       \r\n        '& $challengeItem': {\r\n            '&:nth-of-type(3n+1)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingRight: '12.5px',    \r\n                },                \r\n            },\r\n            '&:nth-of-type(3n+2)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',          \r\n                },                \r\n            },\r\n            '&:nth-of-type(3n+3)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingLeft: '12.5px'         \r\n                },                \r\n            },\r\n\r\n            '&:nth-of-type(4n+1)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '12.5px'         \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+2)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',   \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+3)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',        \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+4)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingLeft: '12.5px'         \r\n                },                \r\n            },\r\n        }\r\n    },\r\n    challengeItem: {\r\n\r\n    },\r\n    socialShare: {\r\n        //paddingBottom: '80px!important'\r\n    },\r\n    socialShareDesktop: {\r\n        background: theme.palette.secondary.main,\r\n        position: 'relative',\r\n        height: '500px',\r\n        [theme.breakpoints.up('xl')]: {\r\n            margin: '100px 0',\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            top: '0',\r\n            right: '0',\r\n            width: '50%',\r\n            height: '100%',\r\n            background: 'url(\"/img/doby-bg.jpg\")',\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n            zIndex: 1,\r\n        },\r\n    },\r\n    socialShareDesktopPhone: {\r\n        width: '400px',\r\n        height: 'auto',\r\n        position: 'absolute',\r\n        right: '25%',\r\n        top: '50%',\r\n        transform: 'translate(50%, -50%)',\r\n        zIndex: '5',\r\n        [theme.breakpoints.up('xl')]: {\r\n            width: '450px',\r\n        },\r\n    },\r\n    shareImgCol: {\r\n        background: 'url(\"/img/doby-bg.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n        height: '350px'\r\n    },\r\n    shareImg: {\r\n        height: '500px',\r\n        position: 'absolute',\r\n        top: '-50px',\r\n        left: '0',\r\n        right: '0',\r\n        margin: '0 auto',\r\n    },\r\n    socialShareButtonHolder: {\r\n        background: '#E4EAF3',\r\n        paddingTop: '120px'\r\n    },\r\n    socialShareButton: {\r\n        marginBottom: '-26px'\r\n    },\r\n    forYourselfImgHolder: {\r\n        width: '100%',\r\n        height: '400px',\r\n        [theme.breakpoints.up('md')]: {\r\n            height: '500px',\r\n        },\r\n        [theme.breakpoints.up('lg')]: {\r\n            height: '600px',\r\n        },\r\n    },\r\n    forYourselfImg: {\r\n        //width: '100%'\r\n    },\r\n    bigPhotoHolder: {\r\n        width: '100%',\r\n        height: '400px',\r\n    },\r\n    bigPhotoContent: {\r\n        width: '400px',\r\n    },\r\n\r\n    footerBg: {\r\n        background: '#F8F9FB'\r\n    },\r\n    challengesTitleBgOverlay: {\r\n        background: theme.palette.secondary.main,\r\n        color: 'white',\r\n        [theme.breakpoints.up('md')]: {\r\n            background: '#F8F9FB',\r\n            color: 'inherit'\r\n        }\r\n    },\r\n    challengesBgOverlay: {\r\n        position: 'relative',\r\n        [theme.breakpoints.up('md')]: {\r\n            marginTop: '-70px'\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            background: theme.palette.secondary.main,\r\n            zIndex: -1,\r\n            [theme.breakpoints.up('md')]: {\r\n                height: 'calc(100% - 140px)',\r\n                top: '50%',\r\n                transform: 'translateY(-50%)'\r\n            }\r\n        },\r\n    },\r\n    newMedalsImg: {\r\n        position: 'absolute',\r\n        width: '100%',       \r\n\r\n    },\r\n    newsletterFormDesktop: {\r\n        [theme.breakpoints.up('md')]: {\r\n            marginTop: '230px'\r\n        },\r\n    }\r\n\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nfunction Countdown(props) {\r\n    const { classes, translate } = props;\r\n    const [days, setDays] = useState(0);\r\n    const [hours, setHours] = useState(0);\r\n    const [minutes, setMinutes] = useState(0);\r\n    const [seconds, setSeconds] = useState(0);\r\n    const [timer, setTimer] = useState(null);\r\n\r\n    const showRemainingTime = () => {        \r\n        let _second = 1000;\r\n        let _minute = _second * 60;\r\n        let _hour = _minute * 60;\r\n        let _day = _hour * 24;\r\n\r\n        let end = new Date(1619820000 * 1000); // 1.5.2021\r\n        let now = new Date();\r\n        let diff = end.getTime() - now.getTime()             \r\n        \r\n        if(diff < 0) {\r\n            clearInterval(timer)\r\n            return\r\n        } else { \r\n            let days = Math.floor(diff / _day);\r\n            let hours = Math.floor((diff % _day) / _hour);\r\n            let minutes = Math.floor((diff % _hour) / _minute);\r\n            let seconds = Math.floor((diff % _minute) / _second);\r\n            \r\n            setDays(days);\r\n            setHours(hours);\r\n            setMinutes(minutes);\r\n            setSeconds(seconds);           \r\n        }\r\n    }\r\n\r\n    useEffect(() => {  \r\n        let timerObj = setInterval(showRemainingTime, 1000);\r\n        setTimer(timerObj);\r\n        return () => {\r\n            clearInterval(timer)\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, props.center && classes.justifyContentCenter, classes.textWhite, classes.mt2)}>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {days}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.days')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {hours}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.hours')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {minutes}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.minutes')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {seconds}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.seconds')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass LandingCountdown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {           \r\n            email: '',\r\n            checkConditions: false,\r\n        }\r\n    }\r\n    componentDidMount() {  \r\n        this.fetchData();       \r\n    }\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();    \r\n        await this.props.doby.getPosts([{field: 'type.key', value: 10}], {field: \"title\", dir: \"asc\"});\r\n    }\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };    \r\n\r\n    handleSubscribe = async () => {\r\n        const { email, checkConditions } = this.state;\r\n        \r\n        if(email && checkConditions) {\r\n            try {\r\n                const result = await this.props.doby.subscribe({ email });\r\n                this.setState({ email: '', checkConditions: false })\r\n                alert(result.res);\r\n            }\r\n            catch(error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n    }\r\n\r\n    renderChallenges = (carousel = true) => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;     \r\n        return challenges.data.map((challenge, index) => {\r\n            return (\r\n                carousel ? \r\n                <div className={\"carousel-cell\"}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        description={challenge.description}\r\n                        start={challenge.start}\r\n                        end={challenge.end}                                                                   \r\n                        className={classNames(classes.challengeCard, classes.mt2, classes.mb2, (index !== challenges.data.length - 1) && classes.mr5)}\r\n                        difficulty={challenge.difficulty}   \r\n                        summits={challenge.summitsRef}  \r\n                        actionBtn={false}\r\n                    />\r\n                </div> :\r\n                <Grid item md={4} lg={3} className={classNames(classes.challengeItem)}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        description={challenge.description}\r\n                        start={challenge.start}\r\n                        end={challenge.end} \r\n                        className={classNames(classes.challengeCardAdapt, classes.my2)}\r\n                        difficulty={challenge.difficulty}  \r\n                        summits={challenge.summitsRef}   \r\n                        actionBtn={false}                    \r\n                    />\r\n                </Grid> \r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { classes, translate } = this.props;\r\n        const { posts } = this.props.doby;\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introImage, classes.dLgNone)}>\r\n                    <div className={classNames(classes.w100, classes.h100, classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.justifyContentEnd, classes.introContent)}>\r\n                        {/* <div className={classNames( classes.textMono, classes.textXl, classes.textWhite)}>\r\n                            Zazi viac\r\n                        </div> */}\r\n                        <Countdown classes={classes} center translate={translate} />\r\n                        \r\n                        <div className={classNames(classes.textWhite, classes.textSans, classes.textH3, classes.mt4, classes.px5, classes.textCenter)}>\r\n                            <span className={classNames(classes.fontSemibold)}>{translate('landing.begins')}</span> <span className={classNames(classes.textPrimary)}>{new Date(config.start).toLocaleDateString(this.props.locale)}</span>\r\n                        </div>\r\n                        <div className={classNames(classes.container, classes.w100, classes.mt6)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <Button className={classNames(classes.introBtn)}  fullwidth>\r\n                                    Pripomenut\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n\r\n                <div className={classNames(classes.container, classes.bgSecondary, classes.dLgNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                                \r\n                    > \r\n                        <Grid item xs={12} className={classNames(classes.textCenter, classes.pt9, classes.pb9)}>                            \r\n                            {/* <div className={classNames(classes.textMono, classes.fontSemibold)}>\r\n                                Opusti komfort. Prekonaj sa. <br/>Pomoz prirode.\r\n                            </div> */}\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.mt2, classes.textWhite, classes.uppercase)}>\r\n                                {translate('landing.header1')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textPrimary, classes.uppercase)}>\r\n                                {translate('landing.header2')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textWhite, classes.uppercase)}>\r\n                                {translate('landing.header3')}\r\n                            </h2>                                                                       \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.desktopIntro, classes.dNone, classes.dLgBlock)}>\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.h100)}>\r\n                        <div className={classNames(classes.desktopIntroContent)}>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.h100, classes.alignItemsStart)}>\r\n                                <div className={classNames(classes.h50, classes.dFlex, classes.flexCol, classes.justifyContentCenter, classes.pl10)}>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1, classes.uppercase)}>\r\n                                        {translate('landing.header1')}\r\n                                    </h2>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1, classes.textPrimary, classes.uppercase)}>\r\n                                        {translate('landing.header2')}\r\n                                    </h2>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1,classes.uppercase)}>\r\n                                        {translate('landing.header3')}\r\n                                    </h2>     \r\n                                </div>\r\n                                <div className={classNames(classes.h50, classes.dFlex, classes.flexCol, classes.justifyContentCenter, classes.pl10)}>\r\n                                    <Countdown classes={classes} translate={translate} />\r\n                        \r\n                                    <div className={classNames(classes.textWhite, classes.textSans, classes.textH3, classes.mt4)}>\r\n                                        <span className={classNames(classes.fontSemibold)}>{translate('landing.begins')}</span> <span className={classNames(classes.textPrimary)}>{new Date(config.start).toLocaleDateString(this.props.locale)}</span>\r\n                                    </div>\r\n                                    <Button className={classNames(classes.mt5)}>\r\n                                        {translate('landing.subscribe')}\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.desktopIntroImageHolder, classes.imageFitHolder)}>\r\n                            <img src={\"/img/intro-bg-desktop.jpg\"} className={classNames(classes.imageFit)}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py10, classes.pyMd11, classes.pyLg12)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >  \r\n                        <Grid item xs={12} md={5} lg={4}  className={classNames()}> \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textCenter, classes.uppercase, classes.dMdNone)}>\r\n                                {translate('landing.what')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH1, classes.textLeft, classes.uppercase, classes.dNone, classes.dMdBlock)}>\r\n                                {translate('landing.what')}\r\n                            </h2>                                              \r\n                        </Grid>\r\n                        <Grid item xs={12} md={7} lg={8}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter, classes.justifyContentMdStart, classes.w100, classes.mt6, classes.mtMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            1\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step1_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.textH4, classes.fontRegular)}>\r\n                                                {translate('landing.step1_description')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow, classes.mt5, classes.mtMd9)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            2\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step2_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.textH4, classes.fontRegular)}>\r\n                                                {translate('landing.step2_description')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow, classes.mt5, classes.mtMd9)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            3\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step3_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.textH4, classes.fontRegular)}>\r\n                                                {translate('landing.step3_description')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>                             \r\n                                </div>\r\n                            </div>  \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.challengesTitleBgOverlay, classes.pt8, classes.pbMd12, classes.ptMd10)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        > \r\n                            <Grid item xs={12} className={classNames(classes.textCenter, classes.textLgLeft)}>\r\n                                <h2 className={classNames(classes.textMono, classes.uppercase,classes.dMdNone)}>\r\n                                    {translate('landing.challenges')}\r\n                                </h2>   \r\n                                <h2 className={classNames(classes.textMono, classes.uppercase, classes.textH1, classes.dNone, classes.dMdBlock)}>\r\n                                    {translate('landing.challenges')}\r\n                                </h2>                                            \r\n                            </Grid>                           \r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.challengesBgOverlay)}>\r\n                    <div className={classNames(classes.container, classes.pb9, classes.pt6, classes.pyMd0)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            justify=\"center\"                                           \r\n                        >                          \r\n                            <Grid item xs={12} className={classNames(classes.dMdNone)}>\r\n                                <div className={classNames(classes.carouselFullwidth)}>\r\n                                    <Flickity\r\n                                        className={classNames(classes.carouselSpacing)}\r\n                                        options={flickityOptions}\r\n                                        reloadOnUpdate={true}\r\n                                    >\r\n                                        {this.renderChallenges()}\r\n                                    </Flickity>\r\n                                </div>                                              \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.dNone, classes.dMdBlock)}>\r\n                                <Grid\r\n                                    container\r\n                                    direction=\"row\"  \r\n                                    className={classNames(classes.challengeItemsContainer)}                                            \r\n                                >\r\n                                    {this.renderChallenges(false)}\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n\r\n\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py11, classes.pyMd13)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} md={5} lg={4} className={classNames()}>\r\n                           \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase)}>\r\n                               {translate('subscribe.title')}\r\n                            </h2>  \r\n                            <div className={classNames(classes.mt1, classes.fontMedium)}>\r\n                                {translate('subscribe.description')}\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}  md={7} lg={7} xl={6} className={classNames(classes.mt3, classes.mtMd0)}>\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.email}\r\n                                type=\"email\"\r\n                                field=\"email\"                     \r\n                            />\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.flexLgRow, classes.justifyContentLgBetween, classes.alignItemsLgCenter, classes.mt3, classes.mtLg5)}>\r\n                                <Checkbox\r\n                                    onChange={this.handleChange}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={this.state.checkConditions}\r\n                                    field=\"checkConditions\"\r\n                                    label={translate('subscribe.check')}\r\n                                    className={classNames()}\r\n                                />\r\n                                <Button onClickclassName={classNames(classes.mt7, classes.mtLg0)} fullwidth onClick={this.handleSubscribe}>\r\n                                    {translate('subscribe.submit')}\r\n                                </Button>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>        \r\n\r\n                \r\n                <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    className={classNames(classes.dMdNone)}                                             \r\n                > \r\n                    <Grid item xs={12} md={6} className={classNames(classes.px5, classes.py9, classes.bgSecondary, classes.socialShare)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol, classes.h100)}>\r\n                            <h2 className={classNames(classes.textMono, classes.uppercase, classes.textWhite, classes.textH2)}>\r\n                                {translate('landing.share_title')}\r\n                            </h2>   \r\n                            <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite, classes.mb9, classes.mbMd0)}>\r\n                                {translate('landing.share_description')}\r\n                            </div>\r\n                        </div>                                           \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={6} className={classNames(classes.shareImgCol)}>\r\n                        <img src={'./img/phone-share.png'} className={classNames(classes.shareImg)}/>                                       \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} className={classNames(classes.px5, classes.socialShareButtonHolder, classes.dMdNone)}>\r\n                        <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                            <Button className={classNames(classes.socialShareButton)} fullwidth>\r\n                                {translate('share')}\r\n                            </Button> \r\n                        </div>                            \r\n                    </Grid>                    \r\n                </Grid>\r\n\r\n                <div className={classNames(classes.socialShareDesktop, classes.dNone, classes.dMdBlock)}>\r\n                    <div className={classNames(classes.container, classes.h100)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            className={classNames(classes.h100)}                                             \r\n                        > \r\n                            <Grid item xs={12} md={6} className={classNames(classes.px5, classes.py9, classes.bgSecondary, classes.socialShare)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.h100)}>\r\n                                    <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                        <h2 className={classNames(classes.textMono, classes.uppercase, classes.textWhite, classes.textH1)}>\r\n                                            {translate('landing.share_title')}\r\n                                        </h2>   \r\n                                        <div className={classNames(classes.mt4, classes.fontMedium, classes.textWhite, classes.mb9, classes.mbMd0)}>\r\n                                            {translate('landing.share_description')}\r\n                                        </div>\r\n                                        <Button className={classNames(classes.socialShareButton, classes.mt5)} >\r\n                                            {translate('landing.share')}\r\n                                        </Button>\r\n                                    </div>   \r\n                                </div>                                        \r\n                            </Grid>                          \r\n\r\n                                               \r\n                        </Grid>\r\n                    </div>\r\n\r\n                    <img src={'./img/phone-share.png'} className={classNames(classes.socialShareDesktopPhone)}/>  \r\n\r\n                </div>\r\n\r\n                {/* <div className={classNames(classes.forYourselfImgHolder, classes.mt11, classes.imageFitHolder, classes.dMdNone)}>\r\n                    <img src={'./img/girl-mountain.jpg'} className={classNames(classes.forYourselfImg, classes.imageFit)}/>       \r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.dMdNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                            <h3 className={classNames(classes.textH3)}>Nepredbiehame sa</h3>\r\n                            <div className={classNames(classes.mt2, classes.textBlock)}>\r\n                                a nevyhrvame jeden nad druhm. Cieom je zai tie najkrajie zitky a spomna na ne do konca ivota. Vystp z komfortu a zai to, o om si doteraz len snval. Vyhraj nad sebou, nie nad ostatnmi.\r\n                            </div>     \r\n                            <hr className={classNames(classes.hrLine, classes.mt4, classes.mb5)}/>                      \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <img src={'./img/producer.jpg'} className={classNames(classes.w100)}/> \r\n                            <h3 className={classNames(classes.textH3, classes.mt4)}>Udrzatelnost</h3>\r\n                            <div className={classNames(classes.mt2, classes.textBlock)}>\r\n                                Vetky produkty a materily vyberme s vekm drazom na prrodu. Podporujeme malch loklnych vrobcov, pretoe prroda nm nie je ahostajn.\r\n                            </div>    \r\n                        </Grid>\r\n                    </Grid>\r\n                </div> */}\r\n\r\n                <div className={classNames(classes.mt11, classes.mtMd13 )}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} md={6} className={classNames()}>\r\n                            <div className={classNames(classes.imageFitHolder, classes.bigPhotoHolder)}>\r\n                                <img src={'./img/girl-mountain-desktop.jpg'} className={classNames(classes.imageFit)}/> \r\n                            </div>  \r\n                            <div className={classNames(classes.dFlex, classes.justifyContentMdCenter, classes.mtMd7, classes.p5, classes.pMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.bigPhotoContent)}>\r\n                                    <h3 className={classNames(classes.textH2)}>{translate('landing.p1_title')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textBlock)}>\r\n                                        {translate('landing.p1_description')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>               \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} md={6} className={classNames(classes.mt5, classes.mtMd0)}>\r\n                            <div className={classNames(classes.imageFitHolder, classes.bigPhotoHolder)}>\r\n                                <img src={'./img/forest-desktop.jpg'} className={classNames(classes.imageFit)}/> \r\n                            </div>  \r\n                            <div className={classNames(classes.dFlex, classes.justifyContentMdCenter, classes.mtMd7, classes.p5, classes.pMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.bigPhotoContent)}>\r\n                                    <h3 className={classNames(classes.textH2)}>{translate('landing.p2_title')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textBlock)}>\r\n                                        {translate('landing.p2_description')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>               \r\n                        </Grid>                       \r\n                    </Grid>      \r\n                </div>\r\n\r\n                <div className={classNames(classes.dMdNone)} style={{background: '#F7F7F7'}}>\r\n                    <div className={classNames(classes.container, classes.mt8, classes.py8)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >                    \r\n                            <Grid item xs={12} className={classNames()}>\r\n                                <h2 className={classNames(classes.textH2, classes.textMono, classes.uppercase)}>\r\n                                    {translate('landing.badges_title')}\r\n                                </h2>\r\n                                <div className={classNames(classes.w100, classes.mt7, classes.textCenter)}>\r\n                                    <img src={'./img/medals.png'} className={classNames(classes.w100)} style={{width: '70%'}}/> \r\n                                </div>                          \r\n                                {/* <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                    <Button className={classNames(classes.mt4)} fullwidth>\r\n                                        Objav vyzvy\r\n                                    </Button> \r\n                                </div>     */}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div className={classNames(classes.dNone, classes.dMdBlock, classes.mt10)} style={{background: '#F7F7F7'}}>\r\n                    <div className={classNames(classes.container, classes.py10)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >                    \r\n                            <Grid item md={6} lg={7} className={classNames(classes.pr8, classes.prLg0)}>\r\n                                <h2 className={classNames(classes.textH1, classes.textMono, classes.uppercase)}>\r\n                                    {translate('landing.badges_description')}\r\n                                </h2>                                   \r\n                            </Grid>\r\n                            <Grid item md={6} lg={5} className={classNames(classes.positionRelative)}>\r\n                                <img src={'./img/medals-new.jpg'} className={classNames(classes.newMedalsImg)}/>                          \r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div id=\"newsletter\" className={classNames(classes.container, classes.bgSecondary, classes.dMdNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} className={classNames(classes.py11)}>\r\n                           \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase, classes.textWhite)}>\r\n                               {translate('subscribe.title')}\r\n                            </h2>  \r\n                            <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite)}>\r\n                                {translate('subscribe.description')}\r\n                            </div>\r\n\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.email}\r\n                                field=\"email\"    \r\n                                className={classNames(classes.mt5, classes.mb2)}                            \r\n                            />\r\n                            <Checkbox\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.checkConditions}\r\n                                field=\"checkConditions\"\r\n                                label={translate('subscribe.check')}\r\n                                labelClasses={classNames(classes.textWhite)}\r\n                                light={true}\r\n                            />\r\n                            <Button className={classNames(classes.mt7)} fullwidth onClick={this.handleSubscribe}>\r\n                                {translate('subscribe.submit')}\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.bgSecondary, classes.dNone, classes.dMdBlock, classes.newsletterFormDesktop)}>\r\n                    <div className={classNames(classes.container, classes.py11, classes.pyMd13)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >    \r\n                            <Grid item xs={12} md={5} lg={4} className={classNames()}>\r\n                            \r\n                                <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase, classes.textWhite)}>\r\n                                    {translate('subscribe.title')}\r\n                                </h2>  \r\n                                <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite)}>\r\n                                    {translate('subscribe.description')}\r\n                                </div>\r\n                                \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}  md={7} lg={7} xl={6} className={classNames(classes.mt3, classes.mtMd0)}>                               \r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.flexLgRow, classes.justifyContentLgBetween, classes.alignItemsEnd, classes.alignItemsLgCenter, classes.mt3, classes.mtLg5)}>\r\n                                    <TextField\r\n                                        onChange={this.handleChange}\r\n                                        fullWidth\r\n                                        required\r\n                                        value={this.state.email}\r\n                                        field=\"email\"                     \r\n                                    />\r\n                                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.mt3, classes.mtLg0)}>\r\n                                        <Checkbox\r\n                                            onChange={this.handleChange}\r\n                                            fullWidth\r\n                                            required\r\n                                            value={this.state.checkConditions}\r\n                                            field=\"checkConditions\"\r\n                                            label={translate('subscribe.check')}\r\n                                            className={classNames(classes.dLgNone)}\r\n                                            labelClasses={classNames(classes.textWhite)}\r\n                                            light={true}\r\n                                        />\r\n                                        <Button className={classNames(classes.ml4, classes.mtLg0)} minWidth={200} onClick={this.handleSubscribe}>\r\n                                            {translate('subscribe.submit')}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.justifyContentEnd, classes.mt4, classes.dNone, classes.dLgFlex)}>\r\n                                    <Checkbox\r\n                                        onChange={this.handleChange}\r\n                                        fullWidth\r\n                                        required\r\n                                        value={this.state.checkConditions}\r\n                                        field=\"checkConditions\"\r\n                                        label={translate('subscribe.check')}\r\n                                        className={classNames()}\r\n                                        labelClasses={classNames(classes.textWhite)}\r\n                                        light={true}\r\n                                    />\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py10, classes.pyMd11, classes.pyLg12)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    > \r\n                        <Grid item xs={12} md={5} lg={4} className={classNames(classes.mb5, classes.mbMd0)}>\r\n                            {/* <div className={classNames(classes.textH3, classes.textMono, classes.uppercase)}>\r\n                                Otazky?\r\n                            </div> */}\r\n                            <h2 className={classNames(classes.textMono, classes.textH3, classes.uppercase, classes.dMdNone)}>\r\n                                {translate('landing.faq')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH1, classes.textLeft, classes.uppercase, classes.dNone, classes.dMdBlock)}>\r\n                                {translate('landing.faq')}\r\n                            </h2> \r\n                        </Grid>\r\n                        <Grid item xs={12} md={7} lg={8} className={classNames()}>\r\n                            <Faq questions={posts.data}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>  \r\n\r\n                <div className={classNames(classes.footerBg)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        > \r\n                            <Grid item xs={12} className={classNames(classes.dFlex, classes.alignItemsCenter, classes.w100, classes.justifyContentBetween, classes.py6, classes.dMdNone)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                    <div className={classNames()}>\r\n                                        {translate('contact.title')}\r\n                                    </div>\r\n                                    <a className={classNames(classes.fontBold,)}>\r\n                                        {translate('contact.email')}\r\n                                    </a>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <a className={classNames(classes.mr5)}>\r\n                                        <InstagramIcon size={25} />\r\n                                    </a>\r\n                                    <a className={classNames()}>\r\n                                        <FacebookIcon size={25} />\r\n                                    </a>\r\n                                </div>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.alignItemsCenter, classes.w100, classes.py6, classes.dNone, classes.dMdFlex)}>                                \r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <a className={classNames(classes.mr5)}>\r\n                                        <InstagramIcon size={25} />\r\n                                    </a>\r\n                                    <a className={classNames()}>\r\n                                        <FacebookIcon size={25} />\r\n                                    </a>\r\n                                </div>\r\n\r\n                                <a className={classNames(classes.fontBold, classes.ml6)}>\r\n                                    {translate('contact.email')}\r\n                                </a>\r\n                            </Grid>\r\n                        \r\n                        </Grid>\r\n                    </div>\r\n                </div> \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withDoby\r\n)(LandingCountdown);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport getSharedStyles from '../../style';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n});\r\n\r\n\r\nclass Challenges extends React.Component {\r\n    constructor(props) {\r\n        super(props);       \r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={()=>this.props.history.push('challenge-detail')}>\r\n                asdasdads\r\n            </div>\r\n        )\r\n    }\r\n} \r\n\r\n\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withRouter\r\n)(Challenges);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport Flickity from \"react-flickity-component\";\r\nimport Button from '../dobyComponents/form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introSection: {\r\n        minHeight: 'calc(100vh - 60px)',\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        background: 'url(\"/img/intro-bg.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            background: 'linear-gradient(0deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0) 100%)'\r\n        }\r\n    },\r\n    challengeLogo: {\r\n        width: '100px',\r\n        height: 'auto',\r\n        zIndex: 4,\r\n    },\r\n    challengeIntroContent: {\r\n        paddingBottom: '120px',\r\n        zIndex: 4,\r\n    },\r\n    summitsDetail: {\r\n        minHeight: 'calc(100vh - 60px)',\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        background: 'url(\"/img/challenge-card.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            background: 'linear-gradient(0deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0) 100%)'\r\n        }\r\n    },\r\n    summitsDetailContent: {\r\n        zIndex: 4,\r\n        position: 'relative',        \r\n    },  \r\n    summitsCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            //paddingRight: '0.5rem',\r\n        }\r\n    },\r\n    summitCarouselItem: {\r\n        background: 'rgba(255,255,255,0.5)',\r\n        whiteSpace: 'nowrap',\r\n        minWidth: '160px',\r\n    },\r\n    summitCarouselItemActive: {\r\n        background: 'rgba(255,255,255,1)', \r\n    }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'center',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\n\r\nclass ChallengeDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);       \r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    renderSummits = () => {\r\n        const { classes } = this.props;\r\n        let summits = [\r\n            {id: 0, name: 'Vychodna vysoka', altitude: 2495},\r\n            {id: 1, name: 'Koprovsky stit', altitude: 2495},\r\n            {id: 2, name: 'Rysy', altitude: 2495},\r\n            {id: 3, name: 'Krivan', altitude: 2495, active: true},\r\n            {id: 4, name: 'Slavkosky stit', altitude: 2495},\r\n            {id: 5, name: 'Jahnaci stit', altitude: 2495},\r\n        ]\r\n\r\n        return summits.map(summit=>{\r\n            return (\r\n                <div className={classNames(\"carousel-cell\")}>\r\n                    <div className={classNames(classes.summitCarouselItem, summit.active && classes.summitCarouselItemActive, classes.flexCol, classes.alignItemsCenter, classes.roundedMd, classes.px5, classes.py2, classes.mr5)}>\r\n                        <div className={classNames(classes.fontBold)}>\r\n                            {summit.name}\r\n                        </div>\r\n                        <div className={classNames()}>\r\n                            {summit.altitude}\r\n                        </div>\r\n                    </div>\r\n                </div>              \r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introSection)}>\r\n                    <div className={classNames(classes.container, classes.pt5, classes.h100)}>\r\n                        <div className={classNames(classes.flexCol, classes.h100, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.challengeLogoHolder)}>\r\n                                <img src={\"./img/dobylogo.png\"} className={classNames(classes.challengeLogo)}/>\r\n                            </div>                          \r\n                            <div className={classNames(classes.flexCol, classes.challengeIntroContent)}>\r\n                                <h3 className={classNames(classes.fontBold, classes.textWhite)}>\r\n                                    Doby Tatry 2021\r\n                                </h3>\r\n                                <div className={classNames(classes.textWhite, classes.mt2)}>\r\n                                    6 najkrajch vrcholov z Vysokch Tatier. Vysok Tatry s povaovan za najkrajie pohorie na Slovensku a s touto vzvou \r\n                                    spozn to najlepie z nich. \r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                    Termin\r\n                                </div>\r\n                                <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                    Od 1.7 do 30.9.2021\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2,)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Obtiaznost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            Narocna\r\n                                        </div>  \r\n                                    </div>\r\n                                    <div className={classNames(classes.flexCol, classes.ml6)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Casova narocnost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            6 celodennych tur\r\n                                        </div>  \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.summitsDetail)}>\r\n                    <div className={classNames(classes.flexCol, classes.h100, classes.justifyContentEnd, classes.summitsDetailContent)}>\r\n                        <div className={classNames(classes.container)}>\r\n                            <Grid\r\n                                container\r\n                                direction=\"row\"\r\n                                justify=\"center\"\r\n                                alignItems=\"center\"\r\n                            >\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Obtiaznost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            Narocna\r\n                                        </div>  \r\n                                    </div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Najkratsia trasa\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            <span>7:06h</span><span className={classNames(classes.ml5)}>11,4km</span><span className={classNames(classes.ml5)}>+1 355m</span>\r\n                                        </div>                                      \r\n                                    </div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.textWhite, classes.mt4)}>\r\n                                        Ikona Slovenska a mnohmi povaovan \r\n                                        za najkraj vrchol v Tatrch. Z jeho vrcholu je \r\n                                        ndhern vhad na cel Tatry a na Zpadn Tatry. Hovor sa, e kad Slovk, by ho mal aspo raz v ivote zdola.\r\n                                    </div>\r\n                                </Grid>                           \r\n                            </Grid>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.summitsCarouselHolder, classes.mt5, classes.mb8)}>\r\n                            <Flickity\r\n                                className={classNames(classes.summitsCarousel)}\r\n                                options={flickityOptions}\r\n                                reloadOnUpdate={true}\r\n                            >\r\n                                {this.renderSummits()}\r\n                            </Flickity>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container)} style={{paddingBottom: '120px'}}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                            <Button fullwidth onClick={()=>this.props.history.push('challenge-checkout')}>Prijat vyzvu od 22</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n} \r\n\r\n\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(ChallengeDetail);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport Modal from '@material-ui/core/Modal';\r\n//import classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    modalWrapper: {\r\n        background: 'white',\r\n        padding: '1rem'\r\n    }\r\n});\r\n\r\nfunction DobyModal(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <Modal\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n            open={props.isOpen}\r\n            onClose={props.onClose}\r\n        >\r\n            <div className={classes.modalWrapper}>\r\n                { props.children }\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(DobyModal);","import React, { useState, useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withStore from '../../../consumers/withStore';\r\nimport withDoby from '../../../consumers/withDoby';\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport Select from '../../shared/Select';\r\nimport compose from '../../../compose';\r\nimport Button from '../form/Button';\r\nimport Modal from '../Modal';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productImg: {\r\n        maxWidth: '100%'\r\n    },\r\n    thumbnailHolder: {\r\n        height: '110px',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nclass ProductSmallCard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            img: null,\r\n            addToCartModal: false,\r\n            selectedProduct: null,\r\n            detailImage: null,\r\n            selectedVariants: {},\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getImg();\r\n    }\r\n\r\n    getImg = async () => {\r\n        try {\r\n            if (this.props.thumbnailId) {\r\n                const data = await this.props.store.getFile(this.props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    this.setState({ img: reader.result })\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    openAddToCartModal = async () => {\r\n        await this.props.doby.getProductsByCatalogId(this.props.catalogId);\r\n        const catalogProducts = this.props.doby.catalog.data;\r\n        if (catalogProducts.length > 0) {\r\n            this.setState({ selectedProduct: catalogProducts[0] }, () => {\r\n                this.fetchDetailImage();\r\n            });\r\n        }\r\n        this.setState({ addToCartModal: true })\r\n    }\r\n\r\n    handleChangeDropdown = (name, value) => {\r\n        this.setState((state) => {\r\n            return {\r\n                ...state,\r\n                selectedVariants: {\r\n                    ...state.selectedVariants,\r\n                    [name]: value\r\n                }\r\n            };\r\n        }, () => {\r\n            const product = this.getProductByDropdownSelection();\r\n            this.setState({ selectedProduct: product }, () => this.fetchDetailImage());\r\n        });\r\n    }\r\n\r\n    fetchDetailImage = async () => {\r\n        const { imageId } = this.state.selectedProduct;\r\n        if (imageId) {\r\n            const data = await this.props.store.getFile(imageId);\r\n            let reader = new FileReader();\r\n            reader.onloadend = () => this.setState({ detailImage: reader.result });\r\n            reader.readAsDataURL(data);\r\n        }\r\n    }\r\n\r\n    getProductByDropdownSelection = () => {\r\n        //NOTE: musme vybrat tolko dropdownov kolko mame unikatnych parametrov pre produkt variant\r\n        if (Object.keys(this.state.selectedVariants).length !== Object.keys(this.props.doby.productVariants.data).length)\r\n            return null;\r\n\r\n        for (let variant of this.props.doby.catalog.data) {\r\n            let hasAllRequirements = false;\r\n            for (let variantKey in this.state.selectedVariants) {\r\n                if (variant.tech_param && variant.tech_param[variantKey] === this.state.selectedVariants[variantKey]) {\r\n                    hasAllRequirements = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (hasAllRequirements)\r\n                return variant\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addToCart = () => {\r\n        if (this.state.selectedProduct) {\r\n            this.props.doby.cartAddProduct(this.state.selectedProduct);\r\n            //this.setState({showSnackbar: true});\r\n        }\r\n    }\r\n\r\n    renderDropdowns = () => {\r\n        let dropdowns = [];\r\n        for (let variantKey in this.props.doby.productVariants.data) {\r\n            dropdowns.push(\r\n                <Select\r\n                    key={variantKey}\r\n                    value={this.state.selectedVariants[variantKey] ? this.state.selectedVariants[variantKey].toString() : ''}\r\n                    field={variantKey}\r\n                    onChange={this.handleChangeDropdown}\r\n                    data={this.props.doby.productVariants.data[variantKey].data}\r\n                    textField={\"name\"}\r\n                    fullWidth\r\n                    required\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                { dropdowns}\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes, title, price } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.roundedMd, classes.bgWhite, classes.p4)}>\r\n                    <div className={classNames(classes.flexCol)}>\r\n                        <div className={classNames(classes.thumbnailHolder)}>\r\n                            <img src={this.state.img} className={classNames(classes.productImg)} alt=\"\" />\r\n                        </div>\r\n                        <div className={classNames(classes.textXs, classes.fontSemibold, classes.mt3)}>\r\n                            {title}\r\n                        </div>\r\n                        <div className={classNames(classes.fontBold)}>\r\n                            {price}  <span className={classNames(classes.textXs2, classes.text200, classes.fontRegular)}>s DPH</span>\r\n                        </div>\r\n                        <Button\r\n                            className={classNames(classes.mt4, classes.textXs2)}\r\n                            onClick={this.openAddToCartModal}\r\n                            fullwidth\r\n                        >\r\n                            {this.props.translate('add_to_cart')}\r\n                        </Button>\r\n                        <Button\r\n                            className={classNames(classes.mt2, classes.textXs2)}\r\n                            outline={true}\r\n                            onClick={this.props.onClickViewDetails}\r\n                            fullwidth\r\n                        >\r\n                            {this.props.translate('product_details')}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Modal\r\n                    isOpen={this.state.addToCartModal}\r\n                    onClose={() => this.setState({ addToCartModal: false })}\r\n                >\r\n                    {!this.props.doby.catalog.isLoading && <>   \r\n                        <img\r\n                            className={classes.productImg}\r\n                            src={this.state.detailImage ? this.state.detailImage : ''}\r\n                            alt={''}\r\n                        />\r\n                        { this.renderDropdowns() }\r\n                        <Button\r\n                            className={classNames(classes.mt2, classes.textXs2)}\r\n                            outline={true}\r\n                            fullwidth\r\n                            onClick={this.addToCart}\r\n                            disabled={this.state.selectedProduct && this.state.selectedProduct.disabled}\r\n                        >\r\n                            {this.props.translate('add_to_cart')}\r\n                        </Button>\r\n                    </> }\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby\r\n)(ProductSmallCard);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport HillIcon from '@material-ui/icons/TerrainOutlined';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport ProductSmallCard from '../dobyComponents/eshop/ProductSmallCard'\r\nimport { withLocalization } from '../shared/localization';\r\nimport { formatPrice } from '../../utils/helpers'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    checkoutStep: {\r\n        width: '25%',\r\n        height: '60px',\r\n        background: 'red',\r\n    },\r\n    checkoutStepActive: {\r\n        background: 'green'\r\n    },\r\n    logoHolder: {\r\n        width: '80px',\r\n        height: '80px',\r\n        background: 'white',\r\n        borderRadius: '10px',\r\n        textAlign: 'center',\r\n    },\r\n    logolImg: {\r\n        maxWidth: '70px'\r\n    },\r\n    challengeName: {\r\n        color: '#47556A',\r\n        fontSize: '20px',\r\n    },\r\n    stepNumber: {\r\n        height: '40px',\r\n        width: '40px',\r\n        borderRadius: 50,\r\n        textAlign: 'center',\r\n        lineHeight: '40px',\r\n        background: '#333442',\r\n        color: 'white',\r\n    },\r\n\r\n    //package\r\n    challengePackageCard: {\r\n        background: 'white',\r\n        border: '1px solid #C8D2E1'\r\n    },\r\n    challengePackageCardSelected: {\r\n        background: '#333442',\r\n        border: '1px solid #333442',\r\n        color: 'white'\r\n    },\r\n    btnWhite: {\r\n        background: 'white',\r\n        color: '#333442'\r\n    },\r\n    lightText: {\r\n        color: 'rgba(255,255,255,0.4)'\r\n    },\r\n});\r\n\r\n\r\nclass ChallengeCheckout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedPackage: null,\r\n            selectedGift: null,\r\n            challenge: null,\r\n            challengeLogo: null,\r\n\r\n            //starterPackLowcost: null,\r\n            starterPackStandard: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchStarterpacks = async () => {\r\n        //NOTE: get all products with category of starterpack\r\n        const filterStarterpack = [\r\n            { field: \"catalog_id\", value: \"pack\" }\r\n        ];\r\n\r\n        //TODO: use find \r\n        const packs = await this.props.doby.getProducts(filterStarterpack);\r\n        await this.setState({ starterPackStandard: packs.data[0]});\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { _id } = this.props.match.params;\r\n        await this.fetchStarterpacks();\r\n\r\n        const filter = [\r\n            { field: \"main\", value: true },\r\n        ];\r\n\r\n        await this.props.doby.getProducts(filter);\r\n        await this.props.doby.getChallenges();\r\n\r\n        const challenge = this.props.doby.challenges.data.find(x => x._id === _id);\r\n        if (challenge) {\r\n            this.setState({\r\n                challenge\r\n            });\r\n\r\n            this.getChallangeLogo(challenge.logoId)\r\n        }\r\n    }\r\n\r\n    getChallangeLogo = async (logoId) => {\r\n        if (!logoId)\r\n            return;\r\n\r\n        const data = await this.props.store.getFile(logoId)\r\n        var reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            this.setState({ challengeLogo: reader.result });\r\n        }\r\n        reader.readAsDataURL(data);\r\n    }\r\n\r\n    packageChanged = (field, value) => {\r\n        this.setState({\r\n            [field]: value._id\r\n        })\r\n\r\n        if (value._id === this.state.starterPackStandard._id) {\r\n            //this.props.doby.cartRemoveProduct(this.state.starterPackLowcost._id);\r\n            //console.log(this.state.starterPackStandard);\r\n            this.props.doby.cartAddProduct({\r\n                ...this.state.starterPackStandard,\r\n                challengeRef: {id: this.state.challenge._id}\r\n            });\r\n        }\r\n        // if (value._id === this.state.starterPackLowcost._id) {\r\n        //     this.props.doby.cartRemoveProduct(this.state.starterPackStandard._id);\r\n        //     this.props.doby.cartAddProduct({\r\n        //         ...this.state.starterPackLowcost,\r\n        //         challengeRef: {id: this.state.challenge._id}\r\n        //     });\r\n        // }\r\n        //more \r\n    }\r\n\r\n    handleFieldChange = (field, value) => {\r\n        this.setState({\r\n            [field]: value\r\n        })\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.data.map((product, index) => {\r\n            const { classes } = this.props;\r\n            return (\r\n                <Grid item xs={12} sm={6} className={classNames((index & 1) ? classes.pl2 : classes.pr2, classes.mb4)}>\r\n                    <ProductSmallCard\r\n                        key={product._id}\r\n                        title={product.name}\r\n                        price={product.price_with_tax}\r\n                        thumbnailId={product.thumbnailId}\r\n                        catalogId={product.catalog_id}\r\n                    />\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n\r\n    goToCart = () => {\r\n        this.props.history.push(`/eshop/cart`);\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.dFlex, classes.w100)}>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep, classes.checkoutStepActive)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"flex-start\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.logoHolder, classes.dFlex, classes.alignItemsCenter, classes.justifyContentCenter)}>\r\n                                    {this.state.challengeLogo && <img src={this.state.challengeLogo} className={classNames(classes.logolImg)} alt={''} />}\r\n                                </div>\r\n                                <div className={classNames(classes.challengeName, classes.ml4)}>\r\n                                    {this.state.challenge && this.state.challenge.name}\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt5, classes.mb6)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.stepNumber, classes.textMonoH4, classes.fontSemibold)}>\r\n                                    1\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textMonoH4, classes.ml4)}>\r\n                                    {this.props.translate('choose_your_package')}\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        {/* package lowcost */}\r\n                        <Grid item xs={12} className={classNames(classes.mb3)}>\r\n                            { this.state.starterPackLowcost && <div className={classNames(classes.roundedMd, classes.p5, this.state.selectedPackage === this.state.starterPackLowcost._id ? classes.challengePackageCardSelected : classes.challengePackageCard)} style={{ borderBottomLeftRadius: 0, borderBottomRightRadius: 0 }}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                        <div className={classNames(classes.fontSemibold)}>\r\n                                            Low Cost\r\n                                        </div>\r\n                                        <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textBase)}>\r\n                                                { formatPrice(this.state.starterPackLowcost.price_with_tax)}\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                <Radio\r\n                                                    onChange={(e) => this.packageChanged(\"selectedPackage\", this.state.starterPackLowcost)}\r\n                                                    value={0}\r\n                                                    checked={this.state.selectedPackage === this.state.starterPackLowcost._id}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.row, classes.mt3)}>\r\n                                        {/* <div className={classNames(classes.dFlex)}>\r\n                                            <div className={classNames()}>\r\n                                                icon\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                registracia vo vyzve\r\n                                            </div>\r\n                                        </div> */}\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div> }\r\n                            { this.state.starterPackStandard && <div className={classNames(classes.roundedMd, classes.p5, this.state.selectedPackage === this.state.starterPackStandard._id ? classes.challengePackageCardSelected : classes.challengePackageCard)} style={{ borderTopLeftRadius: 0, borderTopRightRadius: 0 }}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                        <div className={classNames(classes.fontSemibold)}>\r\n                                            Standard\r\n                                        </div>\r\n                                        <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textBase)}>\r\n                                                {formatPrice(this.state.starterPackStandard.price_with_tax)}\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                <Radio\r\n                                                    onChange={(e) => this.packageChanged(\"selectedPackage\", this.state.starterPackStandard)}\r\n                                                    value={0}\r\n                                                    checked={this.state.selectedPackage === this.state.starterPackStandard._id}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.mt2)}>\r\n                                        <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.roundedMd, classes.bg300, classes.py2, classes.px3)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textXs2)}>\r\n                                                Vsetko z balicku low cost\r\n                                            </div>\r\n                                            <div className={classNames(classes.dFlex, classes.ml2)}>\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className={classNames(classes.mt3)}>\r\n                                            <div className={classNames(classes.dFlex, classes.w100)}>\r\n                                                <div className={classNames(classes.w50, classes.pr1)}>\r\n                                                    <div className={classNames(classes.ml2)}>\r\n                                                        <div className={classNames()}>\r\n                                                            <HillIcon />\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                                            Zlavovy kupon 22 \r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs2, classes.mt1)}>\r\n                                                            Plat na veci z e-shopu niie. Kupn me vyui aj neskr (poleme ti ho na e-mail).\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className={classNames(classes.w50, classes.pl1)}>\r\n                                                    <div className={classNames(classes.ml2)}>\r\n                                                        <div className={classNames()}>\r\n                                                            <HillIcon />\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                                            Zlavovy kupon 22 \r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs2, classes.mt1)}>\r\n                                                            Plat na veci z e-shopu niie. Kupn me vyui aj neskr (poleme ti ho na e-mail).\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div> }\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt7, classes.mb6)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.stepNumber, classes.textMonoH4, classes.fontSemibold)}>\r\n                                    2\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textMonoH4, classes.ml4)}>\r\n                                    Vbava\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        {this.renderProducts()}\r\n\r\n                        <Button\r\n                            className={classNames(classes.w100, classes.roundedMd, classes.mt2, classes.mb4)}\r\n                            onClick={this.goToCart}\r\n                        >\r\n                            {this.props.translate('continue')}\r\n                        </Button>\r\n\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withUser,\r\n    withRouter,\r\n    withDoby,\r\n    withStore,\r\n    withLocalization\r\n)(ChallengeCheckout);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport getSharedStyles from \"../../style\";\r\nimport compose from \"../../compose\";\r\nimport classNames from \"classnames\";\r\nimport Button from \"./form/Button\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n\r\n  profileImgHolder: {\r\n    width: \"60px\",\r\n    height: \"60px\",\r\n    minWidth: \"60px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  medalImgHolder: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n    minWidth: \"30px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  medalImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n  },\r\n});\r\n\r\nfunction FollowCard(props) {\r\n  const { classes } = props;\r\n\r\n  const handleOnClick = () => {\r\n    props.onClick(props.userID);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        classes.card,\r\n        classes.roundedMd,\r\n        classes.p5,\r\n        classes.cardShadow,\r\n        props.className\r\n      )}\r\n    >\r\n      <div\r\n        className={classNames(\r\n          classes.mt4,\r\n          classes.dFlex,\r\n          classes.w100,\r\n          classes.justifyContentBetween\r\n        )}\r\n      >\r\n        <div className={classNames(classes.profileImgHolder)}>\r\n          <img\r\n            alt=\"avatarImg\"\r\n            src={\"./img/user-img.jpg\"}\r\n            className={classNames(classes.profileImg)}\r\n          />\r\n        </div>\r\n        <div className={classNames()}>\r\n          <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n            {props.name}\r\n          </div>\r\n          {props.medalCount !== 0 && (\r\n            <div className={classNames(classes.textXs, classes.text200)}>\r\n              <div className={classNames(classes.medalImgHolder)}>\r\n                <img\r\n                  alt=\"avatarImg\"\r\n                  src={\"./img/user-img.jpg\"}\r\n                  className={classNames(classes.medalImg)}\r\n                />\r\n                {`+${props.medalCount}`}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Button\r\n          fullwidth\r\n          className={classNames(classes.mt3, classes.w100)}\r\n          onClick={handleOnClick}\r\n        >\r\n          {props.translate(props.buttonLabel || \"follow\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nFollowCard.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  buttonLabel: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  medalCount: PropTypes.string.isRequired,\r\n  userID: PropTypes.string,\r\n};\r\n\r\nexport default compose(withStyles(styles), withLocalization)(FollowCard);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport compose from \"../../compose\";\r\nimport getSharedStyles from \"../../style\";\r\nimport classNames from \"classnames\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\n\r\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\r\nimport Button from \"../dobyComponents/form/Button\";\r\nimport FollowCard from \"../dobyComponents/FollowCard\";\r\nimport Autocomplete from \"../shared/Autocomplete\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImg: {\r\n    width: \"120px\",\r\n    borderRadius: \"100px\",\r\n  },\r\n  medalItem: {\r\n    width: \"120px\",\r\n    height: \"160px\",\r\n    position: \"relative\",\r\n  },\r\n  medalItemBg: {\r\n    background: \"#F5F5F5\",\r\n    //background: 'red',\r\n    borderRadius: \"10px\",\r\n    width: \"100%\",\r\n    height: \"120px\",\r\n  },\r\n  medalItemImg: {\r\n    width: \"95px\",\r\n    position: \"absolute\",\r\n    top: \"10px\",\r\n    left: 0,\r\n    right: 0,\r\n    margin: \"0 auto\",\r\n  },\r\n  medalCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n  challengesCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n});\r\n\r\n// const flickityOptions = {\r\n//   cellAlign: \"left\",\r\n//   contain: true,\r\n//   prevNextButtons: false,\r\n//   pageDots: false,\r\n// };\r\n\r\nclass Follow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      following: [],\r\n      followers: [],\r\n      renderFollowers: true,\r\n      foundFriend: null,\r\n    };\r\n  }\r\n\r\n  goToProfile = () => this.props.history.push(`/profile`);\r\n  goToProfileFriend = (id) => this.props.history.push(`/profile-friend/${id}`);\r\n\r\n  buildFilter = (ids) => {\r\n    return ids.map((id) => ({ field: \"_id\", value: id.id }));\r\n  };\r\n\r\n  showFollowers = () => {\r\n    this.setState({ renderFollowers: true });\r\n  };\r\n\r\n  showFollowing = () => {\r\n    this.setState({ renderFollowers: false });\r\n  };\r\n\r\n  // Follow/Unfollow user\r\n  handleFollowUser = async (id) => {\r\n    this.props.doby.followUser(id);\r\n\r\n    const { followers, following } = this.state;\r\n    const user = followers.find((f) => f._id === id);\r\n\r\n    following.push(user);\r\n    this.setState({ following });\r\n  };\r\n  handleUnfollowUser = async (id) => {\r\n    this.props.doby.unfollowUser(id);\r\n\r\n    let { following } = this.state;\r\n    following = this.state.following.filter((f) => f._id !== id);\r\n\r\n    this.setState({ following });\r\n  };\r\n\r\n  renderFollowing = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.following.map((f) => {\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <FollowCard\r\n            className={classNames(classes.mr5)}\r\n            buttonLabel=\"following\"\r\n            onClick={this.handleUnfollowUser}\r\n            name={f.name}\r\n            medalCount={0}\r\n            userID={f._id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderFollowers = () => {\r\n    const { classes } = this.props;\r\n    const { following, followers } = this.state;\r\n\r\n    return followers.map((follower) => {\r\n      const alreadyFollowHim =\r\n        following.find((following) => following._id === follower._id) !==\r\n        undefined;\r\n\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <FollowCard\r\n            className={classNames(classes.mr5)}\r\n            buttonLabel={alreadyFollowHim ? \"following\" : \"follow\"}\r\n            onClick={\r\n              alreadyFollowHim ? this.handleUnfollowUser : this.handleFollowUser\r\n            }\r\n            name={follower.name}\r\n            medalCount={1}\r\n            userID={follower._id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  setFollowingFollowers = async (followingRef, followersRef) => {\r\n    const { getUsers } = this.props.user;\r\n\r\n    let { following, followers } = this.state;\r\n\r\n    if (followingRef && followingRef.length !== 0) {\r\n      if (followingRef.length === 0) following = [];\r\n      else {\r\n        const filterFollowing = this.buildFilter(followingRef);\r\n        following = (await getUsers(filterFollowing)).data;\r\n      }\r\n    }\r\n\r\n    if (followersRef && followersRef.length !== 0) {\r\n      if (followersRef.length === 0) followers = [];\r\n      else {\r\n        const filterFollowers = this.buildFilter(followersRef);\r\n        followers = (await getUsers(filterFollowers)).data;\r\n      }\r\n    }\r\n\r\n    this.setState({ following, followers });\r\n  };\r\n\r\n  handleOnChangeSearchFriends = (name, friend) => {\r\n    this.goToProfileFriend(friend._id);\r\n  };\r\n\r\n  handleOnFilterChangeSearchFriends = async (filter) => {\r\n    await this.props.user.getUsers(filter);\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { user, getUsers } = this.props.user;\r\n\r\n    const dobyUser = await this.props.doby.getUser(user._id);\r\n    if (dobyUser) {\r\n      const { followingRef, followersRef } = dobyUser;\r\n      this.setFollowingFollowers(followingRef, followersRef);\r\n    }\r\n\r\n    await getUsers([]);\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { users } = this.props.user;\r\n    const { following, followers, renderFollowers, foundFriend } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            {/* HEADER NAVIGATION */}\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      flexWrap: \"wrap\",\r\n                    }}\r\n                  >\r\n                    <ArrowLeftIcon onClick={this.goToProfile} />\r\n                    <span>Profil</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* FOLLOW ME/THEM BUTTONS */}\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt4\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.mt3, classes.w100)}>\r\n                    <Button\r\n                      onClick={this.showFollowing}\r\n                      fullwidth\r\n                    >{`Sledujem (${following.length})`}</Button>\r\n                  </div>\r\n                  <div className={classNames(classes.mt3, classes.w100)}>\r\n                    <Button\r\n                      onClick={this.showFollowers}\r\n                      fullwidth\r\n                    >{`Sleduj ma (${followers.length})`}</Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* FOLLOWERS/FOLLOWING CARDS */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                {renderFollowers && this.renderFollowers()}\r\n                {!renderFollowers && this.renderFollowing()}\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* SEARCH FRIENDS */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                <Autocomplete\r\n                  classes={classes}\r\n                  onChange={this.handleOnChangeSearchFriends}\r\n                  onFilterChange={this.handleOnFilterChangeSearchFriends}\r\n                  data={users ? users.data : []}\r\n                  field=\"foundFriend\"\r\n                  textField=\"username\"\r\n                  label=\"Njs priateov\"\r\n                  value={foundFriend}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFollow.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Follow);\r\n","import Login from \"./components/login/Login\";\r\nimport Account from \"./components/account/Account\";\r\nimport OAuth from \"./components/oauth/OAuth\";\r\nimport Enums from \"./components/enums/Enums\";\r\nimport Templates from \"./components/templates/Templates\";\r\nimport Summits from \"./components/summits/Summits\";\r\nimport Series from \"./components/series/Series\";\r\n// import Challenges from \"./components/challenges/Challenges\";\r\nimport Products from \"./components/products/Products\";\r\nimport Posts from \"./components/posts/Posts\";\r\nimport Users from \"./components/users/Users\";\r\nimport Partners from \"./components/partners/Partners\";\r\nimport Eshop from \"./components/eshop/Eshop\";\r\nimport Checkout from \"./components/eshop/checkout/Checkout\";\r\nimport Cart from \"./components/eshop/Cart\";\r\nimport ProductDetail from \"./components/eshop/ProductDetail\";\r\nimport Transports from \"./components/transports/Transports\";\r\nimport Verification from \"./components/eshop/checkout/VerificationPayment\";\r\nimport permissions from \"./permissions\";\r\n\r\n//admin\r\nimport ChallengesAdmin from \"./components/admin/challenges/Challenges\";\r\n\r\nimport Home from \"./components/home/Home\";\r\nimport Profile from \"./components/account/profile/Profile\";\r\nimport ProfileSettings from \"./components/account/profile/ProfileSettings\";\r\nimport Landing from \"./components/landing/Landing\";\r\nimport LandingCountdown from \"./components/landing/LandingCountdown\";\r\nimport Challenges from \"./components/challenges/Challenges\";\r\nimport ChallengeDetail from \"./components/challenges/ChallengeDetail\";\r\nimport ChallengeCheckout from \"./components/challenges/ChallengeCheckout\";\r\nimport Follow from \"./components/friends/Follow\";\r\n\r\nconst routes = [\r\n  {\r\n    name: \"newsfeed\",\r\n    path: \"/newsfeed\",\r\n    component: Home,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"landing\",\r\n    path: \"/landing\",\r\n    component: Landing,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"home\",\r\n    path: \"/home\",\r\n    component: LandingCountdown,\r\n    exact: true,\r\n    anonymous: true\r\n  },\r\n  {\r\n    name: \"eshop\",\r\n    path: \"/eshop\",\r\n    component: Eshop,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"verification\",\r\n    path: \"/eshop/checkout/verify\",\r\n    component: Verification,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"checkout\",\r\n    path: \"/eshop/checkout\",\r\n    component: Checkout,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"cart\",\r\n    path: \"/eshop/cart\",\r\n    component: Cart,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"product\",\r\n    path: \"/eshop/product/:_id\",\r\n    component: ProductDetail,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"enums\",\r\n    path: \"/enums\",\r\n    component: Enums,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"templates\",\r\n    path: \"/templates\",\r\n    component: Templates,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"summits\",\r\n    path: \"/summits\",\r\n    component: Summits,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"series\",\r\n    path: \"/series\",\r\n    component: Series,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"challenges-admin\",\r\n    path: \"/challenges-admin\",\r\n    component: ChallengesAdmin,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"transports\",\r\n    path: \"/transports\",\r\n    component: Transports,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"products\",\r\n    path: \"/products\",\r\n    component: Products,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"posts\",\r\n    path: \"/posts\",\r\n    component: Posts,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"users\",\r\n    path: \"/users\",\r\n    component: Users,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"partners\",\r\n    path: \"/partners\",\r\n    component: Partners,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"login\",\r\n    path: \"/login\",\r\n    component: Login,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"oauth\",\r\n    path: \"/\",\r\n    component: OAuth,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"account\",\r\n    path: \"/account\",\r\n    component: Account,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profile\",\r\n    path: \"/profile\",\r\n    component: Profile,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profileFriend\",\r\n    path: \"/profile-friend/:_id\",\r\n    component: Profile,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profileSettings\",\r\n    path: \"/profile-settings\",\r\n    component: ProfileSettings,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenges\",\r\n    path: \"/challenges\",\r\n    component: Challenges,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenge-detail\",\r\n    path: \"/challenge-detail\",\r\n    component: ChallengeDetail,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenge-checkout\",\r\n    path: \"/challenge-checkout/:_id\",\r\n    component: ChallengeCheckout,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"friends-follow\",\r\n    path: \"/friends-follow\",\r\n    component: Follow,\r\n    exact: true,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport BottomNavigationBar from './components/dobyComponents/BottomNavigationBar'\r\n\r\nimport compose from './compose';\r\nimport withUser from './consumers/withUser';\r\nimport Container from \"./components/shared/Container\";\r\nimport routes from './routes';\r\nimport config from './config.json'\r\n\r\nconst styles = theme => ({\r\n  close: {\r\n    padding: theme.spacing.unit / 2,\r\n  },\r\n});\r\n\r\nlet _basename = '/';\r\nlet _init = false;\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(process.env.NODE_ENV === \"production\") {\r\n      const url = new URL(process.env.REACT_APP_HOMEPAGE);\r\n      _basename = url.pathname;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user, classes } = this.props;\r\n\r\n    if(!_init && user.user) {\r\n      _init = true;\r\n      user.initHub();\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Router basename={_basename}>\r\n          <Container\r\n            user={user}\r\n            routes={routes}\r\n            logo={config.logo}\r\n          >\r\n            {routes.map(x => {\r\n              if (x.anonymous) return (\r\n                <Route key={x.name} path={x.path} exact={x.exact} component={x.component} />\r\n              )\r\n              else return (\r\n                <PrivateRoute exact={x.exact} key={x.name} path={x.path} component={x.component} user={user} permission={x.permission} />\r\n              )\r\n            })}\r\n          </Container>\r\n\r\n          {/* <BottomNavigationBar/> */}\r\n        </Router>        \r\n\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n          open={user.msg}\r\n          autoHideDuration={6000}\r\n          onClose={user.hideMsg}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }}\r\n          message={<span id=\"message-id\">{user.msg}</span>}\r\n          action={[\r\n            <IconButton\r\n              key=\"close\"\r\n              aria-label=\"Close\"\r\n              color=\"inherit\"\r\n              className={classes.close}\r\n              onClick={user.hideMsg}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>,\r\n          ]}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nfunction PrivateRoute({ component: Component, user, permission, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if(!user.user) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else if(permission && !user.hasPermission(permission)) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: config.home,\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import config from '../config.json';\r\nimport { auth as a } from 'kd-web';\r\n\r\nexport const auth = async (username, password, token = '') => {\r\n  try {\r\n    return await a.auth(username, password, token);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nconst buildRedirectUri = (provider) => {\r\n  let url = process.env.REACT_APP_HOMEPAGE;  \r\n  // fb\r\n  if(provider === '5') {\r\n    url += '/';\r\n  }\r\n\r\n  return `${url}?provider=${provider}`;\r\n}\r\n\r\nexport const oAuth = async (provider, code) => {\r\n  try {\r\n    return await a.oAuth(provider, code, buildRedirectUri(provider), config.configId);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const reset = async (username) => {\r\n  try {\r\n    return await a.reset(username, process.env.REACT_APP_HOMEPAGE)\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const updateOauth = async (provider, code) => {\r\n  try {\r\n    return await a.updateOauth(provider, code, buildRedirectUri(provider));\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const generateSecret = async () => {\r\n  try {\r\n    return await a.generateSecret();\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const getUsers = async (filters, sort, page) => {\r\n  try {\r\n    return await a.getUsers(filters, sort, page);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const getUser = async (id) => {\r\n  try {\r\n    return await a.getUser(id);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const updateUser = async (id, data) => {\r\n  try {\r\n    return await a.updateUser(id, data);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const checkUser = async (username) => {\r\n  try {\r\n    return await a.checkUser(username);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}","import React from \"react\";\r\nimport UserContext from \"../contexts/UserContext\";\r\nimport * as authUtils from \"../utils/authUtils\";\r\nimport * as mailUtils from \"../utils/mailUtils\";\r\nimport { storage } from \"kd-web\";\r\n\r\nclass UserProvider extends React.Component {\r\n  state = {\r\n    user: storage.getUser(),\r\n    msg: null,\r\n    users: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    secret: null,\r\n  };\r\n\r\n  showMsg = (msg) => {\r\n    this.setState({ msg });\r\n  };\r\n\r\n  showError = (error) => {\r\n    this.setState({ msg: error.message });\r\n  };\r\n\r\n  hideMsg = () => {\r\n    this.setState({ msg: null });\r\n  };\r\n\r\n  auth = async (username, password, token) => {\r\n    try {\r\n      const user = await authUtils.auth(username, password, token);\r\n      this.setState({ user });\r\n\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      const secret = await authUtils.generateSecret();\r\n      this.setState({ secret });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  oAuth = async (provider, code) => {\r\n    try {\r\n      const user = await authUtils.oAuth(provider, code);\r\n      this.setState({ user });\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  updateOauth = async (provider, code) => {\r\n    try {\r\n      const user = await authUtils.updateOauth(provider, code);\r\n      this.setState({ user });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  updateUser = async (id, data) => {\r\n    try {\r\n      const user = await authUtils.updateUser(id, data);\r\n      this.setState({ user });\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  checkUser = async (username) => {\r\n    try {\r\n      return await authUtils.checkUser(username);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  reset = async (username) => {\r\n    try {\r\n      await authUtils.reset(username);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getUsers = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await authUtils.getUsers(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        users: { ...state.users, isLoading: true },\r\n      }));\r\n      const users = await authUtils.getUsers(filters, sort, page);\r\n      users.isLoading = false;\r\n      this.setState({ users });\r\n      return users;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  hasPermission = (permission) => {\r\n    return this.state.user && (this.state.user.permissions & permission) > 0;\r\n  };\r\n\r\n  onNotification = () => {\r\n    console.log(\"hub_notification\");\r\n  };\r\n\r\n  initHub = () => {\r\n    mailUtils.initHub(this.onNotification);\r\n\r\n    setTimeout(async function () {\r\n      //const res = await mailUtils.sendMock();\r\n      // console.log(res);\r\n    }, 2000);\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <UserContext.Provider\r\n        value={{\r\n          auth: this.auth,\r\n          hideMsg: this.hideMsg,\r\n          showMsg: this.showMsg,\r\n          showError: this.showError,\r\n          generateSecret: this.generateSecret,\r\n          oAuth: this.oAuth,\r\n          updateOauth: this.updateOauth,\r\n          getUsers: this.getUsers,\r\n          getUser: authUtils.getUser,\r\n          updateUser: this.updateUser,\r\n          checkUser: this.checkUser,\r\n          hasPermission: this.hasPermission,\r\n          reset: this.reset,\r\n          initHub: this.initHub,\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import { store } from \"kd-web\";\r\n\r\nexport const postFile = async (file) => {\r\n  try {\r\n    return await store.postFile(file);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getFile = async (id) => {\r\n  try {\r\n    return await store.getFile(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const delFile = async (id) => {\r\n  try {\r\n    return await store.delFile(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst ENUMS_COLLECTION = \"enums\";\r\nexport const addEnum = async (data) => {\r\n  try {\r\n    await store.post(ENUMS_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editEnum = async (data) => {\r\n  try {\r\n    await store.put(ENUMS_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getEnums = async (enumTypes, filters, sort, page) => {\r\n  try {\r\n    const enums = await store.get(ENUMS_COLLECTION, filters, sort, page);\r\n    for (const x of enums.data) {\r\n      x._enumType = enumTypes.find((e) => e._id === x.enumTypeId) || {\r\n        name: null,\r\n      };\r\n    }\r\n    return enums;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteEnum = async (id) => {\r\n  try {\r\n    await store.delById(ENUMS_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst TEMPLATES_COLLECTION = \"templates\";\r\nexport const addTemplate = async (data) => {\r\n  try {\r\n    await store.post(TEMPLATES_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editTemplate = async (data) => {\r\n  try {\r\n    await store.put(TEMPLATES_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTemplates = async (filters, sort, page) => {\r\n  try {\r\n    const templates = await store.get(\r\n      TEMPLATES_COLLECTION,\r\n      filters,\r\n      sort,\r\n      page\r\n    );\r\n    return templates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteTemplate = async (id) => {\r\n  try {\r\n    await store.delById(TEMPLATES_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst TRANSPORTS_COLLECTION = \"transports\";\r\nexport const addTransport = async (data) => {\r\n  try {\r\n    await store.post(TRANSPORTS_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editTransport = async (data) => {\r\n  try {\r\n    await store.put(TRANSPORTS_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTransports = async (filters, sort, page) => {\r\n  try {\r\n    const templates = await store.get(\r\n      TRANSPORTS_COLLECTION,\r\n      filters,\r\n      sort,\r\n      page\r\n    );\r\n    return templates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteTransport = async (id) => {\r\n  try {\r\n    await store.delById(TRANSPORTS_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};","import React from \"react\";\r\nimport StoreContext from \"../contexts/StoreContext\";\r\nimport { storage } from \"kd-web\";\r\nimport * as storeUtils from \"../utils/storeUtils\";\r\n\r\nlet _isInit;\r\nclass StoreProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      enums: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false\r\n      },\r\n      enumTypes: {\r\n        total: 6,\r\n        data: [\r\n          { _id: 1, name: \"blog\" },\r\n          { _id: 3, name: \"partner\" },\r\n          { _id: 5, name: \"country\" },\r\n          { _id: 200, name: \"shop\" },\r\n          { _id: 201, name: \"size\" },\r\n          { _id: 202, name: \"sex\" }\r\n        ]\r\n      },\r\n      templates: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false\r\n      },\r\n      transports: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false\r\n      }\r\n    };\r\n  }\r\n\r\n  getEnums = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getEnums(\r\n          this.state.enumTypes.data,\r\n          filters,\r\n          sort,\r\n          page\r\n        );\r\n      }\r\n\r\n      this.setState(state => ({\r\n        enums: { ...state.enums, isLoading: true }\r\n      }));\r\n      const enums = await storeUtils.getEnums(\r\n        this.state.enumTypes.data,\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n\r\n      enums.isLoading = false;\r\n      this.setState({ enums });\r\n      return enums;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshEnums = async () => {\r\n    try {\r\n      this.setState(state => ({\r\n        enums: { ...state.enums, isLoading: true }\r\n      }));\r\n      const { filters, sort, page } = this.state.enums;\r\n      const enums = await storeUtils.getEnums(\r\n        this.state.enumTypes.data,\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n      enums.isLoading = false;\r\n      this.setState({ enums });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getTemplates = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getTemplates(filters, sort, page);\r\n      }\r\n\r\n      this.setState(state => ({\r\n        templates: { ...state.templates, isLoading: true }\r\n      }));\r\n      const templates = await storeUtils.getTemplates(filters, sort, page);\r\n\r\n      templates.isLoading = false;\r\n      this.setState({ templates });\r\n      return templates;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshTemplates = async () => {\r\n    try {\r\n      this.setState(state => ({\r\n        templates: { ...state.templates, isLoading: true }\r\n      }));\r\n      const { filters, sort, page } = this.state.enums;\r\n      const templates = await storeUtils.getTemplates(filters, sort, page);\r\n      templates.isLoading = false;\r\n      this.setState({ templates });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getTransports = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getTransports(filters, sort, page);\r\n      }\r\n\r\n      this.setState(state => ({\r\n        transports: { ...state.transports, isLoading: true }\r\n      }));\r\n      const transports = await storeUtils.getTransports(filters, sort, page);\r\n\r\n      transports.isLoading = false;\r\n      this.setState({ transports });\r\n      return transports;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshTransports = async () => {\r\n    try {\r\n      this.setState(state => ({\r\n        transports: { ...state.transports, isLoading: true }\r\n      }));\r\n      const { filters, sort, page } = this.state.transports;\r\n      const transports = await storeUtils.getTransports(filters, sort, page);\r\n      transports.isLoading = false;\r\n      this.setState({ transports });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    if (!_isInit && storage.getUser()) {\r\n      _isInit = true;\r\n    }\r\n\r\n    return (\r\n      <StoreContext.Provider\r\n        value={{\r\n          // ENUMS\r\n          getEnums: this.getEnums,\r\n          refreshEnums: this.refreshEnums,\r\n          addEnum: storeUtils.addEnum,\r\n          editEnum: storeUtils.editEnum,\r\n          deleteEnum: storeUtils.deleteEnum,\r\n          // TEMPLATES\r\n          getTemplates: this.getTemplates,\r\n          refreshTemplates: this.refreshTemplates,\r\n          addTemplate: storeUtils.addTemplate,\r\n          editTemplate: storeUtils.editTemplate,\r\n          deleteTemplate: storeUtils.deleteTemplate,\r\n          getFile: storeUtils.getFile,\r\n          // TRANSPORTS\r\n          getTransports: this.getTransports,\r\n          refreshTransports: this.refreshTransports,\r\n          addTransport: storeUtils.addTransport,\r\n          editTransport: storeUtils.editTransport,\r\n          deleteTransport: storeUtils.deleteTransport,\r\n\r\n          ...this.state\r\n        }}\r\n      >\r\n        {children}\r\n      </StoreContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoreProvider;\r\n","import React from \"react\";\r\nimport DobyContext from \"../contexts/DobyContext\";\r\nimport * as dobyUtils from \"../utils/dobyUtils\";\r\nimport * as storeUtils from \"../utils/storeUtils\";\r\n\r\nclass DobyProvider extends React.Component {\r\n  state = {\r\n    summits: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    challenges: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    products: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    subordinateProducts: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    catalog: {\r\n      data: [],\r\n      isLoading: false,\r\n    },\r\n    productVariants: {\r\n      data: {},\r\n    },\r\n    cart: {\r\n      data: {\r\n        products: [],\r\n      },\r\n    },\r\n    checkout: {\r\n      data: {\r\n        state: 0,\r\n        orderData: {},\r\n        coupon: {},\r\n        deliveryData: {\r\n          nameSurname: \"\",\r\n          email: \"\",\r\n          country: \"\",\r\n          city: \"\",\r\n          street: \"\",\r\n          streetNumber: \"\",\r\n          psc: \"\",\r\n          tel: \"\",\r\n\r\n          invoiceData: false,\r\n          invoiceNameSurname: \"\",\r\n          invoiceCountry: \"\",\r\n          invoiceCity: \"\",\r\n          invoiceStreet: \"\",\r\n          invoiceStreetNumber: \"\",\r\n          invoicePsc: \"\",\r\n\r\n          companyOrder: false,\r\n          ico: \"\",\r\n          dic: \"\",\r\n          icdph: \"\",\r\n          bic: \"\",\r\n          iban: \"\",\r\n          accountOwner: \"\",\r\n\r\n          deliveryType: null,\r\n          paymentMethod: null,\r\n\r\n          //TODO: localization\r\n          //alebo ciselnik\r\n          paymentMethods: [\r\n            {\r\n              id: 5,\r\n              name: \"Kartou\",\r\n              price: 0.0,\r\n            },\r\n            {\r\n              id: 8,\r\n              name: \"Na dobierku\",\r\n              price: 1.9,\r\n            },\r\n          ],\r\n        },\r\n      },\r\n      isLoading: false,\r\n    },\r\n    posts: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    series: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    partners: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    users: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    climbs: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n  };\r\n\r\n  //-- [Summits] --\r\n  getSummits = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getSummits(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        summits: { ...state.summits, isLoading: true },\r\n      }));\r\n      const summits = await dobyUtils.getSummits(filters, sort, page);\r\n      summits.isLoading = false;\r\n      this.setState({ summits });\r\n      return summits;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshSummits = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        summits: { ...state.summits, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.summits;\r\n      const summits = await dobyUtils.getSummits(filters, sort, page);\r\n      summits.isLoading = false;\r\n      this.setState({ summits });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Chellenges] --\r\n  getChallenges = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getChallenges(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        challenges: { ...state.challenges, isLoading: true },\r\n      }));\r\n      const challenges = await dobyUtils.getChallenges(filters, sort, page);\r\n      challenges.isLoading = false;\r\n      this.setState({ challenges });\r\n      return challenges;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshChallenges = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        challenges: { ...state.challenges, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.challenges;\r\n      const challenges = await dobyUtils.getChallenges(filters, sort, page);\r\n      challenges.isLoading = false;\r\n      this.setState({ challenges });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Subordinate products] --\r\n  getSubordinateProducts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getProducts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        subordinateProducts: { ...state.subordinateProducts, isLoading: true },\r\n      }));\r\n\r\n      const subordinateProducts = await dobyUtils.getProducts(\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n      subordinateProducts.isLoading = false;\r\n      this.setState({ subordinateProducts });\r\n      return subordinateProducts;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Products] --\r\n  getProducts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getProducts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        products: { ...state.products, isLoading: true },\r\n      }));\r\n\r\n      const products = await dobyUtils.getProducts(filters, sort, page);\r\n      products.isLoading = false;\r\n      this.setState({ products });\r\n      return products;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  buildDropdowns = async (catalog) => {\r\n    let dropdowns = {};\r\n    for (let variant of catalog) {\r\n      const paramKeys = Object.keys(variant.tech_param);\r\n      if (paramKeys.length <= 0) continue;\r\n\r\n      const paramKey = paramKeys[0];\r\n      if (!dropdowns.hasOwnProperty(paramKey)) {\r\n        dropdowns[paramKey] = [];\r\n      }\r\n      dropdowns[paramKey].push(variant.tech_param[paramKey]);\r\n    }\r\n\r\n    for (let property in dropdowns) {\r\n      const filter = [{ field: \"_id\", op: \"in\", value: dropdowns[property] }];\r\n      dropdowns[property] = await storeUtils.getEnums([], filter);\r\n    }\r\n\r\n    return dropdowns;\r\n  };\r\n\r\n  getProductsByCatalogId = async (id) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        catalog: { ...state.catalog, isLoading: true },\r\n      }));\r\n      const productsArray = await dobyUtils.getProductsByCatalogId(id);    \r\n      const dropdowns = await this.buildDropdowns(productsArray);\r\n      this.setState({ catalog: {data: [...productsArray], isLoading: false}, productVariants: { data: dropdowns } });\r\n      return productsArray;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getProduct = async (id) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        product: { ...state.product, isLoading: true },\r\n      }));\r\n      const product = await dobyUtils.getProduct(id);\r\n      product.isLoading = false;\r\n      this.setState({ product });\r\n      return product;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshProducts = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        products: { ...state.products, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.products;\r\n      const products = await dobyUtils.getProducts(filters, sort, page);\r\n      products.isLoading = false;\r\n      this.setState({ products });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  deleteProduct = async (id) => {\r\n    this.setState((state) => ({\r\n      products: { ...state.products, isLoading: true },\r\n    }));\r\n\r\n    const data = this.state.products.data.find((p) => p._id === id);\r\n    if (data) await dobyUtils.editProduct({ ...data, disabled: true });\r\n\r\n    this.setState((state) => ({\r\n      products: { ...state.products, isLoading: false },\r\n    }));\r\n  };\r\n\r\n  //-- [Cart] --\r\n  cartGetProducts = () => {\r\n    const savedProducts = localStorage.getItem(\"cart\");\r\n    if (savedProducts) {\r\n      const cart = JSON.parse(savedProducts);\r\n      this.setState({ cart });\r\n    }\r\n  };\r\n\r\n  cartAddProduct = (product, count = 1) => {\r\n    const existingProduct = this.state.cart.data.products.find(\r\n      (item) => item.product._id === product._id\r\n    );\r\n    if (existingProduct) {\r\n      if (existingProduct.product.catalog_id !== \"pack\")\r\n        this.cartIncreaseCount(product._id, count);\r\n      return;\r\n    }\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: [...state.cart.data.products, { count, product }],\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartIncreaseCount = (productId, increase) => {\r\n    const productIndex = this.state.cart.data.products.findIndex(\r\n      (item) => item.product._id === productId\r\n    );\r\n    if (productIndex === -1) return;\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: state.cart.data.products.map((item, i) => {\r\n              if (i === productIndex) {\r\n                return {\r\n                  count: item.count + increase < 1 ? 1 : item.count + increase,\r\n                  product: item.product,\r\n                };\r\n              }\r\n              return item;\r\n            }),\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartRemoveProduct = (productId) => {\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: state.cart.data.products.filter(\r\n              (item) => item.product._id !== productId\r\n            ),\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartRemoveProducts = () => {\r\n    this.setState(\r\n      {\r\n        cart: {\r\n          data: {\r\n            products: [],\r\n          },\r\n        },\r\n      },\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  //-- [Order] --\r\n  deliveryOrderChanged = (name, value) => {\r\n    this.setState((state) => ({\r\n      checkout: {\r\n        data: {\r\n          ...state.checkout.data,\r\n          deliveryData: {\r\n            ...state.checkout.data.deliveryData,\r\n            [name]: value,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  deliveryOrderFill = (obj) => {\r\n    this.setState((state) => ({\r\n      checkout: {\r\n        data: {\r\n          ...state.checkout.data,\r\n          deliveryData: {\r\n            ...state.checkout.data.deliveryData,\r\n            ...obj,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  redeeemDiscountCode = async (code) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true },\r\n      }));\r\n\r\n      const coupon = await dobyUtils.redeeemDiscountCode(code);\r\n      this.setState((state) => ({\r\n        checkout: {\r\n          data: { ...state.checkout.data, coupon: { ...coupon } },\r\n          isLoading: false,\r\n        },\r\n      }));\r\n\r\n      return coupon;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  createOrder = async (orderData) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true, orderData },\r\n      }));\r\n\r\n      const order = await dobyUtils.addOrder(orderData);\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: false, orderData: order },\r\n      }));\r\n\r\n      return order;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  verifyOrder = async (paymentId) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true },\r\n      }));\r\n\r\n      const order = await dobyUtils.verifyOrder(paymentId);\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: false, orderData: order },\r\n      }));\r\n\r\n      return order;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Posts] --\r\n  getPosts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getPosts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        posts: { ...state.posts, isLoading: true },\r\n      }));\r\n      const posts = await dobyUtils.getPosts(filters, sort, page);\r\n      posts.isLoading = false;\r\n      this.setState({ posts });\r\n      return posts;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshPosts = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        posts: { ...state.posts, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.posts;\r\n      const posts = await dobyUtils.getPosts(filters, sort, page);\r\n      posts.isLoading = false;\r\n      this.setState({ posts });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Series] --\r\n  getSeries = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getSeries(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        series: { ...state.series, isLoading: true },\r\n      }));\r\n      const series = await dobyUtils.getSeries(filters, sort, page);\r\n      series.isLoading = false;\r\n      this.setState({ series });\r\n      return series;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n  refreshSeries = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        series: { ...state.series, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.series;\r\n      const series = await dobyUtils.getSeries(filters, sort, page);\r\n      series.isLoading = false;\r\n      this.setState({ series });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Partners] --\r\n  getPartners = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getPartners(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        partners: { ...state.partners, isLoading: true },\r\n      }));\r\n      const partners = await dobyUtils.getPartners(filters, sort, page);\r\n      partners.isLoading = false;\r\n      this.setState({ partners });\r\n      return partners;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshPartners = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        partners: { ...state.partners, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.partners;\r\n      const partners = await dobyUtils.getPartners(filters, sort, page);\r\n      partners.isLoading = false;\r\n      this.setState({ partners });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [User] --\r\n  getUsers = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getUsers(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        users: { ...state.users, isLoading: true },\r\n      }));\r\n      const users = await dobyUtils.getUsers(filters, sort, page);\r\n      users.isLoading = false;\r\n      this.setState({ users });\r\n      return users;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Climbs] --\r\n  getClimbs = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getClimbs(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        climbs: { ...state.climbs, isLoading: true },\r\n      }));\r\n      const climbs = await dobyUtils.getClimbs(filters, sort, page);\r\n      climbs.isLoading = false;\r\n      this.setState({ climbs });\r\n      return climbs;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <DobyContext.Provider\r\n        value={{\r\n          //-- [Summits] --\r\n          getSummits: this.getSummits,\r\n          refreshSummits: this.refreshSummits,\r\n          addSummit: dobyUtils.addSummit,\r\n          editSummit: dobyUtils.editSummit,\r\n          deleteSummit: dobyUtils.deleteSummit,\r\n\r\n          //-- [Challenges] --\r\n          getChallenges: this.getChallenges,\r\n          refreshChallenges: this.refreshChallenges,\r\n          addChallenge: dobyUtils.addChallenge,\r\n          editChallenge: dobyUtils.editChallenge,\r\n          deleteChallenge: dobyUtils.deleteChallenge,\r\n\r\n          //-- [Subordinate products] --\r\n          getSubordinateProducts: this.getSubordinateProducts,\r\n\r\n          //-- [Products] --\r\n          getProducts: this.getProducts,\r\n          getProductsByCatalogId: this.getProductsByCatalogId,\r\n          getProduct: this.getProduct,\r\n          refreshProducts: this.refreshProducts,\r\n          addProduct: dobyUtils.addProduct,\r\n          editProduct: dobyUtils.editProduct,\r\n          // deleteProduct: dobyUtils.deleteProduct,\r\n          deleteProduct: this.deleteProduct,\r\n\r\n          //-- [Order] --\r\n          deliveryOrderChanged: this.deliveryOrderChanged,\r\n          deliveryOrderFill: this.deliveryOrderFill,\r\n          redeeemDiscountCode: this.redeeemDiscountCode,\r\n          createOrder: this.createOrder,\r\n          verifyOrder: this.verifyOrder,\r\n\r\n          //-- [Cart] --\r\n          cartGetProducts: this.cartGetProducts,\r\n          cartAddProduct: this.cartAddProduct,\r\n          cartIncreaseCount: this.cartIncreaseCount,\r\n          cartRemoveProduct: this.cartRemoveProduct,\r\n          cartRemoveProducts: this.cartRemoveProducts,\r\n\r\n          //-- [Posts] --\r\n          getPosts: this.getPosts,\r\n          refreshPosts: this.refreshPosts,\r\n          addPost: dobyUtils.addPost,\r\n          editPost: dobyUtils.editPost,\r\n          deletePost: dobyUtils.deletePost,\r\n\r\n          //-- [Series] --\r\n          getSeries: this.getSeries,\r\n          refreshSeries: this.refreshSeries,\r\n          addSerie: dobyUtils.addSerie,\r\n          editSerie: dobyUtils.editSerie,\r\n          deleteSerie: dobyUtils.deleteSerie,\r\n\r\n          //-- [Partners] --\r\n          getPartners: this.getPartners,\r\n          refreshPartners: this.refreshPartners,\r\n          addPartner: dobyUtils.addPartner,\r\n          editPartner: dobyUtils.editPartner,\r\n          deletePartner: dobyUtils.deletePartner,\r\n\r\n          //-- [Climbs] --\r\n          getClimbs: this.getClimbs,\r\n          addClimb: dobyUtils.addClimb,\r\n          editClimb: dobyUtils.editClimb,\r\n          deleteClimb: dobyUtils.deleteClimb,\r\n\r\n          //-- [User] --\r\n          getUsers: this.getUsers,\r\n          getUser: dobyUtils.getUser,\r\n          followUser: dobyUtils.followUser,\r\n          unfollowUser: dobyUtils.unfollowUser,\r\n          subscribe: dobyUtils.subscribe,\r\n\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </DobyContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DobyProvider;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { init } from \"kd-web\";\r\nimport config from \"./config.json\";\r\n\r\nimport moment from \"moment\";\r\nimport \"moment/locale/sk\";\r\n\r\nimport UserProvider from \"./providers/UserProvider\";\r\nimport StoreProvider from \"./providers/StoreProvider\";\r\nimport DobyProvider from './providers/DobyProvider';\r\n\r\nimport { MuiPickersUtilsProvider } from \"material-ui-pickers\";\r\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport { LocalizationProvider } from \"./components/shared/localization\";\r\nimport en from './localization/en-US.json';\r\nimport sk from './localization/sk-SK.json';\r\n\r\ninit(config);\r\n\r\nconst locale = config.locale.split('-')[0];\r\nmoment.locale(locale);\r\n\r\nconst theme = createMuiTheme({\r\n  palette: config.palette,\r\n  typography: {\r\n      fontFamily:[\r\n        'IBM Plex Sans',\r\n        'sans-serif',\r\n      ].join(','),\r\n  },\r\n  breakpoints: {\r\n    values: {\r\n        // xs: 0,       \r\n        // sm: 380,\r\n        // md: 768,\r\n        // lg: 992,\r\n        // xl: 1200,\r\n        xs: 380,       \r\n        sm: 768,\r\n        md: 992,\r\n        lg: 1200,\r\n        xl: 1920,\r\n    },\r\n  },\r\n});\r\n\r\nclass AppWrapper extends React.Component {\r\n  componentDidMount() {\r\n    document.documentElement.style.setProperty(\"--primary-color\", config.palette.primary.main);\r\n    document.documentElement.style.setProperty(\"--secondary-color\", config.palette.secondary.main);\r\n    document.title = `${process.env.REACT_APP_NAME} v${process.env.REACT_APP_VERSION}`;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <UserProvider>\r\n        <StoreProvider>\r\n          <DobyProvider>\r\n            <LocalizationProvider\r\n              locale={config.locale}\r\n              en-US={en}\r\n              sk-SK={sk}\r\n            >\r\n              <MuiThemeProvider theme={theme}>\r\n                <MuiPickersUtilsProvider utils={MomentUtils} locale={locale}>\r\n                  <App />\r\n                </MuiPickersUtilsProvider>\r\n              </MuiThemeProvider>\r\n            </LocalizationProvider>\r\n          </DobyProvider>\r\n        </StoreProvider>\r\n      </UserProvider>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<AppWrapper />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
{"version":3,"sources":["compose.js","style.js","components/dobyComponents/BottomNavigationBar.js","contexts/UserContext.js","consumers/withUser.js","components/shared/localization/index.js","components/shared/Container.js","contexts/StoreContext.js","consumers/withStore.js","components/shared/icons/GithubIcon.js","components/shared/login/GithubButton.js","components/shared/icons/GoogleIcon.js","components/shared/login/GoogleButton.js","components/shared/icons/StravaIcon.js","components/shared/login/StravaButton.js","components/shared/icons/FbIcon.js","components/shared/login/FbButton.js","components/login/Login.js","components/shared/form/Form.js","components/dobyComponents/form/TextField.js","components/shared/Dialog.js","components/shared/Switch.js","components/shared/avatar/Avatar.js","components/shared/utils/withUtils.js","components/shared/style.js","components/account/Form.js","permissions.js","components/account/Account.js","components/oauth/OAuth.js","components/shared/TextInput.js","components/shared/Select.js","components/shared/NumInput.js","components/enums/Form.js","components/shared/table/TableHead.js","components/shared/table/TableToolbar.js","components/shared/AlertDialog.js","components/shared/DatePicker.js","components/shared/FilterDialog.js","components/shared/ActionsMenu.js","components/shared/Progress.js","components/shared/table/Table.js","components/shared/FormDialog.js","components/enums/Table.js","components/enums/Enums.js","components/templates/Form.js","components/templates/Table.js","components/templates/Templates.js","components/shared/TimeInput.js","components/shared/IconButton.js","components/shared/FileInput.js","contexts/DobyContext.js","consumers/withDoby.js","components/summits/Form.js","components/summits/Table.js","components/summits/Summits.js","components/series/Form.js","components/series/Table.js","components/series/Series.js","components/shared/Markdown.js","components/shared/Editor.js","components/products/TechParamForm.js","components/products/Form.js","components/products/Table.js","components/products/Products.js","components/posts/Form.js","components/posts/Table.js","components/posts/Posts.js","components/users/Table.js","components/users/Users.js","components/partners/Form.js","components/partners/Table.js","components/partners/Partners.js","components/dobyComponents/form/Button.js","components/dobyComponents/ChallengeCard.js","components/eshop/ItemCard.js","components/eshop/Eshop.js","components/dobyComponents/form/SelectField.js","components/dobyComponents/form/CheckboxField.js","utils/helpers.js","components/eshop/checkout/DeliveryPayment.js","components/eshop/checkout/CheckouCartItem.js","components/eshop/checkout/CheckoutSummary.js","components/eshop/checkout/Checkout.js","components/eshop/CartItem.js","components/eshop/Cart.js","components/eshop/RollerModal.js","components/eshop/ProductDetail.js","components/transports/Form.js","components/transports/Table.js","components/transports/Transports.js","utils/mailUtils.js","components/eshop/checkout/VerificationPayment.js","components/admin/challenges/Form.js","components/admin/challenges/Table.js","components/admin/challenges/Challenges.js","components/dobyComponents/ActivityPost.js","components/home/Home.js","components/dobyComponents/ActiveChallengeCard.js","components/shared/Autocomplete.js","components/account/profile/Profile.js","components/dobyComponents/form/Switch.js","components/dobyComponents/form/TelField.js","components/dobyComponents/socialConnections/FacebookConnection.js","components/dobyComponents/socialConnections/StravaConnection.js","components/account/profile/ProfileSettings.js","components/landing/ChallengeCard.js","components/landing/PartnerCard.js","components/landing/BlogPost.js","components/landing/Landing.js","components/dobyComponents/icons/Stopwatch.js","components/dobyComponents/icons/Mountains.js","components/dobyComponents/icons/Start.js","components/dobyComponents/ChallengeCardV1.js","components/dobyComponents/icons/DropdownFaqClosed.js","components/dobyComponents/icons/DropdownFaqOpened.js","components/dobyComponents/Faq.js","components/dobyComponents/icons/Facebook.js","components/dobyComponents/icons/Instagram.js","components/landing/LandingCountdown.js","components/challenges/Challenges.js","components/challenges/ChallengeDetail.js","components/dobyComponents/Modal.js","components/dobyComponents/eshop/ProductSmallCard.js","components/challenges/ChallengeCheckout.js","components/dobyComponents/FollowCard.js","components/friends/Follow.js","routes.js","App.js","serviceWorker.js","providers/StoreProvider.js","utils/authUtils.js","providers/UserProvider.js","utils/storeUtils.js","utils/dobyUtils.js","providers/DobyProvider.js","index.js"],"names":["compose","funcs","length","arg","reduce","a","b","spacings","generateSpacings","theme","ret","keys","breakpoints","unshift","forEach","key","x","index","capitalize","up","marginTop","marginRight","marginBottom","marginLeft","margin","paddingTop","paddingRight","paddingBottom","paddingLeft","padding","displayProps","name","value","justifyContentProps","flexDirectionProps","alignItemsProps","textAlignProps","generateUtils","display","justifyContent","flexDirection","alignItems","textAlign","s","charAt","toUpperCase","slice","getSharedStyles","container","maxWidth","row","flexWrap","flexGrow","roundedSm","borderRadius","roundedMd","roundedLg","bgWhite","background","bg300","bgPrimary","palette","primary","main","bgSecondary","secondary","textWhite","color","textPrimary","textSecondary","textSecondaryLight","uppercase","textTransform","textMono","fontFamily","textSans","textBase","fontSize","lineHeight","textM","textS","textXs","textXl","letterSpacing","fontWeight","textH1","textH2","textH3","textH4","textBlock","text200","text300","text400","textEl250","fontRegular","fontMedium","fontSemibold","fontBold","hrLine","border","borderBottom","positionRelative","position","positionAbsolute","w100","width","w50","h100","height","h50","dBlock","dBlockInline","alignItemsCenter","alignItemsStart","alignItemsEnd","carouselFullwidth","carouselSpacing","cardShadow","boxShadow","shadowTiny","boxShhadow","shadowSmall","shadowMedium","shadowLarge","shadowXl","shadowXxl","imageFit","left","top","zIndex","objectFit","imageFitHolder","overflow","withStyles","bottomBar","bottom","borderTopLeftRadius","borderTopRightRadius","borderTop","backdropFilter","transition","expandedBar","itemsHolder","addPostHolder","addPostBtn","outline","navItem","withRouter","props","classes","fullwidth","useState","expanded","setExpanded","className","classNames","flexCol","dFlex","pl5","justifyContentCenter","textXs2","textCenter","style","pr5","onClick","history","push","mt3","px3","UserContext","React","createContext","withUser","WrappedComponent","Consumer","user","Context","LocalizationProvider","translate","locale","k","split","locales","en","sk","state","children","this","Provider","Component","withLocalization","ResponsiveDrawer","handleMenu","event","setState","anchorEl","currentTarget","handleClose","handleClickAccount","handleDrawerToggle","mobileOpen","redirect","route","isWidthDown","path","routes","location","pathname","find","drawer","toolbar","map","exact","hidden","permission","hasPermission","button","anonymous","root","appBar","ml5","mr5","appBarCol","appBarMenuIcon","src","logo","appBarLogoImg","alt","justifyContentEnd","dark","lgUp","implementation","variant","anchor","direction","open","onClose","paper","drawerPaper","content","withWidth","grow","fill","menuButton","mixins","withTheme","StoreContext","withStore","store","GithubIcon","d","GithubButton","config","fullWidth","tooltip","url","id","process","window","replace","disabled","title","GoogleIcon","StravaIcon","FbIcon","Copyright","align","href","Date","getFullYear","Login","handleSubmit","e","preventDefault","username","password","token","auth","trim","toLowerCase","showMsg","showError","handleChange","target","handleClickReset","reset","oAuth","from","home","to","component","classnames","header","center","item","xs","sm","md","image","elevation","square","avatar","github","GoogleButton","google","FbButton","fb","StravaButton","strava","form","onSubmit","required","htmlFor","autoComplete","autoFocus","onChange","type","submit","backgroundImage","backgroundRepeat","backgroundColor","grey","backgroundSize","backgroundPosition","spacing","unit","Form","inline","formInline","submitButton","textInput","inputLabel","inputRoot","label","field","error","errorText","input","rows","multiline","onBlur","formControl","aria-labelledby","isOpen","onCancel","onConfirm","control","checked","ImageAvatars","defaultValue","placement","aria-label","withUtils","canvasRef","useRef","postFile","file","formData","FormData","append","fetch","method","headers","Authorization","body","response","status","json","console","text","log","Error","statusText","utils","resize","filename","Promise","resolve","Image","canvas","current","onload","ctx","getContext","clearRect","drawImage","toBlob","blob","toDataURL","ref","getStyles","col","flex","styles","heading","detailHeading","actions","float","INIT_STATE","repeatedPassword","email","isLoading","tel","address","city","postCode","country","otp","notifications","notifyAboutMe","notifyAboutFollowers","notifyNews","buildState","isOpenSecretDialog","avatarChanged","FormWrapper","_","set","handleChangeCheckBox","validTelephone","regex","RegExp","isValid","test","validPasswords","passwordPattern","isValidPassword","errorTextPassword","isValidRepeatedPassword","errorTextRepeatedPassword","validEmail","checkUser","ids","_id","validUsername","handleRemoveAvatar","handleChangeAvatar","reader","FileReader","onloadend","result","data","pop","readAsDataURL","files","generateSecret","handleOpenSecretDialog","handleCloseSecretDialog","updateUser","connectTitle","bio","bigAvatar","accept","_github","synced","toLocaleDateString","TextField","secret","qrCode","permissions","doby","_code","_provider","_mutex","connected","OAuthComponent","urlParams","URLSearchParams","search","get","updateOauth","loader","minWidth","placeholder","startAdornment","inputProps","textField","multiple","undefined","getText","selected","renderValue","join","toString","Number","min","max","step","enumTypeId","addEnum","refreshEnums","editEnum","enumTypes","nameTextInput","TextInput","NumInput","createSortHandler","property","onRequestSort","onSelectAllClick","sort","numSelected","rowCount","sortable","indeterminate","idField","disablePadding","sortDirection","dir","enterDelay","active","highlight","lighten","light","spacer","onDelete","onFilter","onExport","isFilterSet","onRefresh","exportDisabled","aria-describedby","description","format","mask","getMaskAndFormat","keyboard","clearable","toDate","disableOpenOnEnter","animateYearScrolling","okLabel","cancelLabel","buildFilters","f","filters","y","op","moment","endOf","startOf","FilterDialog","handleClear","buildFilter","filterable","getData","DatePicker","defaultState","disableBackdropClick","disableEscapeKeyDown","isOpenDelete","handleOpenMenu","handleCloseMenu","handleCloseDelete","handleOpenClone","handleOpenDelete","onEdit","onClone","aria-owns","aria-haspopup","edge","Boolean","progress","opacity","_headers","EnhancedTable","handleRequestSort","page","rowsPerPage","handleSelectAllClick","filter","n","isDisabled","handleClick","selectedIndex","indexOf","newSelected","concat","handleChangePage","handleChangeRowsPerPage","isSelected","limit","skip","componentDidMount","handleOpenFilter","isOpenFilter","handleCloseFilter","handleConfirmFilter","onDeleteMultiple","all","strToDate","str","strToDateTime","toLocaleString","hour12","year","month","day","hour","minute","getValue","cell","onDeleteSingle","exportable","exported","exportRef","link","click","handleRefresh","defaultFilters","defaultSort","createRef","emptyRows","Math","total","tableWrapper","table","size","hover","role","aria-checked","tabIndex","colSpan","labelRowsPerPage","labelDisplayedRows","count","rowsPerPageOptions","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","overflowX","ROWS","FILTERS","TableWrapper","handleChangeClient","clientId","handleOpen","render","getEnums","deleteEnum","p2","addTemplate","refreshTemplates","editTemplate","getTemplates","deleteTemplate","Mask","inputRef","other","placeholderChar","showMask","inputComponent","filePath","URL","createObjectURL","mimeType","urlCreator","webkitURL","DobyContext","withDoby","difficulty","elevationGain","distance","time","_img","_thumbnail","addSummit","refreshSummits","editSummit","FileInput","imageSize","thumbnailSize","getSummits","deleteSummit","addSerie","refreshSeries","editSerie","getSeries","deleteSerie","options","overrides","h1","Typography","gutterBottom","h2","h3","h4","paragraph","p","Link","li","listItem","Markdown","save","Blob","selectedTab","setSelectedTab","readOnly","onTabChange","generateMarkdownPreview","paste","saveImage","enumTypeData","enumType","enumValueData","enumValue","TechParamForm","enums","callBack","handleDelete","inOrder","catalog_id","ean","short_description","long_description","price_without_tax","category","productsRef","tech_param","addProduct","refreshProducts","editProduct","tech_param_forms","handleChangeTechParamForm","enumValueID","handleAddTechParam","addTechParamForm","removeTechParam","enumTypeID","enumTypesFiltered","parseInt","element","setTechParamForms","Object","entries","getSubordinateProducts","isEmpty","subordinateProducts","disabledAddTechParamForm","getProducts","handleClone","deleteProduct","typeRef","handleChangeTypeRef","addPost","refreshPosts","editPost","getPosts","deletePost","getUsers","_logo","addPartner","refreshPartners","editPartner","logoSize","getPartners","deletePartner","whiteSpace","userSelect","cursor","borderColor","btnFullwidth","btnOutline","btnSecondary","btnLarge","btnSmall","btnDisabled","card","p5","textMd","mt4","justifyContentBetween","mr1","onClickMoreInfo","ml1","onClickParticipate","itemCard","media","price","source","membersOnlySpacer","membersOnly","img","setImg","onViz","isVisible","Id","partialVisibility","p0","curr","flickityOptions","cellAlign","contain","prevNextButtons","pageDots","Eshop","fetchData","getChallenges","joinChallenge","challenge","showProductDetail","product","renderChallenges","challenges","endDate","end","getDay","getMonth","mt2","mb2","mr3","renderProducts","products","lg","price_with_tax","currency","thumbnailId","getFile","itemFilterId","challengeCarousel","reloadOnUpdate","mt5","itemFilterSelect","challengeList","overflowY","challengeListWrapper","selectInput","selectRoot","select","checkbox","checkboxLight","checkboxIcon","controlNoLabel","formControlLabelRoot","noLabel","icon","checkedIcon","labelClasses","formatPrice","round","EPSILON","toFixed","getCurrencySymbol","DeliveryPayment","getTransports","cartGetProducts","fillFromUser","deliveryOrderFill","nameSurname","psc","validateForm","handleChangeCountry","deliveryOrderChanged","deliveryData","checkout","errorTexts","commonErrorTexts","invoiceData","invoiceErrorTexts","companyOrder","companyOrderErrorTexts","fieldsAreValid","values","v","checkboxesAreChoosen","deliveryType","paymentMethod","invoiceNameSurname","invoiceCountry","invoiceCity","invoicePsc","invoiceStreet","invoiceStreetNumber","ico","dic","icdph","bic","iban","accountOwner","street","streetNumber","transports","justify","mb4","textMonoH3","SelectField","pr2","paymentMethods","changeStep","mb5","productThumbnail","itemCountBtn","itemCount","getImage","ml3","productName","priceWithTax","productCount","textRight","CheckoutSummary","discountCodeLength","redeeemDiscountCode","checkStarterpack","cart","packProduct","standardPack","standardPackProduct","getTotalPrice","coupon","priceProducts","pricePack","discountType","amount","couponBalance","starterPackDiscount","transport","proceedCheckout","items","useCoupon","surname","country_obj","id_delivery_obj","destination_country_id","id_delivery","createOrder","phone","street_number","postal_code","couponRef","fa_city","fa_company","fa_country","fa_postal_code","fa_street","fa_street_number","payment_method_id","ru","stripe","redirect_url","order","payment_id","loadStripe","redirectToCheckout","sessionId","renderDiscounts","renderStarterpackDiscount","px4","py2","discountCode","productId","countInStock","spacingBottom","mt6","mt1","renderCartitems","fixedBottomBar","py4","checkoutStep","checkoutStepActive","currentStep","setCurrentStep","setChallenge","currentChallange","logoId","getChallenge","challengeRef","increaseItemCount","increase","cartIncreaseCount","useEffect","cartRemoveProduct","catalogId","ml4","Cart","getCartProductCount","goToEshop","goToCheckout","renderEmptyCart","mt8","emptyCartImg","renderCartItems","renderCart","bottomSection","backdrop","opened","mt7","_defaultState","detailImage","selectedVariants","selectedProduct","detailsModalOpened","showSnackbar","lastLocation","ProductDetail","fetchDetailImage","imageId","match","params","getProductsByCatalogId","catalogProducts","catalog","handleChangeDropdown","getProductByDropdownSelection","handleProductImageLoaded","naturalWidth","naturalHeight","renderDropdowns","dropdowns","variantKey","productVariants","hasAllRequirements","addToCart","cartAddProduct","renderSimillarProducts","showAllProductDetails","closeDetailsModal","renderProductDetail","imageContainer","productImage","onLoad","mb3","productPriceDPH","productStock","anchorOrigin","vertical","horizontal","autoHideDuration","message","action","Fragment","transform","productContent","productTitle","productPrice","countryId","handleChangeCountryRef","addTransport","refreshTransports","editTransport","deleteTransport","send","mail","getToken","storage","getUser","refreshToken","onConnect","userId","onDisconnect","initHub","onNotification","connection","signalR","withUrl","accessTokenFactory","configureLogging","build","start","catch","err","on","VerificationPayment","sendCouponMail","subject","fromName","recipientRef","templateId","sendCouponTemplate","mailUtils","query","verifyOrder","succeeded","cartRemoveProducts","code","summitsRef","serieRef","_map","_badge","handleChangeSummitsRef","handleChangeSerieRef","addChallenge","refreshChallenges","editChallenge","summits","series","badgeSize","deleteChallenge","profileImgHolder","profileImg","postImgWrapper","postImg","right","postCard","date","climbCreated","py5","userName","userAddress","FlexCol","summitName","summitElevation","getDate","flexRCol","challengeName","challengeFinishedSummits","challengeAllSummits","likesCount","Home","handleTabChange","tab","currentTab","renderActivityPosts","post","openFilter","filterOpen","applyFilters","pt5","pb2","tabsRootClasses","indicator","tabsInicator","tabSelected","filterIconHolder","filterOverlay","convertDate","challengeCard","dateText","progressLine","sDateFrom","sDateTo","dateFrom","dateTo","differenceInMiliseconds","getTime","differenceInDays","abs","differenceInHours","differenceInMinutes","remaining","handleDates","textMonoH4","summitsFinished","allSummits","renderInput","InputProps","inputInput","_timer","chip","divider","itemToString","onInputValueChange","clearTimeout","setTimeout","onFilterChange","selectedItem","getInputProps","getItemProps","getMenuProps","highlightedIndex","inputValue","suggestion","itemProps","isHighlighted","renderSuggestion","Profile","setMyClimbs","climbs","myClimbs","c","summit","setImageToClimbCallback","setUnfinishedChallenges","dobyUser","unfinishedChallenges","challengesRef","unfinishedChallengesRef","finished","activeC","found","countFinishedSummits","setMedals","medals","finishedChallengesRefIDs","medal","setLogoToMedalCallback","followUser","currUserFollowingFriend","unfollowUser","logoSrc","m","imgSrc","fileId","callback","identificator","handleGetChallengesUserNotParticipate","userChals","toISOString","filteredChals","challengesUserNotParticipate","filteredChal","userChal","handleOnChangeSearchFriends","friend","goToProfileFriend","handleOnFilterChangeSearchFriends","renderMedals","medalItem","medalTitle","pt3","medalImgHolder","medalImg","renderMyChallenges","ActiveChallengeCard","renderMyClimbs","dobyFriend","climb","created","challengeRefFound","goToProfileSettings","foundFriend","watchingYourself","getClimbs","followingRef","users","isFriendProfile","textBase2","climbsCnt","followersRef","Autocomplete","pt6","pb6","medalCarousel","challengesCarousel","minHeight","iOSSwitchBase","common","white","transitions","create","duration","shortest","easing","sharp","iOSChecked","iOSBar","iOSIcon","iOSIconChecked","shadows","controlLabelRoot","switchBase","bar","iconChecked","disableRipple","socialConnectCard","socialIcon","p3","telPreffix","preffixData","preffix","substring","handleInputTelNumber","ProfileSettings","handleChangePreffix","telSuffix","goToProfile","for","pr1","TelField","challengeImgHolder","challengeImg","cardContent","challengeLogoHolder","challengeLogo","difficultyDot","dotFilled","customClasses","startDate","mb1","partnerImg","getImg","blogPostCard","Landing","partners","generalPartners","mainPartners","sumitsCount","retVal","i","renderPartners","desc","renderGeneralPartners","renderMainPartners","renderBlogPosts","posts","handleExpandFaq","panel","expandedFaq","introImage","pl7","pr7","pb7","introContent","introTitle","introBtn","dashedBtn","mb7","howItWorks","howItWorksRow","howItWorksItemNumber","textCol","challengesContent","pb8","mt9","whyGetInvolvedImg","smallImg","blog","backgroundPositionY","viewBox","xmlns","clip-path","fill-rule","clip-rule","stroke","stroke-width","cx","cy","r","logoHolder","challengeBtn","challengeMap","setImage","setLogo","setMap","summitsCount","months","diff","ceil","p6","mapHolder","mb8","Mountains","Stopwatch","actionBtn","panelRoot","panelExpanded","summaryRoot","summaryContent","summaryExpanded","detailsRoot","iconSpacing","textIconSpacing","questions","DropdownFaqOpened","DropdownFaqClosed","rx","ry","Countdown","days","setDays","hours","setHours","minutes","setMinutes","seconds","setSeconds","timer","setTimer","showRemainingTime","_minute","_second","_hour","_day","now","clearInterval","floor","timerObj","setInterval","mr2","mrMd4","ml2","LandingCountdown","handleSubscribe","checkConditions","subscribe","alert","res","scrollToNewsletter","newsletterAnchor","document","querySelector","scrollIntoView","behavior","carousel","mapId","challengeItem","challengeCardAdapt","my2","dLgNone","px5","pt9","pb9","desktopIntro","dNone","dLgBlock","desktopIntroContent","pl10","desktopIntroImageHolder","py10","pyMd11","pyLg12","dMdNone","textLeft","dMdBlock","justifyContentMdStart","mtMd0","howItWorksCircle","mtMd9","challengesTitleBgOverlay","pt8","pbMd12","ptMd10","textLgLeft","challengesBgOverlay","pyMd0","challengeItemsContainer","py11","pyMd13","xl","flexLgRow","justifyContentLgBetween","alignItemsLgCenter","mtLg5","onClickclassName","mtLg0","py9","socialShare","mb9","mbMd0","shareImgCol","shareImg","socialShareButtonHolder","socialShareButton","socialShareDesktop","socialShareDesktopPhone","mt11","mtMd13","bigPhotoHolder","justifyContentMdCenter","mtMd7","pMd0","bigPhotoContent","py8","mt10","pr8","prLg0","newMedalsImg","newsletterFormDesktop","dLgFlex","footerBg","py6","Instagram","Facebook","dMdFlex","ml6","participantsImg","only","forYourselfImgHolder","forYourselfImg","Challenges","ChallengeDetail","renderSummits","altitude","summitCarouselItem","summitCarouselItemActive","introSection","challengeIntroContent","summitsDetail","summitsDetailContent","summitsCarouselHolder","summitsCarousel","modalWrapper","ProductSmallCard","openAddToCartModal","addToCartModal","p4","thumbnailHolder","productImg","onClickViewDetails","ChallengeCheckout","fetchStarterpacks","filterStarterpack","packs","starterPackStandard","getChallangeLogo","packageChanged","handleFieldChange","pl2","goToCart","selectedPackage","selectedGift","logolImg","mb6","stepNumber","starterPackLowcost","challengePackageCardSelected","challengePackageCard","borderBottomLeftRadius","borderBottomRightRadius","pl1","btnWhite","lightText","medalCount","userID","buttonLabel","Follow","showFollowers","renderFollowers","showFollowing","handleFollowUser","followers","following","handleUnfollowUser","renderFollowing","follower","alreadyFollowHim","setFollowingFollowers","filterFollowing","filterFollowers","medalItemBg","medalItemImg","Verification","Checkout","Enums","Templates","Summits","Series","ChallengesAdmin","Transports","Products","Posts","Users","Partners","OAuth","Account","_basename","_init","App","basename","Container","PrivateRoute","msg","hideMsg","ContentProps","close","rest","hostname","_isInit","buildRedirectUri","provider","configId","UserProvider","authUtils","ENUMS_COLLECTION","put","_enumType","delById","TEMPLATES_COLLECTION","templates","TRANSPORTS_COLLECTION","StoreProvider","storeUtils","SUMMITS_URL","ajax","CHALLENGES_URL","badgeId","PRODUCTS_URL","getProduct","getById","ORDERS_URL","addOrder","paymentId","COUPON_URL","POSTS_URL","SERIES_URL","PARTNERS_URL","USER_URL","subscriber","CLIMBS_URL","addClimb","editClimb","deleteClimb","DobyProvider","orderData","dobyUtils","buildDropdowns","paramKeys","paramKey","hasOwnProperty","productsArray","savedProducts","localStorage","getItem","JSON","parse","existingProduct","serializedCart","stringify","setItem","productIndex","findIndex","obj","init","createMuiTheme","typography","AppWrapper","documentElement","setProperty","en-US","sk-SK","MomentUtils","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.491075ec.chunk.js","sourcesContent":["/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}","const getSharedStyles = (theme) => ({\r\n    ...generateSpacings(theme),\r\n    ...generateUtils(theme),\r\n    // ---------- grid\r\n    container: {\r\n        paddingLeft: '1.25rem',\r\n        paddingRight: '1.25rem',\r\n        maxWidth: '1300px',\r\n        margin: '0 auto'\r\n        // [theme.breakpoints.up('md')]: {\r\n        //     paddingLeft: '1.25rem',\r\n        //     paddingRight: '1.25rem',\r\n        // },\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    },\r\n    flexGrow: {\r\n        flexGrow: 1\r\n    },\r\n    // ---------- rounded\r\n    roundedSm: {\r\n        borderRadius: '0.25rem',\r\n    },\r\n    roundedMd: {\r\n        borderRadius: '0.5rem',\r\n    },\r\n    roundedLg: {\r\n        borderRadius: '0.75rem',\r\n    },   \r\n    // ---------- bg colors\r\n    bgWhite: {\r\n        background: 'white',\r\n    },\r\n    bg300: {\r\n        background: '#F3F3F3',\r\n    },\r\n    bgPrimary: {\r\n        background: theme.palette.primary.main,\r\n    },\r\n    bgSecondary: {\r\n        background: theme.palette.secondary.main,\r\n    },\r\n    // ---------- text colors\r\n    textWhite: {\r\n        color: '#fff'\r\n    },\r\n    textPrimary: {\r\n        color: theme.palette.primary.main,\r\n    },\r\n    textSecondary: {\r\n        color: theme.palette.secondary.main,\r\n    },\r\n    textSecondaryLight: {\r\n        color: '#A4B1C4'\r\n    },\r\n    // ---------- text utils    \r\n    uppercase: {\r\n        textTransform: 'uppercase'\r\n    }, \r\n    capitalize: {\r\n        textTransform: 'capitalize'\r\n    }, \r\n    textMono: {\r\n        fontFamily: \"'IBM Plex Mono', monospace\",\r\n    }, \r\n    textSans: {\r\n        fontFamily: \"'IBM Plex Sans', monospace\",\r\n    },\r\n    // ---------- text sizes\r\n    textBase: {\r\n        fontSize: '16px',\r\n        lineHeight: '130%',\r\n    },\r\n    textM: {\r\n        fontSize: '14px',\r\n        lineHeight: '130%',\r\n    },\r\n    textS: {\r\n        fontSize: '12px',\r\n        lineHeight: '130%',\r\n    },\r\n    textXs: {\r\n        fontSize: '10px',\r\n        lineHeight: '130%',\r\n    },\r\n\r\n    textXl: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-1px',\r\n        fontSize: '50px',\r\n        fontWeight: 700,\r\n    },\r\n    textH1: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-1px',\r\n        fontSize: '40px',\r\n        fontWeight: 700,\r\n    },\r\n    textH2: {        \r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '32px',\r\n        fontWeight: 700,\r\n    },\r\n    textH3: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '24px',\r\n        fontWeight: 700,\r\n    },\r\n    textH4: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '20px',\r\n        fontWeight: 700,\r\n    },   \r\n    textBlock: {\r\n        lineHeight: '150%'\r\n    },\r\n    //text color\r\n    text200: {\r\n        color: 'rgba(51,52,66,0.5)',\r\n    },\r\n    text300: {\r\n        color: 'rgba(51,52,66,0.7)',\r\n    },\r\n    text400: {\r\n        color: '#333442',\r\n    },\r\n    textEl250: {\r\n        color: '#A4B1C4',\r\n    },\r\n    // ---------- font weights\r\n    fontRegular: {\r\n        fontWeight: 400,\r\n    },\r\n    fontMedium: {\r\n        fontWeight: 500,\r\n    }, \r\n    fontSemibold: {\r\n        fontWeight: 600,\r\n    },     \r\n    fontBold: {\r\n        fontWeight: 700,\r\n    },    \r\n    // ---------- utils\r\n    hrLine: {\r\n        border: 0,\r\n        borderBottom: '1px solid rgba(0,0,0,0.08)',\r\n    },\r\n    positionRelative: {\r\n        position: 'relative',\r\n    },\r\n    positionAbsolute: {\r\n        position: 'absolute',\r\n    },\r\n    w100: {\r\n        width: '100%',\r\n    },\r\n    w50:{\r\n        width: '50%',\r\n    },    \r\n    h100: {\r\n        height: '100%',\r\n    },\r\n    h50: {\r\n        height: '50%',\r\n    },\r\n    dBlock: {\r\n        display: 'block',\r\n    },\r\n    dBlockInline: {\r\n        display: 'block-inline',\r\n    },    \r\n    alignItemsCenter: {\r\n        alignItems: 'center'\r\n    },\r\n    alignItemsStart: {\r\n        alignItems: 'flex-start'\r\n    },\r\n    alignItemsEnd: {\r\n        alignItems: 'flex-end'\r\n    },    \r\n    carouselFullwidth: {\r\n        marginRight: '-1.25rem',\r\n        marginLeft: '-1.25rem',\r\n    },\r\n    carouselSpacing: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '1.25rem',\r\n        }\r\n    },\r\n\r\n    // ---------- card\r\n    cardShadow: {\r\n        boxShadow: \"1px 1px 10px 1px rgba(0,0,0,0.08)\",\r\n    },\r\n    // ---------- shadows\r\n    shadowTiny: {\r\n        boxShhadow: '0px 1px 3px rgba(0, 0, 0, 0.14)',\r\n    },\r\n    shadowSmall: {\r\n        boxShhadow: '2px 4px 10px 2px rgba(0, 0, 0, 0.07)',\r\n    },\r\n    shadowMedium: {\r\n        boxShhadow: '0px 7px 20px 4px rgba(0, 0, 0, 0.08)',\r\n    },\r\n    shadowLarge: {\r\n        boxShhadow: '8px 8px 50px 4px rgba(0, 0, 0, 0.2)',\r\n    },\r\n    shadowXl: {\r\n        boxShhadow: '0px 16px 64px rgba(0, 0, 0, 0.06), 0px 12px 24px rgba(0, 0, 0, 0.04), 0px 6px 8px rgba(0, 0, 0, 0.02), 0px 2px 8px 2px rgba(0, 0, 0, 0.08)',\r\n    },\r\n    shadowXxl: {\r\n        boxShhadow: '0px 16px 64px rgba(0, 0, 0, 0.06), 0px 12px 24px rgba(0, 0, 0, 0.04), 0px 6px 8px rgba(0, 0, 0, 0.02)',\r\n    },\r\n    // ---------- images\r\n    imageFit: {\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 0,\r\n        width: '100%',\r\n        height: '100%',        \r\n        objectFit: 'cover',\r\n    },\r\n    imageFitHolder: {\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n    }   \r\n    // ----------\r\n    \r\n})\r\n\r\nconst spacings = [  \r\n    '0rem',  \r\n    '0.25rem',\r\n    '0.5rem',\r\n    '0.75rem',\r\n    '1rem',\r\n    '1.25rem',\r\n    '1.5rem',\r\n    '2rem',\r\n    '2.5rem',\r\n    '3rem',\r\n    '4rem',\r\n    '5rem',\r\n    '7rem',\r\n    '10rem',\r\n]\r\n\r\nconst generateSpacings = (theme) => {\r\n    let ret = {};\r\n\r\n    let keys = [...theme.breakpoints.keys];\r\n    keys.unshift(\"\")\r\n\r\n    keys.forEach(key => {\r\n        spacings.forEach((x, index) => { \r\n            \r\n            //margin   \r\n            ret[`mt${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginTop: x+'!important',\r\n                    }} : {marginTop: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mr${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginRight: x+'!important',\r\n                    }} : {marginRight: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mb${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginBottom: x+'!important',\r\n                    }} : {marginBottom: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`ml${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginLeft: x+'!important',\r\n                    }} : {marginLeft: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`m${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        margin: x+'!important',\r\n                    }} : {margin: x+'!important',}\r\n                )                 \r\n            };\r\n            ret[`my${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginTop: x+'!important',\r\n                        marginBottom: x+'!important',\r\n                    }} : {marginTop: x+'!important', marginBottom: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mx${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginLeft: x+'!important',\r\n                        marginRight: x+'!important',\r\n                    }} : {marginLeft: x+'!important', marginRight: x+'!important',}\r\n                )                \r\n            };\r\n            //pading\r\n            ret[`pt${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingTop: x+'!important',\r\n                    }} : {paddingTop: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`pr${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingRight: x+'!important',\r\n                    }} : {paddingRight: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`pb${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingBottom: x+'!important',\r\n                    }} : {paddingBottom: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`pl${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingLeft: x+'!important',\r\n                    }} : {paddingLeft: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`p${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        padding: x+'!important',\r\n                    }} : {padding: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`py${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingTop: x+'!important',\r\n                        paddingBottom: x+'!important',\r\n                    }} : {paddingTop: x+'!important', paddingBottom: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`px${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingLeft: x+'!important',\r\n                        paddingRight: x+'!important',\r\n                    }} : {paddingLeft: x+'!important', paddingRight: x+'!important',}\r\n                )               \r\n            };\r\n        }); \r\n        \r\n        \r\n    })\r\n    return ret;\r\n}\r\n\r\nconst displayProps = [\r\n    {\r\n        name: 'Block',\r\n        value: 'block',\r\n    },\r\n    {\r\n        name: 'Flex',\r\n        value: 'flex',\r\n    },\r\n    {\r\n        name: 'InlineBlock',\r\n        value: 'inline-block',\r\n    },\r\n    {\r\n        name: 'None',\r\n        value: 'none',\r\n    },   \r\n]\r\n\r\nconst justifyContentProps = [\r\n    {\r\n        name: 'Center',\r\n        value: 'center',\r\n    },\r\n    {\r\n        name: 'Start',\r\n        value: 'flex-start',\r\n    },\r\n    {\r\n        name: 'End',\r\n        value: 'flex-end',\r\n    },\r\n    {\r\n        name: 'Between',\r\n        value: 'space-between',\r\n    },   \r\n]\r\n\r\nconst flexDirectionProps = [\r\n    {\r\n        name: 'Col',\r\n        value: 'column'\r\n    },\r\n    {\r\n        name: 'Row',\r\n        value: 'row'\r\n    }\r\n]\r\n\r\nconst alignItemsProps = [\r\n    {\r\n        name: 'Start',\r\n        value: 'flex-start'\r\n    },\r\n    {\r\n        name: 'End',\r\n        value: 'flex-end'\r\n    },\r\n    {\r\n        name: 'Center',\r\n        value: 'center'\r\n    }\r\n]\r\n\r\nconst textAlignProps = [\r\n    {\r\n        name: 'Center',\r\n        value: 'center',\r\n    },\r\n    {\r\n        name: 'Left',\r\n        value: 'left',\r\n    },\r\n    {\r\n        name: 'Right',\r\n        value: 'right',\r\n    },      \r\n]\r\n\r\nconst generateUtils = (theme) => {  \r\n    let ret = {};   \r\n\r\n    let keys = [...theme.breakpoints.keys];\r\n    keys.unshift(\"\")\r\n\r\n    keys.forEach(key => {\r\n        displayProps.forEach(x => {       \r\n            ret[`d${capitalize(key)}${x.name}`] = {\r\n                ...(                \r\n                    key !== \"\" ?\r\n                        {[theme.breakpoints.up(key)]: {\r\n                            display: x.value,\r\n                        }} : {display: x.value}\r\n                )\r\n            }\r\n        });  \r\n        \r\n        justifyContentProps.forEach(x => {       \r\n            ret[`justifyContent${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            justifyContent: x.value,\r\n                        }} : {justifyContent: x.value}\r\n                )\r\n            }\r\n        });  \r\n\r\n        flexDirectionProps.forEach(x => {       \r\n            ret[`flex${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            flexDirection: x.value,\r\n                        }} : {flexDirection: x.value}\r\n                )\r\n            }\r\n        }); \r\n\r\n        alignItemsProps.forEach(x => {       \r\n            ret[`alignItems${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            alignItems: x.value,\r\n                        }} : {alignItems: x.value}\r\n                )\r\n            }\r\n        }); \r\n        \r\n        textAlignProps.forEach(x => {       \r\n            ret[`text${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            textAlign: x.value,\r\n                        }} : {textAlign: x.value}\r\n                )\r\n            }\r\n        }); \r\n    })\r\n    return ret;\r\n}\r\n\r\nconst capitalize = (s) => {\r\n    if (typeof s !== 'string') return ''\r\n    return s.charAt(0).toUpperCase() + s.slice(1)\r\n  }\r\n\r\n\r\nexport default getSharedStyles","import React, {useState} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport compose from '../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../style';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport GroupIcon from '@material-ui/icons/GroupOutlined';\r\nimport AccountIcon from '@material-ui/icons/AccountCircleOutlined';\r\nimport HillIcon from '@material-ui/icons/TerrainOutlined';\r\nimport DotsIcon from '@material-ui/icons/MoreHoriz';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    bottomBar: {\r\n        position: 'fixed',\r\n        height: '120px',\r\n        width: '100%',\r\n        bottom: '-60px',\r\n        left: '0',\r\n        background: 'rgba(255,255,255,0.95)',\r\n        borderTopLeftRadius: '10px',\r\n        borderTopRightRadius: '10px',\r\n        borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n        backdropFilter: 'blur(9px)',\r\n        transition: 'all 0.3s ease',\r\n        zIndex: 800,\r\n    },\r\n    expandedBar: {\r\n        bottom: '0',\r\n    },\r\n    itemsHolder: {\r\n        width: 'calc((100% - 70px) / 2)',\r\n        paddingTop: '0.5rem'\r\n        //background: 'red',\r\n    },\r\n    addPostHolder: {\r\n        width: '70px',\r\n    },\r\n    addPostBtn: {\r\n        width: '56px',\r\n        height: '56px',\r\n        borderRadius: '50px',\r\n        background: '#3044C0',\r\n        boxShadow: '0px 2px 15px rgba(48, 68, 192, 0.75)',\r\n        outline: 'none!important',\r\n        border: '0!important',\r\n        color: 'white',\r\n        marginTop: '-10px',\r\n        padding: '0',        \r\n    },\r\n    navItem: {\r\n        width: '50%',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nfunction BottomNavigationBar(props) {   \r\n    const { classes, fullwidth, outline} = props;  \r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const expandBar = () => {\r\n        setExpanded(!expanded)\r\n    }\r\n\r\n    const goToLink = (name) => {\r\n        props.history.push(name)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.bottomBar, expanded && classes.expandedBar)}>\r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.dFlex)}>\r\n                        <div className={classNames(classes.itemsHolder, classes.pl5)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)}>\r\n                                    <GroupIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Komunita\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)}>\r\n                                    <AccountIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Profil\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.addPostHolder, classes.textCenter)}>\r\n                            <button className={classNames(classes.addPostBtn)}>\r\n                                <AddIcon style={{fontSize: '30px'}}/>\r\n                            </button>\r\n                        </div>\r\n                        <div className={classNames(classes.itemsHolder, classes.pr5)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)} onClick={()=>goToLink('challenges')}>\r\n                                    <HillIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Vyzvy\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)} onClick={expandBar}>\r\n                                    <DotsIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {expanded ? \"Menej\" : \"Viac\"}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.mt3, classes.justifyContentCenter)}>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Sprievodca\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Blog\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Kontakt\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Batoh\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withRouter,\r\n)(BottomNavigationBar);","import React from \"react\";\n\nconst UserContext = React.createContext();\nexport default UserContext;","import React from \"react\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst withUser = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <UserContext.Consumer>\n        {user =>\n          <WrappedComponent\n            {...props}\n            user={user}\n          />\n        }\n      </UserContext.Consumer>\n    );\n  }\n};\n\nexport default withUser;","import React from \"react\";\r\nimport en from './en-US.json';\r\nimport sk from './sk-SK.json';\r\n\r\nconst Context = React.createContext();\r\n\r\nexport class LocalizationProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.locales = { \r\n      'en-US': { ...en, ...props['en-US'] },\r\n      'sk-SK': { ...sk, ...props['sk-SK'] } \r\n    };\r\n\r\n    this.state = {\r\n      locale: props.locale || 'en-US'\r\n    };\r\n  }\r\n\r\n  translate = locale => (key) => {\r\n    const k = key.split('.');\r\n\r\n    let value = this.locales[locale][k[0]];\r\n    if(k.length > 1) {\r\n      value = value[k[1]];\r\n    }\r\n    return value;\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Context.Provider\r\n        value={{\r\n          locale: this.state.locale,\r\n          translate: this.translate(this.state.locale)\r\n        }}\r\n      >\r\n        {children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const withLocalization = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <Context.Consumer>\r\n        {x =>\r\n          <WrappedComponent\r\n            {...props}\r\n            {...x}\r\n          />\r\n        }\r\n      </Context.Consumer>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n// import IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n// import Toolbar from '@material-ui/core/Toolbar';\r\n// import Typography from '@material-ui/core/Typography';\r\n// import AccountCircle from '@material-ui/icons/AccountCircle';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import Menu from '@material-ui/core/Menu';\r\n\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\r\nimport { withRouter } from \"react-router\";\r\nimport compose from '../../compose';\r\nimport { withLocalization } from './localization';\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../style';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    drawer: {\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     width: drawerWidth,\r\n        //     flexShrink: 0,\r\n        // },\r\n    },\r\n    appBar: {\r\n        background: '#fff',\r\n        height: '60px',\r\n        //marginLeft: drawerWidth,\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     width: `calc(100% - ${drawerWidth}px)`,\r\n        // },\r\n        boxShadow: \"0px 0px 17px 1px rgba(0,0,0,0.08)\"\r\n\r\n    },\r\n    appBarMenuIcon: {\r\n        fill: theme.palette.secondary.dark,\r\n        height: '1.8rem',\r\n        width: '1.8rem',\r\n    },\r\n    appBarLogoImg: {\r\n        width: '140px',\r\n    },\r\n    appBarCol: {\r\n        width: 'calc((100% - 100px) / 2)',\r\n        color: 'red',\r\n    },\r\n    menuButton: {\r\n        marginRight: 20,\r\n        [theme.breakpoints.up('lg')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n    drawerPaper: {\r\n        width: '80%',\r\n        maxWidth: '340px',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        //padding: theme.spacing.unit * 2,\r\n        overflow: 'auto',\r\n        paddingTop: '60px'\r\n    },\r\n});\r\n\r\nclass ResponsiveDrawer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            mobileOpen: false,\r\n            anchorEl: null\r\n        };\r\n    }\r\n\r\n    handleMenu = event => {\r\n        this.setState({ anchorEl: event.currentTarget });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null });\r\n    };\r\n\r\n    handleClickAccount = () => {\r\n        this.props.history.push('/account');\r\n        this.handleClose();\r\n    }\r\n\r\n    handleDrawerToggle = () => {\r\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\r\n    };\r\n\r\n    redirect = (route) => {\r\n        if (isWidthDown('md', this.props.width)) {\r\n            this.handleDrawerToggle();\r\n        }\r\n\r\n        this.props.history.push(route.path);\r\n    }\r\n\r\n    render() {\r\n        const { classes, theme, routes, user, translate } = this.props;\r\n        // const { anchorEl } = this.state;\r\n        // const open = Boolean(anchorEl);\r\n        const path = this.props.history.location.pathname;\r\n        const route = routes.find(x => x.path === path);\r\n\r\n        const drawer = (\r\n            <div>\r\n                <div className={classes.toolbar} />\r\n                <Divider />\r\n                <List>\r\n                    {routes.map(route => {\r\n                        if (route.exact && !route.hidden && (!route.permission || user.hasPermission(route.permission))) return (\r\n                            <ListItem button key={route.name} onClick={() => this.redirect(route)}>\r\n                                <ListItemText primary={translate('route.' + route.name) || route.name} />\r\n                            </ListItem>\r\n                        );\r\n                        else return null;\r\n                    })}\r\n                </List>\r\n            </div>\r\n        );\r\n\r\n        if (!route || !route.anonymous || route.name === 'home') {\r\n            return (\r\n                <div className={classes.root}>\r\n                    <CssBaseline />\r\n                    <AppBar position=\"fixed\" className={classes.appBar} color='secondary'>\r\n                        <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.h100, classes.ml5, classes.mr5)} >\r\n                            {this.props.user.user ?\r\n                                <>\r\n                                    <div onClick={this.handleDrawerToggle} className={classes.appBarCol}>\r\n                                        <MenuIcon className={classes.appBarMenuIcon} />\r\n                                    </div>\r\n                                    <img src={this.props.logo} className={classes.appBarLogoImg} alt={''} />\r\n                                    <div className={classNames(classes.appBarCol, classes.dFlex, classes.alignItemsCenter, classes.justifyContentEnd)}>\r\n                                        <ShoppingCartIcon\r\n                                            style={{ color: theme.palette.secondary.dark }}\r\n                                            onClick={() => this.props.history.push('/eshop/cart')}\r\n                                        />\r\n                                    </div>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className={classes.appBarCol}></div>\r\n                                    <img src={this.props.logo} className={classes.appBarLogoImg} alt={''} />\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </AppBar>\r\n                    <nav className={classes.drawer}>\r\n                        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n                        <Hidden lgUp implementation=\"css\">\r\n                            <Drawer\r\n                                variant=\"temporary\"\r\n                                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n                                open={this.state.mobileOpen}\r\n                                onClose={this.handleDrawerToggle}\r\n                                classes={{\r\n                                    paper: classes.drawerPaper,\r\n                                }}\r\n                            >\r\n                                {drawer}\r\n                            </Drawer>\r\n                        </Hidden>\r\n                        {/* <Hidden mdDown implementation=\"css\">\r\n                            <Drawer\r\n                                classes={{\r\n                                    paper: classes.drawerPaper,\r\n                                }}\r\n                                variant=\"permanent\"\r\n                                open\r\n                            >\r\n                                {drawer}\r\n                            </Drawer>\r\n                        </Hidden> */}\r\n                    </nav>\r\n                    <main className={classes.content}>                       \r\n                        {this.props.children}\r\n                    </main>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className={classes.root}>\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nResponsiveDrawer.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    theme: PropTypes.object.isRequired,\r\n    children: PropTypes.arrayOf(PropTypes.element),\r\n    user: PropTypes.object.isRequired,\r\n    routes: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withWidth(),\r\n    withStyles(styles, { withTheme: true }),\r\n    withRouter,\r\n    withLocalization\r\n)(ResponsiveDrawer);","import React from \"react\";\n\nconst StoreContext = React.createContext();\nexport default StoreContext;","import React from \"react\";\nimport StoreContext from \"../contexts/StoreContext\";\n\nconst withStore = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <StoreContext.Consumer>\n        {store =>\n          <WrappedComponent\n            {...props}\n            store={store}\n          />\n        }\n      </StoreContext.Consumer>\n    );\n  }\n};\n\nexport default withStore;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GithubIcon from \"../icons/GithubIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://github.com/login/oauth/authorize?client_id=${props.config.id}&scope=user&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=1`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" tooltip=\"Github\" onClick={handleClick} disabled={props.disabled}>\n      <GithubIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GoogleIcon from \"../icons/GoogleIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=2&response_type=code&client_id=${props.config.id}`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\n      <GoogleIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M14.92 17.16l1.83-3.63h2.7l-4.51 8.97l-4.57-8.97h2.7l1.85 3.63m-4.29-8.5l-2.45 4.89H4.55L10.61 1.5l6.13 12.05h-3.63l-2.48-4.89z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\r\nimport StravaIcon from \"../icons/StravaIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    // const redirect = 'http://localhost:3000';\r\n    const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} variant={props.variant} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <StravaIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;\r\n","import React from 'react';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\n\r\nfunction FbIcon(props) {\r\n  return (\r\n    <SvgIcon {...props}>\r\n      <path d=\"M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z\" />\r\n    </SvgIcon>\r\n  );\r\n}\r\n\r\nexport default FbIcon;","import React from \"react\";\r\nimport FbIcon from \"../icons/FbIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <FbIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from '../shared/login/FbButton';\r\nimport config from \"../../config.json\";\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: `url(${config.header})`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing.unit * 8,\r\n    marginBottom: theme.spacing.unit * 4,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n    marginBottom: theme.spacing.unit\r\n  },\r\n  center: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column'\r\n  }\r\n});\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright  \"}\r\n      <Link color=\"inherit\" href={process.env.REACT_APP_HOMEPAGE}>\r\n        {process.env.REACT_APP_NAME +' '}\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      token: \"\",\r\n      disabled: false\r\n    };\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ disabled: true });\r\n\r\n    const { username, password, token } = this.state;\r\n    try {\r\n      const user = await this.props.user.auth(\r\n        username.trim().toLowerCase(),\r\n        password,\r\n        token\r\n      );\r\n      if (user === null) {\r\n        this.props.user.showMsg(\"Unauthorized\");\r\n      }\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n\r\n    this.setState({ disabled: false });\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleClickReset = async () => {\r\n    const { username } = this.state;\r\n\r\n    if (username) {\r\n      try {\r\n        await this.props.user.reset(username.trim().toLowerCase());\r\n        this.props.user.showMsg(\"Mail sended.\");\r\n      } catch (error) {\r\n        this.props.user.showError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, user, translate } = this.props;\r\n    const { username, password, disabled, oAuth, token } = this.state;\r\n\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: config.home }\r\n    };\r\n\r\n    if (oAuth) return null;\r\n    if (user.user) return <Redirect to={from} />;\r\n\r\n    return (\r\n      <Grid container component=\"main\" className={classnames(classes.root, config.header ? null : classes.center)}>\r\n        <CssBaseline />\r\n        {\r\n          config.header &&\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n        }\r\n        <Grid item xs={12} sm={8} md={5} component={'div'} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <img alt=\"logo\" className={classes.avatar} src={config.logo} />\r\n            {/* <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography> */}\r\n\r\n            <GithubButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"githubSignIn\")}\r\n              config={config.github}\r\n            />\r\n            <GoogleButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"googleSignIn\")}\r\n              config={config.google}\r\n            />\r\n            <FbButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"fbSignIn\")}\r\n              config={config.fb}\r\n            />\r\n            <StravaButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"stravaSignIn\")}\r\n              config={config.strava}\r\n            />\r\n\r\n            <Typography variant=\"body1\">{translate(\"useAccount\")}</Typography>\r\n\r\n            <form className={classes.form} onSubmit={this.handleSubmit}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"username\">\r\n                  {translate(\"field.username\")}\r\n                </InputLabel>\r\n                <Input\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  autoFocus\r\n                  value={username}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"password\">\r\n                  {translate(\"field.password\")}\r\n                </InputLabel>\r\n                <Input\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  value={password}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n              {config[\"2fa\"] && (\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"password\">\r\n                    {translate(\"field.token\")}\r\n                  </InputLabel>\r\n                  <Input\r\n                    name=\"token\"\r\n                    id=\"token\"\r\n                    value={token}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </FormControl>\r\n              )}\r\n              {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={disabled}\r\n              >\r\n                {translate(\"signIn\")}\r\n              </Button>\r\n              {/* <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\" onClick={this.handleClickReset}>\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link  variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid> */}\r\n            </form>\r\n          </div>\r\n          <Copyright />\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withStore,\r\n  withLocalization\r\n)(Login);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nconst styles = (theme) => ({\r\n  formInline: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    flexDirection: \"row\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  submitButton: {\r\n    margin: theme.spacing.unit,\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\nclass Form extends React.Component {\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit();\r\n  };\r\n\r\n  render() {\r\n    const { classes, inline, disabled, translate } = this.props;\r\n\r\n    return (\r\n      <form\r\n        className={inline ? classes.formInline : classes.form}\r\n        onSubmit={this.handleSubmit}\r\n      >\r\n        {this.props.children}\r\n        {!disabled && (\r\n          <Button\r\n            className={classes.submitButton}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={disabled}\r\n          >\r\n            {translate(\"form.save\")}\r\n          </Button>\r\n        )}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  inline: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(Form));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n    textInput: {\r\n        background: \"white!important\",\r\n        border: \"1px solid #E7E7E7\",\r\n        borderRadius: \"6px\",\r\n        \"&:before\": {\r\n            display: \"none\",\r\n        },\r\n        \"&:after\": {\r\n            display: \"none\",\r\n        },\r\n    },\r\n    inputLabel: {\r\n        color: \"rgba(0,0,0,0.3)!important\",\r\n        fontSize: \"0.875rem\",\r\n    },\r\n    inputRoot: {\r\n        padding: \"23px 12px 8px\",\r\n        fontSize: \"0.875rem\",\r\n        color: \"#333442\",\r\n    },\r\n});\r\n\r\nfunction TextFieldComponent(props) {\r\n    const { classes } = props;\r\n    const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n    return (\r\n        <FormControl\r\n            className={classNames(props.className)}\r\n            variant=\"filled\"\r\n            fullWidth={props.fullWidth}\r\n            required={props.required}\r\n            error={props.errorText && props.errorText !== \"\"}\r\n        >\r\n            <InputLabel\r\n                htmlFor=\"component-filled\"\r\n                className={classNames(classes.inputLabel)}\r\n            >\r\n                {label}\r\n            </InputLabel>\r\n            <FilledInput\r\n                id=\"outlined-name\"\r\n                label={label}\r\n                value={props.value || \"\"}\r\n                onChange={(e) => props.onChange(props.field, e.target.value)}\r\n                margin=\"normal\"\r\n                variant=\"filled\"\r\n                className={classes.textInput}\r\n                classes={{ input: classes.inputRoot }}\r\n                rows={props.rows}\r\n                multiline={props.multiline}\r\n                onBlur={props.onBlur}\r\n            />\r\n            {\r\n                props.errorText && <FormHelperText>{props.errorText}</FormHelperText>\r\n            }\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nTextFieldComponent.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    className: PropTypes.string,\r\n    label: PropTypes.string,\r\n    field: PropTypes.string.isRequired,\r\n    value: PropTypes.string,\r\n    onChange: PropTypes.func.isRequired,\r\n    placeholder: PropTypes.string,\r\n    fullWidth: PropTypes.bool,\r\n    required: PropTypes.bool,\r\n    type: PropTypes.string,\r\n    disabled: PropTypes.bool,\r\n    multiline: PropTypes.bool,\r\n    rows: PropTypes.number,\r\n    startAdornment: PropTypes.string,\r\n    onBlur: PropTypes.func,\r\n    errorText: PropTypes.string,\r\n    width: PropTypes.number,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextFieldComponent));\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    width: 160\n  }\n});\n\nfunction FormDialog(props) {\n  return (\n    <Dialog\n      onClose={props.onClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={props.isOpen}\n      fullWidth\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\n      {props.children}\n      <DialogActions>\n        {props.onCancel && (\n          <Button onClick={props.onCancel} color=\"primary\">\n            Cancel\n          </Button>\n        )}\n        {props.onConfirm && (\n          <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n            OK\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nFormDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  onConfirm: PropTypes.func,\n  onCancel: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  children: PropTypes.element.isRequired\n};\n\nexport default withStyles(styles)(FormDialog);\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <FormControlLabel\r\n      className={classes.formControl}\r\n      control={\r\n        <Switch\r\n          checked={props.value}\r\n          onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n          value={props.field}\r\n          disabled={props.disabled}\r\n        />\r\n      }\r\n      label={props.label}\r\n    />\r\n  );\r\n}\r\n\r\nSwitchComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(SwitchComponent);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst styles = theme => ({\n\n});\n\nclass ImageAvatars extends React.Component {\n  render() {\n    const { value, defaultValue, tooltip, onClick, className, placement } = this.props;\n\n    return (\n      <Tooltip title={tooltip} aria-label={tooltip} placement={placement}>\n        <Avatar\n          style={{ textTransform: 'uppercase' }}\n          alt={defaultValue}\n          src={value ? \"data:image/jpeg;base64,\" + value : null}\n          onClick={onClick}\n          className={className}\n        >\n          {tooltip[0]}\n        </Avatar>\n      </Tooltip>\n    );\n  }\n}\n\nImageAvatars.propTypes = {\n  classes: PropTypes.object.isRequired,\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  placement: PropTypes.string,\n  tooltip: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles)(ImageAvatars);\n","import React, { useRef } from \"react\";\r\n\r\nconst withUtils = WrappedComponent => {\r\n  return props => {\r\n    const canvasRef = useRef(null);\r\n    \r\n    const resize = (src, height, filename = null) => {\r\n      return new Promise(resolve => {\r\n        const image = new Image();\r\n        const canvas = canvasRef.current;\r\n        image.onload = () => {\r\n          if (image.height > height) {\r\n            image.width *= height / image.height;\r\n            image.height = height;\r\n          }\r\n          const ctx = canvas.getContext(\"2d\");\r\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n          canvas.width = image.width;\r\n          canvas.height = image.height;\r\n          ctx.drawImage(image, 0, 0, image.width, image.height);\r\n\r\n          if(filename) {\r\n            canvas.toBlob((blob) => {\r\n              blob.name = filename;\r\n              resolve(blob);;\r\n            }, \"image/jpeg\");\r\n          }\r\n          else {\r\n            resolve(canvas.toDataURL(\"image/jpeg\"));\r\n          }\r\n        };\r\n\r\n        image.src = src;\r\n      });\r\n    }\r\n\r\n    const postFile = async (url, file, key) => {  \r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n    \r\n      const response = await fetch(`${url}/api/file`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Basic \" + key\r\n        },\r\n        body: formData\r\n      });\r\n    \r\n      if (response.status === 200) {\r\n        return await response.json();\r\n      } else {\r\n        console.log(await response.text())\r\n        throw new Error(response.statusText);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <WrappedComponent\r\n          {...props}\r\n          utils={{\r\n            resize,\r\n            postFile\r\n          }}\r\n        />\r\n        <canvas style={{ display: \"none\" }} ref={canvasRef} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withUtils;\r\n","export const getStyles = theme => ({\n  col: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: 'column',\n    marginBottom: theme.spacing.unit\n  },\n  row: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: 'row',\n  },\n  center: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  },\n  paper: {\n    padding: theme.spacing.unit\n  },\n  flex: {\n    display: 'flex'\n  },\n  grow: {\n    display: 'flex',\n    flex:1\n  }\n});","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport Dialog from \"../shared/Dialog\";\r\nimport Switch from \"../shared/Switch\";\r\nimport Avatar from \"../shared/avatar/Avatar\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from \"../shared/login/FbButton\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withUtils from \"../shared/utils/withUtils\";\r\nimport compose from \"../../compose\";\r\nimport { getStyles } from \"../shared/style\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport config from \"../../config.json\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getStyles(theme),\r\n  heading: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  detailHeading: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  actions: {\r\n    float: \"right\",\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  tel: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null,\r\n  notifications: true,\r\n  notifyAboutMe: false,\r\n  notifyAboutFollowers: false,\r\n  notifyNews: false,\r\n};\r\n\r\nconst buildState = (user) => {\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    tel: { ...INIT_STATE.tel, value: user.tel || \"\" },\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false,\r\n  };\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  state = buildState(this.props.user.user);\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  handleChangeCheckBox = (event) => {\r\n    const { name, checked } = event.target;\r\n    this.setState((state) => _.set(state, name, checked));\r\n  };\r\n\r\n  validTelephone = () => {\r\n    const { translate } = this.props;\r\n    const { tel } = this.state;\r\n\r\n    const regex = new RegExp(\"^[0-9]{3}[-][0-9]{3} [0-9]{3} [0-9]{3}$\");\r\n    const isValid = tel.value === \"-  \" || regex.test(tel.value);\r\n    const errorText = isValid ? \"\" : translate(\"field.telNotValid\");\r\n\r\n    this.setState((state) => ({\r\n      tel: { ...state.tel, errorText },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return (\r\n      ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id)\r\n    );\r\n  };\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      username: {\r\n        ...state.username,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !username.value || (await this.isValid(username.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.usernameInUse\");\r\n\r\n    this.setState((state) => ({\r\n      username: { ...state.username, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  handleRemoveAvatar = () => {\r\n    this.setState({ avatar: null, avatarChanged: true });\r\n  };\r\n\r\n  handleChangeAvatar = (event) => {\r\n    event.preventDefault();\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      let data = await this.props.utils.resize(reader.result, 320);\r\n      data = data.split(\",\").pop();\r\n      this.setState({ avatar: data, avatarChanged: true });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      await this.props.user.generateSecret();\r\n      this.handleOpenSecretDialog();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleOpenSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: true });\r\n  };\r\n\r\n  handleCloseSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: false });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged,\r\n    } = this.state;\r\n\r\n    const isValid =\r\n      this.validPasswords() &&\r\n      (await this.validEmail()) &&\r\n      (await this.validUsername());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel: tel.value,\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, translate, locale, disabled } = this.props;\r\n    const { user } = this.props.user;\r\n    const connectTitle = translate(\"connect\");\r\n    const {\r\n      email,\r\n      tel,\r\n      otp,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      avatar,\r\n      name,\r\n      bio,\r\n      notifications,\r\n      notifyAboutMe,\r\n      notifyAboutFollowers,\r\n      notifyNews,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} disabled={disabled}>\r\n          <p>Nastavenia</p>\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <div className={classes.center}>\r\n                <Avatar\r\n                  className={classes.bigAvatar}\r\n                  value={avatar}\r\n                  onClick={() => {\r\n                    console.log(\"Avatar clicked\");\r\n                  }}\r\n                  tooltip=\"Avatar\"\r\n                  placement=\"right\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={classes.col}>\r\n              <p>\r\n                Tvoja profilov fotrografia je verejn no sli aj na\r\n                schvalovanie vstupov\r\n              </p>\r\n              <Button variant=\"contained\" component=\"label\">\r\n                {translate(\"changePhoto\")}\r\n                <input\r\n                  hidden\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg\"\r\n                  onChange={this.handleChangeAvatar}\r\n                />\r\n              </Button>\r\n              <Button variant=\"outlined\" onClick={this.handleRemoveAvatar}>\r\n                {translate(\"removePhoto\")}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <GoogleButton\r\n            config={config.google}\r\n            disabled={disabled || user.google}\r\n            title={user.google ? user.google.name : connectTitle}\r\n          />\r\n          <GithubButton\r\n            config={config._github}\r\n            disabled={disabled || user.github}\r\n            title={user.github ? user.github.name : connectTitle}\r\n          />\r\n          <FbButton\r\n            config={config.fb}\r\n            disabled={disabled || user.fb}\r\n            title={user.fb ? user.fb.name : connectTitle}\r\n          />\r\n          <div>\r\n            <StravaButton\r\n              config={config.strava}\r\n              disabled={disabled}\r\n              title={user.strava ? translate(\"sync\") : connectTitle}\r\n            />\r\n            {config.strava && user.strava && user.strava.synced && (\r\n              <span>\r\n                {\" \"}\r\n                ({translate(\"lastSync\")}{\" \"}\r\n                {new Date(user.strava.synced).toLocaleDateString(locale)}){\" \"}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <TextField\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={bio}\r\n            field=\"bio\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n            rows={3}\r\n            multiline\r\n          />\r\n\r\n          <p className={styles.heading}>Doruovacie daje</p>\r\n          <TextField\r\n            type=\"email\"\r\n            value={email.value}\r\n            field=\"email.value\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled || email.isLoading}\r\n            onBlur={this.validEmail}\r\n            errorText={email.errorText}\r\n            required\r\n          />\r\n          <TextField\r\n            value={tel.value}\r\n            field=\"tel.value\"\r\n            onChange={this.handleChange}\r\n            onBlur={this.validTelephone}\r\n            disabled={disabled}\r\n            errorText={tel.errorText}\r\n          />\r\n          <TextField\r\n            value={country}\r\n            field=\"country\"\r\n            type=\"country\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={city}\r\n            field=\"city\"\r\n            type=\"city\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={address}\r\n            field=\"address\"\r\n            type=\"address\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={postCode}\r\n            field=\"postCode\"\r\n            type=\"postCode\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <FormLabel component=\"legend\">\r\n                {translate(\"notifications\")}\r\n              </FormLabel>\r\n              <FormGroup>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyAboutMe}\r\n                      checked={notifyAboutMe}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyAboutMe\"\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyAboutMe\")}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyAboutFollowers}\r\n                      checked={notifyAboutFollowers}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyAboutFollowers\"\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyAboutFollowers\")}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyNews}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyNews\"\r\n                      checked={notifyNews}\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyNews\")}\r\n                />\r\n              </FormGroup>\r\n            </div>\r\n            <div className={classes.col}>\r\n              <div>\r\n                <Switch\r\n                  value={notifications}\r\n                  field=\"notifications\"\r\n                  onChange={this.handleChange}\r\n                  disabled={disabled}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {config[\"2fa\"] && (\r\n            <div className={classes.row}>\r\n              <div className={classes.col}>\r\n                <div>\r\n                  <Switch\r\n                    value={otp}\r\n                    field=\"otp\"\r\n                    onChange={this.handleChange}\r\n                    disabled={disabled}\r\n                  />\r\n                  <Button\r\n                    color=\"primary\"\r\n                    disabled={disabled || !this.state.otp}\r\n                    onClick={this.generateSecret}\r\n                  >\r\n                    {translate(\"generateSecret\")}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Form>\r\n        <Dialog\r\n          title={this.props.translate(\"secret\")}\r\n          isOpen={this.state.isOpenSecretDialog}\r\n          onConfirm={this.handleCloseSecretDialog}\r\n        >\r\n          <div className={classes.center}>\r\n            {this.props.user.secret && (\r\n              <img\r\n                src={\"data:image/jpeg;base64,\" + this.props.user.secret.qrCode}\r\n                alt=\"secret\"\r\n                width={320}\r\n                height={320}\r\n              />\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withUser,\r\n  withUtils,\r\n  withLocalization\r\n)(FormWrapper);\r\n","const permissions = {\n  user: 1,\n  store: 2,\n  doby: 8192\n}\n\nexport default permissions;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport permissions from \"../../permissions\";\r\n\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport compose from \"../../compose\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n  heading: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  connected: {\r\n    padding: theme.spacing.unit,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  const { hasPermission } = props.user;\r\n  const disabled = !hasPermission(permissions.user);\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <Paper className={classes.paper}>\r\n          <Form disabled={disabled} />\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withLocalization\r\n)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n// import LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from '../shared/localization';\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport config from '../../config.json';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: \"100%\",\r\n    display: \"block\", // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    }\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\r\n      .spacing.unit * 3}px`\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128\r\n  },\r\n  loader: {\r\n    marginTop: theme.spacing.unit,\r\n  }\r\n});\r\n\r\nlet _code, _provider, _mutex;\r\nclass OAuthComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const urlParams = new URLSearchParams(this.props.location.search);\r\n    _provider = urlParams.get(\"provider\");\r\n    _code = urlParams.get(\"code\");\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (_provider && !_mutex) {\r\n      _mutex = true;\r\n      const { user } = this.props;\r\n      try {\r\n        if (user.user) {\r\n          await user.updateOauth(_provider, _code);\r\n          this.props.history.replace('/account');\r\n        }\r\n        else {\r\n          if(!await user.oAuth(_provider, _code)) {\r\n            user.showMsg('Unauthorized');\r\n          }\r\n          this.props.history.replace(config.home);\r\n        }\r\n      }\r\n      catch (error) {\r\n        this.props.user.showError(error);\r\n        this.props.history.replace('/login');\r\n      }\r\n      _mutex = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n\r\n    if (!_provider) return <Redirect to={{ pathname: config.home }} />;\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar} src={config.logo} />\r\n          <div className={classes.loader}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              {translate('loading')}\r\n            </Typography>\r\n          </div>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nOAuthComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser, withStore, withLocalization)(OAuthComponent);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 100\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' + props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl} \r\n      fullWidth={props.fullWidth} \r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        type={props.type === 'new-password' ? 'password' : props.type}\r\n        id={props.field} \r\n        value={props.value || ''} \r\n        onChange={(e) => props.onChange(props.field, e.target.value)} \r\n        placeholder={props.placeholder}\r\n        autoComplete={props.type === 'new-password' ? 'new-password' : null}\r\n        disabled={props.disabled}\r\n        multiline={props.multiline}\r\n        rows={props.rows}\r\n        startAdornment={props.startAdornment}\r\n        inputProps={{\r\n          onBlur: props.onBlur\r\n        }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { withLocalization } from './localization';\r\nimport classNames from 'classnames';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n    minWidth: 120\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes, data, textField, required, value, onChange, field, multiple } = props;\r\n  if(required && (value === null || value === undefined || value === '') && data && data.length > 0) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find(x => x._id === selected);\r\n    return value ? value[textField] : null\r\n  }\r\n\r\n  const renderValue = selected => {\r\n    if(!multiple) {\r\n      return getText(selected);\r\n    }\r\n    \r\n    return selected.map(s => getText(s)).join(' | ');\r\n  }\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(classes.formControl, props.className)}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n    >\r\n      {label &&\r\n        <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      }\r\n      <Select\r\n        value={props.value !== null ? props.value : ''}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n      >\r\n        {(!props.required && !multiple) && \r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        }\r\n        {data.map(x => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple &&\r\n              <Checkbox checked={value.find(d => d === x._id) !== undefined} />\r\n            }\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 80\r\n  },\r\n});\r\n\r\nfunction NumInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl}\r\n      required={props.required}\r\n      fullWidth={props.fullWidth} \r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        id={props.field} \r\n        value={props.value ? props.value.toString() : '0'} \r\n        onChange={(e) => props.onChange(props.field, Number(e.target.value))} \r\n        type=\"number\" \r\n        disabled={props.disabled}\r\n        inputProps={{\r\n          min: props.min,\r\n          max: props.max,\r\n          step: props.step || \"any\"\r\n        }}       \r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nNumInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.number,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  min: PropTypes.number,\r\n  max: PropTypes.number,\r\n  step: PropTypes.number,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  fullWidth: PropTypes.bool,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(NumInputComponent));","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  enumTypeId: 1,\n  disabled: false,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addEnum,\n      refreshEnums,\n      editEnum\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editEnum(this.state);\n      } else {\n        await addEnum(this.state);\n      }\n      refreshEnums();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, enumTypeId, key } = this.state;\n    const { enumTypes } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={enumTypeId}\n          field=\"enumTypeId\"\n          onChange={this.handleChange}\n          data={enumTypes.data}\n          textField=\"name\"\n          required\n          disabled={disabled}\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nclass EnhancedTableHead extends React.Component {\r\n  createSortHandler = property => event => {\r\n    this.props.onRequestSort(event, property);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onSelectAllClick,\r\n      sort,\r\n      numSelected,\r\n      rowCount,\r\n      rows,\r\n      sortable,\r\n      translate\r\n    } = this.props;\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n            />\r\n          </TableCell>\r\n          {rows.map(row => {\r\n            const label = row.label || translate(`field.${row.idField || row.field}`)\r\n\r\n            return (\r\n              <TableCell\r\n                key={row.field}\r\n                align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                padding={row.disablePadding ? \"none\" : \"default\"}\r\n                sortDirection={sort.field === row.field ? sort.dir : false}\r\n              >\r\n                {sortable === false || row.sortable === false ? (\r\n                  label\r\n                ) : (\r\n                  <Tooltip\r\n                    title={translate(\"table.sort\")}\r\n                    placement={\r\n                      row.type === \"num\" ? \"bottom-end\" : \"bottom-start\"\r\n                    }\r\n                    enterDelay={300}\r\n                  >\r\n                    <TableSortLabel\r\n                      active={sort.field === row.field}\r\n                      direction={sort.dir}\r\n                      onClick={this.createSortHandler(row.field)}\r\n                    >\r\n                      {label}\r\n                    </TableSortLabel>\r\n                  </Tooltip>\r\n                )}\r\n              </TableCell>\r\n            );\r\n          }, this)}\r\n          <TableCell padding=\"none\"></TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  sort: PropTypes.object.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  sortable: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(EnhancedTableHead);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { withLocalization } from '../localization';\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  spacer: {\n    flex: '1 1 auto',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n});\n\nlet EnhancedTableToolbar = props => {\n  const { numSelected, classes, onDelete, onFilter, title, onExport, isFilterSet, actions, onRefresh, exportDisabled, translate } = props;\n\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\" variant=\"subtitle1\">\n            {numSelected} {translate('table.selected')}\n          </Typography>\n        ) : (\n            <Typography variant=\"h6\" id=\"tableTitle\">\n              {title}\n            </Typography>\n          )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {actions}\n        {numSelected > 0 ? (\n          <Tooltip title={translate('table.delete')}>\n            <IconButton aria-label={translate('table.delete')} onClick={onDelete}>\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        ) : (\n            <Tooltip title={translate('table.filter')}>\n              <IconButton aria-label={translate('table.filter')} color={isFilterSet ? \"primary\" : \"default\"} onClick={onFilter}>\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n          )}\n        <Tooltip title={translate('table.export')}>\n          <IconButton aria-label={translate('table.export')} onClick={onExport} disabled={exportDisabled}>\n            <CloudDownloadIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title={translate('table.refresh')}>\n          <IconButton aria-label={translate('table.refresh')} onClick={onRefresh}>\n            <RefreshIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onFilter: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  onExport: PropTypes.func.isRequired,\n  isFilterSet: PropTypes.bool.isRequired,\n  actions: PropTypes.element,\n  exportDisabled: PropTypes.bool\n};\n\nexport default withLocalization(withStyles(toolbarStyles)(EnhancedTableToolbar));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withLocalization } from './localization';\n\nfunction AlertDialog(props) {\n  return (\n    <Dialog\n      open={props.isOpen}\n      onClose={props.onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {props.description}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.onClose} color=\"primary\">\n          {props.translate('dialog.cancel')}\n        </Button>\n        <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n          {props.translate('dialog.ok')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nAlertDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired\n}\n\nexport default withLocalization(AlertDialog);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { DatePicker } from \"material-ui-pickers\";\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 160\r\n  },\r\n});\r\n\r\nconst getMaskAndFormat = (locale) => {\r\n  switch(locale) {\r\n    case 'sk-SK': {\r\n      return {\r\n        format: \"DD.M.YYYY\",\r\n        mask:  [/\\d/, /\\d/, \".\", /\\d/, \".\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  \r\n    case 'en-US':\r\n    default: {\r\n      return {\r\n        format: \"MM/DD/YYYY\",\r\n        mask:  [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction DatePickerComponent(props) {\r\n  const { classes } = props;\r\n  const { format, mask } = getMaskAndFormat(props.locale);\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n  return (\r\n    <DatePicker\r\n      className={classes.formControl}\r\n      keyboard\r\n      label={label}\r\n      format={format}\r\n      clearable={!props.required}\r\n      mask={value =>\r\n        // handle clearing outside if value can be changed outside of the component\r\n        value ? mask : []\r\n      }\r\n      value={props.value || null}\r\n      onChange={(value) => props.onChange(props.field, value ? value.toDate() : null)}\r\n      disableOpenOnEnter\r\n      animateYearScrolling={false}\r\n      style={{flex: 1, display: 'flex'}}\r\n      disabled={props.disabled}\r\n      okLabel={props.translate('dialog.ok')}\r\n      cancelLabel={props.translate('dialog.cancel')}\r\n    />\r\n  );\r\n}\r\n\r\nDatePickerComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.instanceOf(Date),\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(DatePickerComponent));","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DatePicker from \"../shared/DatePicker\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextInput from \"./TextInput\";\r\nimport Select from \"./Select\";\r\nimport moment from \"moment\";\r\n\r\nexport const buildFilters = (rows, f, state) => {\r\n  const filters = [];\r\n\r\n  if (state) {\r\n    let value, field;\r\n\r\n    f.forEach((x) => {\r\n      field = x.field;\r\n      value = state[field];\r\n      if (value) {\r\n        filters.push(...x.data.find((y) => y._id === value).filters);\r\n      }\r\n    });\r\n\r\n    rows.forEach((x) => {\r\n      switch (x.type) {\r\n        case \"num\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"eq\", value });\r\n          }\r\n          break;\r\n\r\n        case \"bool\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"eq\",\r\n              value: value === 1 ? true : false,\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"date\":\r\n        case \"datetime\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"lte\",\r\n              value: moment(value).endOf(\"day\").toDate(),\r\n            });\r\n            filters.push({\r\n              field,\r\n              op: \"gte\",\r\n              value: moment(value).startOf(\"day\").toDate(),\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"enum\":\r\n        case \"array\":\r\n          field = x.idField;\r\n          value = state[field];\r\n          if (value && value.length > 0) {\r\n            filters.push({ field, op: \"in\", value });\r\n          }\r\n          break;\r\n\r\n        default:\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"regex\", value });\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  return filters;\r\n};\r\n\r\nclass FilterDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.defaultState || {};\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleClear = () => {\r\n    const state = {};\r\n    this.props.filters.forEach((x) => {\r\n      state[x.field] = null;\r\n    });\r\n\r\n    this.props.rows.forEach((x) => {\r\n      const field =\r\n        x.type === \"enum\" || x.type === \"array\" ? x.idField : x.field;\r\n      state[field] = null;\r\n    });\r\n    this.props.onConfirm(null);\r\n    this.setState(state);\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    this.props.onConfirm(this.state);\r\n  };\r\n\r\n  buildFilter = (x) => {\r\n    if (x.filterable === false) {\r\n      return null;\r\n    }\r\n\r\n    switch (x.type) {\r\n      case \"enum\":\r\n      case \"array\":\r\n        const textField = x.textField || x.field.split(\".\").pop();\r\n        const data = this.props.store[x.data].data;\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.idField] || []}\r\n            field={x.idField}\r\n            onChange={this.handleChange}\r\n            data={x.getData ? x.getData(data) : data}\r\n            textField={textField}\r\n            multiple\r\n          />\r\n        );\r\n      case \"bool\":\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            data={[\r\n              { _id: 1, name: \"T\" },\r\n              { _id: -1, name: \"F\" },\r\n            ]}\r\n            textField={\"name\"}\r\n          />\r\n        );\r\n      case \"date\":\r\n      case \"datetime\":\r\n        return (\r\n          <DatePicker\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n      case \"num\":\r\n        return (\r\n          <NumInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            min={0}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <TextInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const props = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open={props.isOpen}\r\n        onClose={props.onClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Filters</DialogTitle>\r\n        {this.props.filters.map((f) => (\r\n          <Select\r\n            value={this.state[f.field]}\r\n            field={f.field}\r\n            label={f.label}\r\n            onChange={this.handleChange}\r\n            data={f.data}\r\n            textField=\"name\"\r\n          />\r\n        ))}\r\n        {props.rows.map((x) => this.buildFilter(x))}\r\n        <DialogActions>\r\n          <Button onClick={this.handleClear} color=\"primary\">\r\n            Clear\r\n          </Button>\r\n          <Button onClick={this.handleSubmit} color=\"primary\" autoFocus>\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nFilterDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onConfirm: PropTypes.func.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  filters: PropTypes.array.isRequired,\r\n  defaultState: PropTypes.object,\r\n};\r\n\r\nexport default FilterDialog;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AlertDialog from \"./AlertDialog\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nclass ActionsMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    isOpenDelete: false,\r\n  };\r\n\r\n  handleOpenMenu = (event) => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleCloseMenu = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  };\r\n\r\n  handleOpenClone = () => {\r\n    this.setState({ isOpenDelete: true, anchorEl: null });\r\n  };\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true, anchorEl: null });\r\n  };\r\n\r\n  onDelete = () => {\r\n    this.props.onDelete();\r\n    this.handleCloseDelete();\r\n  };\r\n\r\n  onEdit = () => {\r\n    this.props.onEdit();\r\n    this.handleCloseMenu();\r\n  };\r\n\r\n  onClone = () => {\r\n    this.props.onClone();\r\n    this.handleCloseMenu();\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl, isOpenDelete } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          aria-owns={anchorEl ? \"actions-menu\" : undefined}\r\n          aria-haspopup=\"true\"\r\n          edge=\"end\"\r\n          aria-label=\"actions\"\r\n          onClick={this.handleOpenMenu}\r\n          disabled={this.props.disabled}\r\n        >\r\n          <MoreIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"actions-menu\"\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={this.handleCloseMenu}\r\n        >\r\n          <MenuItem onClick={this.onEdit}>{translate(\"table.edit\")}</MenuItem>\r\n          {this.props.onClone && (\r\n            <MenuItem onClick={this.onClone}>\r\n              {translate(\"table.clone\")}\r\n            </MenuItem>\r\n          )}\r\n          <MenuItem onClick={this.handleOpenDelete}>\r\n            {translate(\"table.delete\")}\r\n          </MenuItem>\r\n        </Menu>\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDelete}\r\n          title={translate(\"table.delete\")}\r\n          description={translate(\"table.sure\")}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nActionsMenu.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n  onClone: PropTypes.func,\r\n};\r\n\r\nexport default withLocalization(ActionsMenu);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  progress: {\n    backgroundColor: 'white',\n    opacity: 0.8,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    zIndex: 1800,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nfunction Progress(props) {\n  const { classes, isLoading } = props;\n\n  if(isLoading) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress />\n      </div>\n    );\n  }\n  else {\n    return null;\n  }\n}\n\nProgress.propTypes = {\n  isLoading: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles)(Progress);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport EnhancedTableHead from \"./TableHead\";\r\nimport EnhancedTableToolbar from \"./TableToolbar\";\r\nimport AlertDialog from \"../AlertDialog\";\r\nimport FilterDialog, { buildFilters } from \"../FilterDialog\";\r\nimport ActionsMenu from \"../ActionsMenu\";\r\nimport Progress from \"../Progress\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport _ from \"lodash\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  table: {\r\n    // minWidth: 1020,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: \"auto\",\r\n    position: \"relative\",\r\n  },\r\n});\r\n\r\nlet _headers = [];\r\nclass EnhancedTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: [],\r\n      page: 0,\r\n      rowsPerPage: 5,\r\n      filters: buildFilters(props.rows, props.filters, props.defaultFilters),\r\n      sort: props.defaultSort || { field: \"_id\", dir: \"asc\" },\r\n      isOpenDelete: false,\r\n      isOpenFilter: false,\r\n      filter: null,\r\n      exported: [],\r\n    };\r\n\r\n    this.exportRef = React.createRef();\r\n  }\r\n\r\n  handleRequestSort = (event, property) => {\r\n    const field = property;\r\n    let dir = \"desc\";\r\n\r\n    if (this.state.sort.field === property && this.state.sort.dir === \"desc\") {\r\n      dir = \"asc\";\r\n    }\r\n\r\n    const sort = { field, dir };\r\n    const { filters, page, rowsPerPage } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ sort });\r\n  };\r\n\r\n  handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const data = this.props.store[this.props.data].data;\r\n      this.setState((state) => ({\r\n        selected: data\r\n          .filter((n) => this.props.isDisabled(n) === false)\r\n          .map((n) => n._id),\r\n      }));\r\n      return;\r\n    }\r\n    this.setState({ selected: [] });\r\n  };\r\n\r\n  handleClick = (id) => {\r\n    const { selected } = this.state;\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    this.setState({ selected: newSelected });\r\n  };\r\n\r\n  handleChangePage = (event, page) => {\r\n    const { filters, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = (event) => {\r\n    const rowsPerPage = event.target.value;\r\n    const { filters, page, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ rowsPerPage });\r\n  };\r\n\r\n  isSelected = (id) => this.state.selected.indexOf(id) !== -1;\r\n\r\n  onChange = (filters, page, rowsPerPage, sort) => {\r\n    this.props.onChange(\r\n      filters,\r\n      { limit: rowsPerPage, skip: rowsPerPage * page },\r\n      sort,\r\n      true\r\n    );\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  };\r\n\r\n  handleOpenFilter = () => {\r\n    this.setState({ isOpenFilter: true });\r\n  };\r\n\r\n  handleCloseFilter = () => {\r\n    this.setState({ isOpenFilter: false });\r\n  };\r\n\r\n  handleConfirmFilter = (state) => {\r\n    const filters = buildFilters(this.props.rows, this.props.filters, state);\r\n    const page = 0;\r\n    const { rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ filters, page, isOpenFilter: false });\r\n  };\r\n\r\n  onDeleteMultiple = async () => {\r\n    const { selected, filters, page, rowsPerPage, sort } = this.state;\r\n    await Promise.all(selected.map((id) => this.props.onDelete(id)));\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ selected: [] });\r\n    this.handleCloseDelete();\r\n  };\r\n\r\n  strToDate = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleDateString(this.props.locale);\r\n  };\r\n\r\n  strToDateTime = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleString(this.props.locale, {\r\n      hour12: false,\r\n      year: \"numeric\",\r\n      month: \"numeric\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  getValue = (n, row) => {\r\n    const value = _.get(n, row.field);\r\n    if (row.cell) {\r\n      return row.cell(n);\r\n    }\r\n\r\n    switch (row.type) {\r\n      case \"date\":\r\n        return this.strToDate(value);\r\n      case \"datetime\":\r\n        return this.strToDateTime(value);\r\n      case \"bool\":\r\n        return value ? \"T\" : \"F\";\r\n      case \"array\":\r\n        return value.map((s) => s[row.textField]).join(\" | \");\r\n      default:\r\n        return value;\r\n    }\r\n  };\r\n\r\n  onDeleteSingle = async (id) => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    await this.props.onDelete(id);\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  };\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  };\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true });\r\n  };\r\n\r\n  onExport = async () => {\r\n    const { filters, sort } = this.state;\r\n    _headers = [];\r\n    this.props.rows.forEach((x) => {\r\n      if (x.exportable !== false) {\r\n        const field = x.idField || x.field;\r\n        _headers.push({\r\n          label: this.props.translate(\"field.\" + field),\r\n          key: x.field,\r\n        });\r\n      }\r\n    });\r\n    const exported = await this.props.onChange(filters, undefined, sort, false);\r\n    if (exported) {\r\n      this.setState({ exported: exported.data });\r\n      this.exportRef.current.link.click();\r\n    }\r\n  };\r\n\r\n  handleRefresh = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort, true);\r\n  };\r\n\r\n  render() {\r\n    const { classes, rows, sortable, title, translate } = this.props;\r\n    const {\r\n      selected,\r\n      rowsPerPage,\r\n      page,\r\n      sort,\r\n      isOpenDelete,\r\n      isOpenFilter,\r\n    } = this.state;\r\n    const data = this.props.store[this.props.data];\r\n    const emptyRows =\r\n      rowsPerPage - Math.min(rowsPerPage, data.total - page * rowsPerPage);\r\n\r\n    return (\r\n      <Paper className={classes.root}>\r\n        <EnhancedTableToolbar\r\n          numSelected={selected.length}\r\n          onDelete={this.handleOpenDelete}\r\n          onExport={this.onExport}\r\n          onFilter={this.handleOpenFilter}\r\n          title={title}\r\n          isFilterSet={this.state.filters.length > 0}\r\n          actions={this.props.actions}\r\n          onRefresh={this.handleRefresh}\r\n          exportDisabled={!this.props.filename}\r\n        />\r\n        <div className={classes.tableWrapper}>\r\n          <Progress isLoading={data.isLoading} />\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              numSelected={selected.length}\r\n              sort={sort}\r\n              onSelectAllClick={this.handleSelectAllClick}\r\n              onRequestSort={this.handleRequestSort}\r\n              rowCount={data.total}\r\n              rows={rows}\r\n              sortable={sortable}\r\n            />\r\n            <TableBody>\r\n              {data.data.map((n) => {\r\n                const isSelected = this.isSelected(n._id);\r\n                const disabled = this.props.isDisabled(n);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    // onClick={event => this.handleClick(n._id)}\r\n                    role=\"checkbox\"\r\n                    aria-checked={isSelected}\r\n                    tabIndex={-1}\r\n                    key={n._id}\r\n                    selected={isSelected}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                      <Checkbox\r\n                        checked={isSelected}\r\n                        onClick={(event) => this.handleClick(n._id)}\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    {rows.map((row) => (\r\n                      <TableCell\r\n                        key={row.field}\r\n                        align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                        padding={row.disablePadding ? \"none\" : \"default\"}\r\n                      >\r\n                        {this.getValue(n, row)}\r\n                      </TableCell>\r\n                    ))}\r\n                    <TableCell>\r\n                      <ActionsMenu\r\n                        onDelete={() => this.onDeleteSingle(n._id)}\r\n                        onEdit={() => this.props.onEdit(n)}\r\n                        onClone={\r\n                          this.props.onClone\r\n                            ? () => this.props.onClone(n)\r\n                            : undefined\r\n                        }\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 49 * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          labelRowsPerPage={translate(\"table.rowsPerPage\")}\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            `${from}-${to} ${translate(\"table.of\")} ${count}`\r\n          }\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={data.total}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            \"aria-label\": translate(\"table.previousPage\"),\r\n          }}\r\n          nextIconButtonProps={{\r\n            \"aria-label\": translate(\"table.nextPage\"),\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDeleteMultiple}\r\n          title={translate(\"table.delete\")}\r\n          description={translate(\"table.sure\")}\r\n        />\r\n        <FilterDialog\r\n          isOpen={isOpenFilter}\r\n          onClose={this.handleCloseFilter}\r\n          onConfirm={this.handleConfirmFilter}\r\n          store={this.props.store}\r\n          rows={this.props.rows}\r\n          filters={this.props.filters}\r\n          defaultState={this.props.defaultFilters}\r\n        />\r\n        <CSVLink\r\n          data={this.state.exported}\r\n          headers={_headers}\r\n          filename={this.props.filename + \".csv\"}\r\n          style={{ display: \"none\" }}\r\n          ref={this.exportRef}\r\n          target=\"_blank\"\r\n        />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTable.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  data: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  sortable: PropTypes.bool,\r\n  onDelete: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  onClone: PropTypes.func,\r\n  filters: PropTypes.array,\r\n  isDisabled: PropTypes.func.isRequired,\r\n  filename: PropTypes.string,\r\n  actions: PropTypes.element,\r\n  defaultState: PropTypes.object,\r\n  defaultSort: PropTypes.object,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(EnhancedTable));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing.unit,\r\n    width: 160,\r\n  },\r\n});\r\n\r\nfunction FormDialog(props) {\r\n  return (\r\n    <Dialog\r\n      onClose={props.onClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={props.isOpen}\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\r\n      {props.children}\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(FormDialog);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: '_enumType.name', type: 'enum', data: 'enumTypes', idField: \"enumTypeId\", sortable: false },\r\n  { field: 'key', type: 'num' },\r\n  { field: 'disabled', type: 'bool' },\r\n];\r\n\r\nconst FILTERS = [\r\n  {\r\n    label: 'Sub', field: 'sub', data: [\r\n      { _id: 1, name: \"shop attrs\", filters: [{ field: 'enumTypeId', op: 'gt', value: 200}, { field: 'enumTypeId', op: 'lt', value: 300 }] },\r\n    ]\r\n  }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getEnums(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteEnum } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='enums'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteEnum}\r\n          title={translate('enums')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={FILTERS}\r\n          isDisabled={this.isDisabled}\r\n          filename='enums'\r\n        />\r\n        <FormDialog\r\n          title={translate('enum')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport NumInput from \"../shared/NumInput\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  content: \"\",\r\n  key: 0,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addTemplate, refreshTemplates, editTemplate } = this.props.store;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editTemplate(this.state);\r\n      } else {\r\n        await addTemplate(this.state);\r\n      }\r\n\r\n      refreshTemplates();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name, content, key } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={content}\r\n            field=\"content\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <NumInput\r\n          value={key}\r\n          field=\"key\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          step={1}\r\n          required\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [{ field: \"name\", disablePadding: true }, { field: \"content\" }, { field: 'key', type: 'num' }];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getTemplates(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteTemplate } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"templates\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteTemplate}\r\n          title={translate(\"templates\")}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"templates\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"template\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStore, withUser, withLocalization)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport MaskedInput from \"react-text-mask\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 40,\r\n  },\r\n});\r\n\r\nfunction Mask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={inputRef}\r\n      mask={[/\\d/, /\\d/, \":\", /\\d/, /\\d/]}\r\n      placeholderChar={\"\\u2000\"}\r\n      showMask\r\n    />\r\n  );\r\n}\r\n\r\nMask.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TimeInput(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl className={classes.formControl}>\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input\r\n        value={props.value}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        inputComponent={Mask}\r\n        placeholder={props.placeholder}\r\n        disabled={props.disabled}\r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTimeInput.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TimeInput));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nconst styles = (theme) => ({});\r\n\r\nfunction IconButtonComponent(props) {\r\n  const { color, onClick, tooltip, disabled, className } = props;\r\n  return (\r\n    <Tooltip title={tooltip}>\r\n      <IconButton\r\n        color={color}\r\n        onClick={onClick}\r\n        aria-label={tooltip}\r\n        disabled={disabled}\r\n        className={className}\r\n      >\r\n        {props.children}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nIconButtonComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  color: PropTypes.string,\r\n  tooltip: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\r\n    .isRequired,\r\n  disabled: PropTypes.bool,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(IconButtonComponent);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { getStyles } from \"./style\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport IconButton from \"./IconButton\";\r\nimport withUtils from \"./utils/withUtils\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getStyles(theme),\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nclass ImageAvatars extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.inputRef = React.createRef();\r\n    this.filePath = \"\";\r\n  }\r\n\r\n  onChange = async (event) => {\r\n    event.preventDefault();\r\n\r\n    let file = event.target.files[0];\r\n    this.filePath = URL.createObjectURL(file);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n\r\n    if (this.props.mimeType === \"image/jpeg\") {\r\n      var urlCreator = window.URL || window.webkitURL;\r\n      var src = urlCreator.createObjectURL(file);\r\n      file = await this.props.utils.resize(src, this.props.height, file.name);\r\n    }\r\n\r\n    this.props.onChange(this.props.field, file);\r\n  };\r\n\r\n  onClick = () => {\r\n    if (!this.props.disabled) {\r\n      this.inputRef.current.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, value, disabled, mimeType, field, translate } = this.props;\r\n    const label = this.props.label || translate(\"field.\" + field);\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          className={classes.button}\r\n          tooltip={<img src={this.filePath} alt=\"Attach file\" />}\r\n          color={value ? \"primary\" : \"default\"}\r\n          onClick={this.onClick}\r\n          disabled={disabled}\r\n        >\r\n          <AttachFileIcon />\r\n        </IconButton>\r\n        <InputLabel htmlFor={field}>{label}</InputLabel>\r\n        <input\r\n          ref={this.inputRef}\r\n          style={{ display: \"none\" }}\r\n          type=\"file\"\r\n          accept={mimeType}\r\n          onChange={this.onChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageAvatars.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  field: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  label: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  mimeType: PropTypes.string,\r\n};\r\n\r\nexport default withLocalization(withUtils(withStyles(styles)(ImageAvatars)));\r\n","import React from \"react\";\r\n\r\nconst DobyContext = React.createContext();\r\nexport default DobyContext;","import React from \"react\";\r\nimport DobyContext from \"../contexts/DobyContext\";\r\n\r\nconst withDoby = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <DobyContext.Consumer>\r\n        {doby =>\r\n          <WrappedComponent\r\n            {...props}\r\n            doby={doby}\r\n          />\r\n        }\r\n      </DobyContext.Consumer>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withDoby;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Switch from \"../shared/Switch\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport TimeInput from \"../shared/TimeInput\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport config from \"../../config.json\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  disabled: false,\r\n  description: \"\",\r\n  difficulty: 1,\r\n  elevation: null,\r\n  elevationGain: null,\r\n  distance: null,\r\n  time: \"01:00\",\r\n  _img: null,\r\n  _thumbnail: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addSummit, refreshSummits, editSummit } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editSummit(this.state);\r\n      } else {\r\n        await addSummit(this.state);\r\n      }\r\n\r\n      refreshSummits();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      name,\r\n      description,\r\n      difficulty,\r\n      elevation,\r\n      elevationGain,\r\n      distance,\r\n      time,\r\n      _img,\r\n      _thumbnail,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <NumInput\r\n          value={difficulty}\r\n          field=\"difficulty\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          required\r\n        />\r\n\r\n        <NumInput\r\n          value={elevation}\r\n          field=\"elevation\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={110}\r\n          required\r\n        />\r\n\r\n        <NumInput\r\n          value={elevationGain}\r\n          field=\"elevationGain\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={40}\r\n        />\r\n\r\n        <NumInput\r\n          value={distance}\r\n          field=\"distance\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={40}\r\n        />\r\n\r\n        <TimeInput\r\n          value={time}\r\n          field=\"time\"\r\n          onChange={this.handleChange}\r\n          disabled={disabled}\r\n        />\r\n\r\n        <Switch\r\n          label=\"\"\r\n          value={this.state.disabled}\r\n          field=\"disabled\"\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_img}\r\n          field=\"_img\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || this.state._id === \"\" || disabled}\r\n          height={config.imageSize}\r\n        />\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_thumbnail}\r\n          field=\"_thumbnail\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || this.state._id === \"\" || disabled}\r\n          height={config.thumbnailSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\nimport compose from \"../../compose\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  { field: \"elevation\" },\r\n  { field: \"elevationGain\" },\r\n  { field: \"distance\" },\r\n  { field: \"time\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getSummits(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteSummit } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"summits\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteSummit}\r\n          title={translate(\"summits\")}\r\n          onEdit={this.onEdit}\r\n          store={this.props.doby}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"summits\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"summit\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withDoby, withUser, withLocalization)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addSerie, refreshSeries, editSerie } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editSerie(this.state);\r\n      } else {\r\n        await addSerie(this.state);\r\n      }\r\n\r\n      refreshSeries();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name } = this.state;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(withStyles(styles), withDoby, withUser)(FormWrapper);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: '_id' }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getSeries(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteSerie } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='series'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteSerie}\r\n          title={translate('series')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.doby}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='series'\r\n        />\r\n        <FormDialog\r\n          title={translate('serie')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import * as React from 'react';\r\nimport ReactMarkdown from 'markdown-to-jsx';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nconst styles = (theme) => ({\r\n  listItem: {\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst options = {\r\n  overrides: {\r\n    h1: {\r\n      component: Typography,\r\n      props: {\r\n        gutterBottom: true,\r\n        variant: 'h4',\r\n      },\r\n    },\r\n    h2: {\r\n      component: Typography,\r\n      props: { gutterBottom: true, variant: 'h6' },\r\n    },\r\n    h3: {\r\n      component: Typography,\r\n      props: { gutterBottom: true, variant: 'subtitle1' },\r\n    },\r\n    h4: {\r\n      component: Typography,\r\n      props: {\r\n        gutterBottom: true,\r\n        variant: 'caption',\r\n        paragraph: true,\r\n      },\r\n    },\r\n    p: {\r\n      component: Typography,\r\n      props: { paragraph: true },\r\n    },\r\n    a: { component: Link },\r\n    li: {\r\n      component: withStyles(styles)((props) => {\r\n        const { classes, ...other } = props;\r\n        return (\r\n          <li className={classes.listItem}>\r\n            <Typography component=\"span\" {...other} />\r\n          </li>\r\n        );\r\n      }),\r\n    },\r\n  },\r\n};\r\n\r\nexport default function Markdown(props) {\r\n  return <ReactMarkdown options={options} {...props} />;\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactMde from \"react-mde\";\r\nimport Markdown from \"./Markdown\";\r\nimport withUtils from \"./utils/withUtils\";\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nconst URL = \"https://mailer.poprad.space\";\r\nfunction Editor(props) {\r\n  const save = async function* (data) {\r\n    var blob = new Blob([data], { type: \"image/jpeg\" });\r\n    var urlCreator = window.URL || window.webkitURL;\r\n    var src = urlCreator.createObjectURL(blob);\r\n    const d = await props.utils.resize(src, this.props.height, \"img.jpg\");\r\n\r\n    try {\r\n      const file = await props.utils.postFile(\r\n        URL,\r\n        d,\r\n        \"dGVzdDozPGdEdGc2PkQnOXR9XCFE\"\r\n      );\r\n      yield `${URL}/uploads/${file._id}`;\r\n      return true;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const [selectedTab, setSelectedTab] = React.useState(\"write\");\r\n  return (\r\n    <ReactMde\r\n      value={props.value}\r\n      onChange={(value) => props.onChange(props.field, value)}\r\n      selectedTab={selectedTab}\r\n      readOnly={props.disabled}\r\n      onTabChange={setSelectedTab}\r\n      generateMarkdownPreview={(content) =>\r\n        Promise.resolve(<Markdown>{content}</Markdown>)\r\n      }\r\n      paste={{\r\n        saveImage: save,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nEditor.propTypes = {\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withUtils(Editor);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Select from \"../shared/Select\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  enumTypeData: [],\r\n  enumType: \"\",\r\n  enumValueData: [],\r\n  enumValue: \"\",\r\n  disabled: false,\r\n};\r\n\r\nclass TechParamForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    if (name === \"enumType\") {\r\n      const { enums } = this.props.store;\r\n\r\n      const enumValueData = enums.data.filter((e) => e.enumTypeId === value);\r\n      this.setState({ enumValueData });\r\n    }\r\n\r\n    this.setState({ [name]: value }, this.callBack);\r\n  };\r\n\r\n  callBack = () => {\r\n    const { enumType, enumValue } = this.state;\r\n    if (enumType !== \"\" && enumValue !== \"\")\r\n      this.props.onChange(enumType, enumValue);\r\n  };\r\n\r\n  handleSubmit = async () => {};\r\n\r\n  handleDelete = () => {\r\n    this.props.onDelete(this.state.enumType, this.props.inOrder);\r\n    this.setState({ disabled: false });\r\n  };\r\n\r\n  render() {\r\n    const { classes, enumTypeData } = this.props;\r\n    const { enumType, enumValueData, enumValue, disabled } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={true}>\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={enumType}\r\n            field=\"enumType\"\r\n            onChange={this.handleChange}\r\n            data={enumTypeData}\r\n            textField=\"name\"\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={enumValue}\r\n            field=\"enumValue\"\r\n            onChange={this.handleChange}\r\n            data={enumValueData}\r\n            textField=\"name\"\r\n            fullWidth\r\n            required\r\n            disabled={enumValueData.length === 0 || disabled}\r\n          />\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"Clear\"\r\n          className={classes.margin}\r\n          onClick={this.handleDelete}\r\n        >\r\n          <ClearIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nTechParamForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onDelete: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  enumTypeData: PropTypes.array.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  inOrder: PropTypes.number,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(TechParamForm);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport Switch from \"../shared/Switch\";\r\nimport Editor from \"../shared/Editor\";\r\nimport Select from \"../shared/Select\";\r\nimport config from \"../../config.json\";\r\nimport TechParamForm from \"./TechParamForm\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  catalog_id: \"\",\r\n  ean: \"\",\r\n  short_description: \"\",\r\n  long_description: \"\",\r\n  price_without_tax: 0,\r\n  disabled: false,\r\n  main: false,\r\n  category: [],\r\n  productsRef: [],\r\n  _img: null,\r\n  _thumbnail: null,\r\n  tech_param: {},\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...(props.data || INIT_STATE), tech_param_forms: [] };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { tech_param, tech_param_forms } = this.state;\r\n\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const { getSubordinateProducts } = this.props.doby;\r\n\r\n      const filter = [\r\n        { field: \"enumTypeId\", op: \"gte\", value: 200 },\r\n        { field: \"enumTypeId\", op: \"lt\", value: 300 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n      await getSubordinateProducts();\r\n\r\n      if (!_.isEmpty(tech_param) && tech_param_forms.length === 0)\r\n        this.setTechParamForms(tech_param);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addProduct, refreshProducts, editProduct } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editProduct(this.state);\r\n      } else {\r\n        await addProduct(this.state);\r\n      }\r\n      refreshProducts();\r\n      this.setState({ ...INIT_STATE, tech_param_forms: [] });\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleChangeTechParamForm = (enumTypeId, enumValueID) => {\r\n    const { tech_param } = this.state;\r\n\r\n    this.setState({\r\n      tech_param: { ...tech_param, [enumTypeId]: enumValueID },\r\n    });\r\n  };\r\n\r\n  handleAddTechParam = (event) => {\r\n    event.preventDefault();\r\n    this.addTechParamForm();\r\n  };\r\n\r\n  removeTechParam = (enumTypeId, inOrder) => {\r\n    const { tech_param, tech_param_forms } = this.state;\r\n    delete tech_param[enumTypeId];\r\n\r\n    this.setState({\r\n      tech_param,\r\n      tech_param_forms: tech_param_forms.filter((p) => p.inOrder !== inOrder),\r\n    });\r\n  };\r\n\r\n  addTechParamForm = (enumTypeID = null, enumValueID = null) => {\r\n    const { tech_param_forms } = this.state;\r\n    const { enumTypes, enums } = this.props.store;\r\n\r\n    const enumTypesFiltered = enumTypes.data.filter(\r\n      (e) => e._id > 200 && e._id < 300\r\n    );\r\n\r\n    let data = null;\r\n    if (enumTypeID !== null) {\r\n      data = {\r\n        enumType: Number.parseInt(enumTypeID),\r\n        enumValueData: enums.data.filter(\r\n          (e) => e.enumTypeId === Number.parseInt(enumTypeID)\r\n        ),\r\n        enumValue: enumValueID,\r\n        disabled: true,\r\n      };\r\n    }\r\n\r\n    const inOrder = tech_param_forms.length;\r\n    this.setState({\r\n      tech_param_forms: [\r\n        ...tech_param_forms,\r\n        {\r\n          inOrder,\r\n          element: (\r\n            <TechParamForm\r\n              classes={this.props.classes}\r\n              onChange={this.handleChangeTechParamForm}\r\n              onDelete={this.removeTechParam}\r\n              enumTypeData={enumTypesFiltered}\r\n              inOrder={inOrder}\r\n              data={data}\r\n            />\r\n          ),\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  setTechParamForms = (tech_param) => {\r\n    const entries = Object.entries(tech_param);\r\n    for (const [enumTypeID, enumValueID] of entries)\r\n      this.addTechParamForm(enumTypeID, enumValueID);\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { enums, enumTypes } = this.props.store;\r\n    const { subordinateProducts } = this.props.doby;\r\n    const {\r\n      name,\r\n      price_without_tax,\r\n      category,\r\n      productsRef,\r\n      _img,\r\n      _thumbnail,\r\n      tech_param_forms,\r\n      catalog_id,\r\n      ean,\r\n      short_description,\r\n      long_description,\r\n    } = this.state;\r\n\r\n    const enumTypesFiltered = enumTypes.data.filter(\r\n      (e) => e._id > 200 && e._id < 300\r\n    );\r\n    const disabledAddTechParamForm =\r\n      tech_param_forms.length === enumTypesFiltered.length;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={short_description}\r\n            field=\"short_description\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={catalog_id}\r\n            field=\"catalog_id\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={ean}\r\n            field=\"ean\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <Select\r\n              value={category}\r\n              field=\"category\"\r\n              onChange={this.handleChange}\r\n              data={enums.data.filter((e) => e.enumTypeId === 200)}\r\n              textField=\"name\"\r\n              multiple\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <NumInput\r\n            value={price_without_tax}\r\n            field=\"price_without_tax\"\r\n            onChange={this.handleChange}\r\n            min={0}\r\n            required\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <Select\r\n              value={productsRef}\r\n              field=\"productsRef\"\r\n              onChange={this.handleChange}\r\n              data={subordinateProducts.data}\r\n              textField=\"name\"\r\n              multiple\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <Switch\r\n            label=\"Zruen\"\r\n            value={this.state.disabled}\r\n            field=\"disabled\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Switch\r\n            label=\"Na hlavnej strnke\"\r\n            value={this.state.main}\r\n            field=\"main\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_img}\r\n            field=\"_img\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.imageSize}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_thumbnail}\r\n            field=\"_thumbnail\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.thumbnailSize}\r\n          />\r\n        </Form>\r\n\r\n        <Editor\r\n          field=\"long_description\"\r\n          value={long_description}\r\n          onChange={this.handleChange}\r\n          height={config.imageSize}\r\n          disabled={disabled}\r\n        />\r\n\r\n        {tech_param_forms.map((p) => p.element)}\r\n\r\n        <Button\r\n          disabled={disabledAddTechParamForm}\r\n          onClick={this.handleAddTechParam}\r\n          className={classes.button}\r\n        >\r\n          + Prida technicky parameter\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"price_without_tax\", type: \"num\" },\r\n  { field: \"tax\", type: \"num\" },\r\n  { field: \"ean\" },\r\n  { field: \"price_with_tax\", type: \"num\" },\r\n  { field: \"disabled\", type: \"bool\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getProducts(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleClone = async (x) => {\r\n    this.setState({ x: { ...x, _id: \"\" }, isOpen: true });\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteProduct } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"products\"\r\n          onChange={this.handleChange}\r\n          onClone={this.handleClone}\r\n          onDelete={deleteProduct}\r\n          title={translate(\"products\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"products\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"product\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Select from \"../shared/Select\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport Editor from \"../shared/Editor\";\r\nimport config from \"../../config.json\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  title: \"\",\r\n  description: \"\",\r\n  typeRef: null,\r\n  content: \"\",\r\n  _img: null,\r\n  _thumbnail: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const filter = [\r\n        { field: \"enumTypeId\", value: 1 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChangeTypeRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addPost, refreshPosts, editPost } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editPost(this.state);\r\n      } else {\r\n        await addPost(this.state);\r\n      }\r\n\r\n      refreshPosts();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      title,\r\n      description,\r\n      typeRef,\r\n      content,\r\n      _img,\r\n      _thumbnail,\r\n    } = this.state;\r\n    const { enums } = this.props.store;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n          <TextInput\r\n            value={title}\r\n            field=\"title\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <TextInput\r\n              value={description}\r\n              field=\"description\"\r\n              onChange={this.handleChange}\r\n              required\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <Select\r\n            value={typeRef ? typeRef.id : null}\r\n            field=\"typeRef\"\r\n            onChange={this.handleChangeTypeRef}\r\n            data={enums.data}\r\n            textField=\"name\"\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_img}\r\n            field=\"_img\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.imageSize}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_thumbnail}\r\n            field=\"_thumbnail\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.thumbnailSize}\r\n          />\r\n        </Form>\r\n        <Editor\r\n          field=\"content\"\r\n          value={content}\r\n          onChange={this.handleChange}\r\n          height={config.imageSize}\r\n          disabled={disabled}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"title\", disablePadding: true },\r\n  { field: \"description\" },\r\n  {\r\n    field: \"type.name\",\r\n    type: \"enum\",\r\n    data: \"enums\",\r\n    idField: \"typeRef.id\",\r\n    sortable: false,\r\n  },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getPosts(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deletePost } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"posts\"\r\n          onChange={this.handleChange}\r\n          onDelete={deletePost}\r\n          title={translate(\"posts\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='posts'\r\n        />\r\n        <FormDialog\r\n          title={translate(\"post\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: 'email' },\r\n  { field: 'tel' },\r\n  { field: '_id' }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.user.getUsers(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='users'\r\n          onChange={this.handleChange}\r\n          title={translate('users')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.user}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='users'\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport Select from \"../shared/Select\";\r\nimport config from \"../../config.json\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  description: \"\",\r\n  typeRef: null,\r\n  key: 0,\r\n  _logo: \"\",\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const filter = [\r\n        { field: \"enumTypeId\", value: 3 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChangeTypeRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async (content) => {\r\n    const { addPartner, refreshPartners, editPartner } = this.props.doby;\r\n    const data = { ...this.state, content };\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editPartner(data);\r\n      } else {\r\n        await addPartner(data);\r\n      }\r\n\r\n      refreshPartners();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name, description, typeRef, key, _logo } = this.state;\r\n    const { enums } = this.props.store;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <TextInput\r\n          value={name}\r\n          field=\"name\"\r\n          onChange={this.handleChange}\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <Select\r\n          value={typeRef ? typeRef.id : null}\r\n          field=\"typeRef\"\r\n          onChange={this.handleChangeTypeRef}\r\n          data={enums.data}\r\n          textField=\"name\"\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <NumInput value={key} field=\"key\" onChange={this.handleChange} />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_logo}\r\n          field=\"_logo\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.logoSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  {\r\n    field: \"type.name\",\r\n    type: \"enum\",\r\n    data: \"enums\",\r\n    idField: \"typeRef.id\",\r\n    sortable: false,\r\n  },\r\n  { field: \"key\", type: \"num\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getPartners(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deletePartner } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"partners\"\r\n          onChange={this.handleChange}\r\n          onDelete={deletePartner}\r\n          title={translate(\"partners\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"partners\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"partner\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    button: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',        \r\n        whiteSpace: 'nowrap',        \r\n        userSelect: 'none',\r\n        fontSize: '14px',\r\n        lineHeight: '130%',\r\n        fontFamily: \"'IBM Plex Mono', monospace\",\r\n        letterSpacing: '0.5px',\r\n        padding: '0 20px',\r\n        height: '52px',       \r\n        background: theme.palette.primary.main,\r\n        color: '#ffffff',\r\n        fontWeight: '700',       \r\n        //borderRadius: '50px',\r\n        border: `2px solid ${theme.palette.primary.main}`,\r\n        textTransform: 'uppercase',\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.25s ease',\r\n        '&:hover': {\r\n            background: theme.palette.primary.dark,\r\n            borderColor: theme.palette.primary.dark,\r\n        }\r\n    },\r\n    btnFullwidth: {\r\n        display: 'block',\r\n        width: '100%',\r\n        maxWidth: '400px',\r\n    },\r\n    btnOutline: {\r\n         border: '1px solid #333442!important',\r\n         background: 'transparent!important',\r\n         color: '#333442!important',\r\n    },\r\n    //color variants\r\n    btnSecondary: {\r\n        background: theme.palette.primary.main,\r\n    },\r\n    //size\r\n    btnLarge: {\r\n        padding: '0 25px',\r\n        height: '52px',  \r\n        fontSize: '14px',     \r\n    },\r\n    btnSmall: {\r\n        padding: '0 15px',\r\n        height: '30px',  \r\n        fontSize: '11px',\r\n    },\r\n    btnDisabled: {\r\n        background: 'black'\r\n    }\r\n});\r\n\r\nfunction Button(props) {   \r\n    const { classes, fullwidth, disabled, outline, size, variant, minWidth} = props;\r\n   \r\n    return (\r\n        <>\r\n            <button \r\n                className={classNames(props.className, classes.button, disabled && classes.btnDisabled, fullwidth && classes.btnFullwidth, outline && classes.btnOutline, size === 'lg' && classes.btnLarge, size === 'sm' && classes.btnSmall, variant === 'secondary' && classes.btnSecondary)}\r\n                onClick={() => !disabled && props.onClick()}\r\n                style={{minWidth: minWidth ? minWidth+'px' : '0px'}}\r\n            >\r\n                {props.children}\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(Button);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from './form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        minWidth: 300,   \r\n    },   \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <div className={classNames(classes.card, classes.roundedMd, classes.p5, classes.cardShadow, props.className)}>\r\n            <div className={classNames()}>\r\n                <div className={classNames(classes.textMd, classes.fontBold)}>\r\n                    {props.title}\r\n                </div>\r\n                <div className={classNames(classes.textXs, classes.text200)}>\r\n                    {props.description}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.mt4, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                <Button \r\n                    fullwidth\r\n                    className={classNames(classes.mr1)}\r\n                    onClick={props.onClickMoreInfo}\r\n                >\r\n                   {props.translate('more_info')}\r\n                </Button>\r\n                <Button \r\n                    fullwidth\r\n                    className={classNames(classes.ml1)}\r\n                    onClick={props.onClickParticipate}\r\n                >\r\n                    {props.translate('participate')}\r\n                </Button>               \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string,\r\n    onClickMoreInfo: PropTypes.func,\r\n    onClickParticipate: PropTypes.func,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport classNames from 'classnames';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VizSensor from 'react-visibility-sensor';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n\r\n    root: {\r\n        justifyContent: 'center'\r\n    },\r\n    itemCard: {\r\n        boxShadow: 'none',\r\n        backgroundColor: 'transparent'\r\n    },\r\n    media: {\r\n        height: 140,\r\n        width: '100%',\r\n        backgroundColor: '#ededed',\r\n    },\r\n    price: {\r\n        fontWeight: 'bold',\r\n        float: 'left',\r\n        display: 'inline-block'\r\n    },\r\n    source: {\r\n        float: 'right',\r\n        display: 'inline-block'\r\n    },\r\n    membersOnlySpacer: {\r\n        height: 10,\r\n        width: '100%'\r\n    },\r\n    membersOnly: {\r\n        height: 25,\r\n        backgroundColor: '#4c4c4c',\r\n        width: '90%',\r\n        color: 'white',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        paddingLeft: 5\r\n    }\r\n});\r\n\r\nfunction ItemCard(props) {\r\n    const [img, setImg] = useState(null);\r\n    const onViz = async (isVisible) => {\r\n        try {\r\n            if(props.Id) {\r\n                const data = await props.onViz(props.Id);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    const { classes } = props;\r\n    return (\r\n        <VizSensor\r\n            partialVisibility\r\n            onChange={onViz}\r\n        >\r\n            <Card\r\n                className={classNames(classes.itemCard, classes.w100)}\r\n                onClick={props.onClick}\r\n            >\r\n                <CardActionArea>\r\n                    <CardMedia\r\n                        className={classes.media}\r\n                        image={img || '/img/logo.png'}\r\n                        title={props.name}\r\n                    >\r\n                        {props.membersOnly ? (\r\n                            <div className={styles.center}>\r\n                                <div className={classes.membersOnlySpacer}></div>\r\n                                <div className={classNames(classes.membersOnly, styles.center)}>Pre astnkov vzvy</div>\r\n                            </div>\r\n                        ) : null\r\n                        }\r\n                    </CardMedia>\r\n                    <CardContent className={classNames(classes.p0, classes.mt3)}>\r\n                        <Typography>{props.name}</Typography>\r\n                        <Typography component=\"p\" className={classes.price}>\r\n                            <small>{props.price}{props.curr}</small>\r\n                        </Typography>\r\n                        <Typography component=\"p\" className={classes.source}>\r\n                            {props.source}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n            </Card>\r\n        </VizSensor>\r\n    );\r\n}\r\n\r\nItemCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    curr: PropTypes.string.isRequired,\r\n    source: PropTypes.string.isRequired,\r\n    onViz: PropTypes.func.isRequired,\r\n    Id: PropTypes.string,\r\n    membersOnly: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(ItemCard);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\n\r\nimport Select from '../shared/Select';\r\nimport ChallengeCard from '../dobyComponents/ChallengeCard'\r\nimport ItemCard from './ItemCard';\r\nimport compose from '../../compose';\r\nimport config from '../../config.json';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nimport Flickity from \"react-flickity-component\";\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    challengeCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '0.5rem',           \r\n        }\r\n    },\r\n    challengeList: {\r\n        overflowX: 'auto',\r\n        overflowY: 'hidden',\r\n        position: 'relative',\r\n        '&::-webkit-scrollbar': {\r\n            display: 'none'\r\n        }\r\n    },\r\n    challengeListWrapper: {\r\n        display: 'flex',\r\n    },\r\n    itemFilterSelect: {\r\n        marginBottom: '20px'\r\n    }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nclass Eshop extends React.Component {   \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            itemFilterId: '1'\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();\r\n\r\n        const filter = [\r\n            { field: \"main\", value: true },\r\n        ];\r\n\r\n        await this.props.doby.getProducts(filter);\r\n    }\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({[name]: value});\r\n    }\r\n\r\n    joinChallenge = (challenge) => {\r\n        if(challenge._id) \r\n            this.props.history.push(`/challenge-checkout/${challenge._id}`);\r\n    }\r\n\r\n    showProductDetail = (product)=>  {\r\n        if(product.catalog_id.length > 0)\r\n            this.props.history.push(`/eshop/product/${product.catalog_id}`);\r\n    }\r\n\r\n    renderChallenges = () => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;\r\n        return challenges.data.map(challenge => {\r\n            const endDate = new Date(challenge.end);\r\n            return (\r\n                <div className={\"carousel-cell\"} key={challenge._id}>\r\n                    <ChallengeCard\r\n                        title={challenge.name}\r\n                        description={`${this.props.translate('register_to_date')} ${endDate.getDay()}.${endDate.getMonth() + 1}.`}\r\n                        onClickParticipate={()=> this.joinChallenge(challenge)}\r\n                        className={classNames(classes.mt2, classes.mb2, classes.mr3)}\r\n                    />\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.isLoading ? (\r\n            <div style={{flexGrow: 1}}>\r\n                <LinearProgress color=\"secondary\"/>\r\n            </div>) : products.data.map(product => {                \r\n            return (\r\n                <Grid item xs={6} sm={3} lg={2} key={product._id}>\r\n                    <ItemCard\r\n                        onClick={()=> this.showProductDetail(product)}\r\n                        name={product.name}\r\n                        price={product.price_with_tax}\r\n                        curr={config.currency}\r\n                        Id={product.thumbnailId}\r\n                        onViz={this.props.store.getFile}\r\n                        source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                        //membersOnly\r\n                    />\r\n                </Grid>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {        \r\n        const { classes } = this.props;\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Flickity\r\n                        className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                        options={flickityOptions}\r\n                        reloadOnUpdate={true}\r\n                    >\r\n                        { this.renderChallenges() }                    \r\n                    </Flickity>\r\n                </div>\r\n                {/* <div className={classNames(classes.challengeList, classes.mt4)}>\r\n                    <div className={classNames(classes.challengeListWrapper, classes.pt2, classes.pb2, classes.pl5)}>\r\n                        { this.renderChallenges() }\r\n                    </div>\r\n                </div> */}\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <Select\r\n                        className={classes.itemFilterSelect}\r\n                        value={this.state.itemFilterId}\r\n                        field=\"itemFilterId\"\r\n                        onChange={this.handleChange}\r\n                        data={[\r\n                            {name: this.props.translate('most_liked'), _id: '1'}, \r\n                            {name: this.props.translate('cheapest'), _id: '2'},\r\n                            {name: this.props.translate('most_expensive'), _id: '3'}\r\n                        ]}\r\n                        textField=\"name\"\r\n                        required\r\n                    />\r\n                    <Grid container spacing={24}>\r\n                        { this.renderProducts() }\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nEshop.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Eshop);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport classNames from \"classnames\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\n\r\nconst styles = (theme) => ({\r\n  selectInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  selectRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction SelectFieldComponent(props) {\r\n  const {\r\n    classes,\r\n    data,\r\n    textField,\r\n    required,\r\n    value,\r\n    onChange,\r\n    field,\r\n    multiple,\r\n  } = props;\r\n  if (\r\n    required &&\r\n    (value === null || value === undefined || value === \"\") &&\r\n    data &&\r\n    data.length > 0\r\n  ) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find((x) => x._id === selected);\r\n    return value ? value[textField] : null;\r\n  };\r\n\r\n  const renderValue = (selected) => {\r\n    if (!multiple) {\r\n      return getText(selected);\r\n    }\r\n\r\n    return selected.map((s) => getText(s)).join(\" | \");\r\n  };\r\n\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n      variant=\"filled\"\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      {label && (\r\n        <InputLabel\r\n          htmlFor={props.field}\r\n          className={classNames(classes.inputLabel)}\r\n        >\r\n          {label}\r\n        </InputLabel>\r\n      )}\r\n      <Select\r\n        value={props.value !== null ? props.value : \"\"}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n        input={<FilledInput name={props.field} id={props.field} />}\r\n        className={classes.selectInput}\r\n        classes={{ select: classes.selectRoot }}\r\n      >\r\n        {!props.required && !multiple && (\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        )}\r\n        {data.map((x) => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple && (\r\n              <Checkbox\r\n                checked={value.find((d) => d === x._id) !== undefined}\r\n              />\r\n            )}\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nSelectFieldComponent.propTypes = {\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  errorText: PropTypes.string,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(SelectFieldComponent));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from '../../../style';\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n  checkbox: {\r\n    color: `${theme.palette.secondary.main}!important`,\r\n    padding: 0,\r\n  },\r\n  checkboxLight: {\r\n    color: \"white!important\",\r\n  },\r\n  checkboxIcon: {\r\n    fontSize: \"24px\",\r\n  },\r\n  controlNoLabel: {\r\n    marginRight: \"0\",\r\n  },\r\n  formControlLabelRoot: {\r\n    marginLeft: '0',\r\n    marginRight: '0',\r\n  },\r\n  label: {\r\n      marginLeft: '5px',\r\n  }\r\n});\r\n\r\nfunction CheckboxFieldComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n  const noLabel = props.noLabel ? props.noLabel : false;\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          //value={props.value}\r\n          checked={props.value}\r\n          onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n          classes={{ root: classNames(classes.checkbox, props.light && classes.checkboxLight) }}\r\n          icon={\r\n            <CheckBoxOutlineBlankIcon\r\n              className={classNames(classes.checkboxIcon)}\r\n            />\r\n          }\r\n          checkedIcon={\r\n            <CheckBoxIcon className={classNames(classes.checkboxIcon)} />\r\n          }\r\n          disabled={props.disabled}\r\n        />\r\n      }\r\n      label={!noLabel && label}\r\n      classes={{ root: props.noLabel && classes.controlNoLabel, root: classes.formControlLabelRoot, label: classNames(classes.label, props.labelClasses) }}\r\n      className={classNames(props.className)}\r\n    />\r\n  );\r\n}\r\n\r\nCheckboxFieldComponent.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  field: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  value: PropTypes.string,\r\n  noLabel: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  labelClasses: PropTypes.string,\r\n  checkboxLight: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(CheckboxFieldComponent));\r\n","import config from  '../config.json';\r\n\r\nexport const formatPrice = (price) => (Math.round((price * 100) + Number.EPSILON) / 100).toFixed(2) + '\\xa0' + getCurrencySymbol(config.currency);\r\nexport const getCurrencySymbol = (currency) => {\r\n    switch(currency) {\r\n        case 'EUR': \r\n            return '';\r\n        case 'USD': \r\n            return '$';\r\n        default:\r\n            return '';\r\n    }\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport config from '../../../config.json'\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport TextField from '../../dobyComponents/form/TextField';\r\nimport SelectField from '../../dobyComponents/form/SelectField';\r\nimport Checkbox from '../../dobyComponents/form/CheckboxField';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n});\r\n\r\nclass DeliveryPayment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            invoiceErrorTexts: {\r\n                invoiceNameSurname: null,\r\n                invoiceCountry: null,\r\n                invoiceCity: null,\r\n                invoicePsc: null,\r\n                invoiceStreet: null, \r\n                invoiceStreetNumber: null\r\n            },\r\n            companyOrderErrorTexts: {\r\n                ico: null,\r\n                dic: null,\r\n                icdph: null,\r\n                bic: null,\r\n                iban: null,\r\n                accountOwner: null\r\n            },\r\n            commonErrorTexts: {\r\n                nameSurname: null,\r\n                email: null,\r\n                country: null,\r\n                city: null,\r\n                psc: null, \r\n                street: null,\r\n                streetNumber: null,\r\n                tel: null   \r\n            },\r\n            errorTexts: {},\r\n            isValid: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { getEnums } = this.props.store;\r\n        const filter = [\r\n            { field: \"enumTypeId\", value: 5 },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        await getEnums(filter);\r\n        await this.props.store.getTransports();\r\n        this.props.doby.cartGetProducts();\r\n        this.fillFromUser();\r\n    }\r\n\r\n    fillFromUser = () => {\r\n        const { user } = this.props.user;\r\n        if (!user) return;\r\n\r\n        //NOTE: prefill deliver order data from user profile\r\n        this.props.doby.deliveryOrderFill({\r\n            nameSurname: user.name,\r\n            country: user.country,\r\n            city: user.city,\r\n            email: user.email,\r\n            tel: user.tel,\r\n            psc: user.postCode\r\n        });\r\n\r\n        this.validateForm();\r\n    }\r\n\r\n    handleChangeCountry = async (field, value) => {\r\n        const filter = [\r\n            { field: \"countryId\", value },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        this.props.doby.deliveryOrderChanged(field, value);\r\n        await this.props.store.getTransports(filter);\r\n    }\r\n\r\n    validateForm = () => {\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n        let errorTexts = {};\r\n        \r\n        for(let key in this.state.commonErrorTexts) {\r\n            if(key === 'tel') {\r\n                errorTexts[key] = deliveryData[key].length <= 4 ? this.props.translate('required_field') : null \r\n                continue;\r\n            }\r\n\r\n            errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n        }\r\n\r\n        if(deliveryData.invoiceData) {\r\n            for(let key in this.state.invoiceErrorTexts) {\r\n                errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n            }\r\n        }\r\n\r\n        if(deliveryData.companyOrder) {\r\n            for(let key in this.state.companyOrderErrorTexts) {\r\n                errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n            }\r\n        }\r\n\r\n        const fieldsAreValid = Object.values(errorTexts).filter(v => v).length === 0;\r\n        const checkboxesAreChoosen = deliveryData.deliveryType && deliveryData.paymentMethod;\r\n        this.setState({errorTexts, isValid: fieldsAreValid && checkboxesAreChoosen});\r\n    }\r\n    \r\n    render() {\r\n        const { classes } = this.props;\r\n        const { enums } = this.props.store;\r\n        const { transports } = this.props.store;\r\n\r\n        const deliveryOrderChanged = async (field, value)  =>{\r\n            await this.props.doby.deliveryOrderChanged(field, value);\r\n            this.validateForm();\r\n        } \r\n\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n\r\n        return (\r\n            <form>\r\n                <div className={classNames(classes.container)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('delivery_details')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.nameSurname}\r\n                                field=\"nameSurname\"\r\n                                errorText={this.state.errorTexts.nameSurname}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.email}\r\n                                field=\"email\"\r\n                                errorText={this.state.errorTexts.email}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <SelectField\r\n                                onChange={this.handleChangeCountry}\r\n                                fullWidth\r\n                                required\r\n                                data={enums.data}\r\n                                value={deliveryData.country}\r\n                                field=\"country\"\r\n                                textField=\"name\"\r\n                                disabled={false}\r\n                                errorText={this.state.errorTexts.country}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.city}\r\n                                field=\"city\"\r\n                                errorText={this.state.errorTexts.city}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.psc}\r\n                                field=\"psc\"\r\n                                errorText={this.state.errorTexts.psc}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.street}\r\n                                field=\"street\"\r\n                                errorText={this.state.errorTexts.street}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.streetNumber}\r\n                                field=\"streetNumber\"\r\n                                errorText={this.state.errorTexts.streetNumber}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.tel}\r\n                                field=\"tel\"\r\n                                errorText={this.state.errorTexts.tel}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <Checkbox\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.invoiceData}\r\n                                field=\"invoiceData\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {deliveryData.invoiceData && <>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceNameSurname}\r\n                                    field=\"invoiceNameSurname\"\r\n                                    label={this.props.translate('field.nameSurname')}\r\n                                    errorText={this.state.errorTexts.invoiceNameSurname}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <SelectField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    data={enums.data}\r\n                                    value={deliveryData.invoiceCountry}\r\n                                    field=\"invoiceCountry\"\r\n                                    textField=\"name\"\r\n                                    label={this.props.translate('field.country')}\r\n                                    errorText={this.state.errorTexts.invoiceCountry}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceCity}\r\n                                    field=\"invoiceCity\"\r\n                                    label={this.props.translate('field.city')}\r\n                                    errorText={this.state.errorTexts.invoiceCity}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoicePsc}\r\n                                    field=\"invoicePsc\"\r\n                                    label={this.props.translate('field.psc')}\r\n                                    errorText={this.state.errorTexts.invoicePsc}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceStreet}\r\n                                    field=\"invoiceStreet\"\r\n                                    label={this.props.translate('field.street')}\r\n                                    errorText={this.state.errorTexts.invoiceStreet}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceStreetNumber}\r\n                                    field=\"invoiceStreetNumber\"\r\n                                    label={this.props.translate('field.streetNumber')}\r\n                                    errorText={this.state.errorTexts.invoiceStreetNumber}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n                        </>}\r\n\r\n                        <Grid item xs={12}>\r\n                            <Checkbox\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.companyOrder}\r\n                                field=\"companyOrder\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {deliveryData.companyOrder && <>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.ico}\r\n                                    field=\"ico\"\r\n                                    errorText={this.state.errorTexts.ico}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.dic}\r\n                                    field=\"dic\"\r\n                                    errorText={this.state.errorTexts.dic}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.icdph}\r\n                                    field=\"icdph\"\r\n                                    errorText={this.state.errorTexts.icdph}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.bic}\r\n                                    field=\"bic\"\r\n                                    errorText={this.state.errorTexts.bic}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.iban}\r\n                                    field=\"iban\"\r\n                                    errorText={this.state.errorTexts.iban}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.accountOwner}\r\n                                    field=\"accountOwner\"\r\n                                    errorText={this.state.errorTexts.accountOwner}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n                        </>}\r\n\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('delivery')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                {transports && transports.data.map(item => {\r\n                                    return (\r\n                                        <div\r\n                                            className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}\r\n                                            onClick={(e) => deliveryOrderChanged(\"deliveryType\", item._id)}\r\n                                        >\r\n                                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                <div>\r\n                                                    ikona\r\n                                                    </div>\r\n                                                <div className={classNames(classes.ml5, classes.textM)}>\r\n                                                    {item.name}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                <div className={classNames(classes.mr3, classes.fontBold)}>\r\n                                                    {formatPrice(item.price)} {getCurrencySymbol(config.currency)}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <Radio\r\n                                                        onChange={(e) => deliveryOrderChanged(\"deliveryType\", item._id)}\r\n                                                        value={item._id}\r\n                                                        checked={deliveryData.deliveryType === item._id}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('payment')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                {\r\n                                    deliveryData.paymentMethods.map(item => {\r\n                                        return (\r\n                                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)} onClick={(e) => deliveryOrderChanged(\"paymentMethod\", item.id)}>\r\n                                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                    <div>\r\n                                                        ikona\r\n                                                    </div>\r\n                                                    <div className={classNames(classes.ml5, classes.textM)}>\r\n                                                        {item.name}\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                    <div className={classNames(classes.mr3, classes.fontBold)}>\r\n                                                        {formatPrice(item.price)} {getCurrencySymbol(config.currency)}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <Radio\r\n                                                            onChange={(e) => deliveryOrderChanged(\"paymentMethod\", item.id)}\r\n                                                            value={item.id}\r\n                                                            checked={deliveryData.paymentMethod === item.id}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                onClick={() => { this.props.changeStep(4) }}\r\n                                className={classNames(classes.mb5, classes.mt4)}\r\n                                disabled={!this.state.isValid}\r\n                                fullwidth\r\n                            >\r\n                                {this.props.translate('continue')}\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </form>\r\n        );\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n)(DeliveryPayment);","import React, { useState }  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withDoby from '../../../consumers/withDoby';\r\nimport withUser from '../../../consumers/withUser';\r\nimport withStore from '../../../consumers/withStore';\r\nimport compose from '../../../compose';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport config from '../../../config.json';\r\n//import ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productThumbnail: {\r\n        width: '70px'\r\n    },\r\n    itemCountBtn: {\r\n        backgroundColor: '#ececec',\r\n        width: '24px',\r\n        height: '24px',\r\n        lineHeight: '21px',\r\n        textAlign: 'center',\r\n        fontSize: '19px',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer'\r\n    },\r\n    itemCount: {\r\n        width: '60px',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nfunction CheckouCartItem(props) {\r\n    const { classes } = props;\r\n    const renderVariants = () => {\r\n        return (\r\n            <div className={classNames(classes.textXs2)}>Variant</div>\r\n        );\r\n    }\r\n   \r\n    const [img, setImg] = useState(null);\r\n    const getImage = async () => {\r\n        try {\r\n            if(props.thumbnailId) {\r\n                const data = await props.store.getFile(props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    getImage();\r\n\r\n    return (         \r\n        <>\r\n            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}> \r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <img\r\n                            className={classes.productThumbnail} \r\n                            src={ img || ''} \r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames(classes.textXs)}>{props.productName}</div>\r\n                        <div>{renderVariants()}</div>\r\n                    </div>\r\n                </div>   \r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.fontBold)}>{formatPrice(props.priceWithTax * props.productCount)}</div>\r\n                    <div className={classNames(classes.textXs2, classes.textRight)}>{props.translate('with_tax')}</div> \r\n                </div>            \r\n            </div> \r\n            <hr className={classNames(classes.w100, classes.mt4, classes.mb4, classes.hrLine)}/>\r\n        </>         \r\n    );\r\n}\r\n\r\nCheckouCartItem.propTypes = {\r\n    productName: PropTypes.string.isRequired, \r\n    techParams: PropTypes.array, \r\n    priceWithTax: PropTypes.number.isRequired,\r\n    thumbnailId: PropTypes.string,\r\n    productId: PropTypes.string.isRequired,\r\n    productCount: PropTypes.number.isRequired,\r\n    countInStock: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization,\r\n    withStore\r\n)(CheckouCartItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport config from '../../../config.json'\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport TextField from '../../dobyComponents/form/TextField';\r\nimport Checkbox from '../../dobyComponents/form/CheckboxField';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CheckouCartItem from './CheckouCartItem';\r\n\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    starterPackDiscount: {\r\n        border: '1px solid #C8D2E1',\r\n        background: '#ECECEC',\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n    spacingBottom: {\r\n        paddingBottom: '190px'\r\n    }\r\n});\r\n\r\nclass CheckoutSummary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            starterPackDiscount: false,\r\n            discountCode: \"\",\r\n            standardPack: null,\r\n            standardPackProduct: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.doby.cartGetProducts();\r\n        this.fetchData();\r\n        this.checkStarterpack();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { getEnums } = this.props.store;\r\n        const filter = [\r\n            { field: \"enumTypeId\", value: 5 },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        await getEnums(filter);\r\n        await this.props.store.getTransports();\r\n    }\r\n\r\n    handleChange = async (field, value) => {\r\n        this.setState({\r\n            [field]: value\r\n        });\r\n\r\n        if (field === 'discountCode' && value.length === config.discountCodeLength) {\r\n            await this.props.doby.redeeemDiscountCode(value);\r\n        }\r\n    }\r\n\r\n    checkStarterpack = async () => {\r\n        const { cart } = this.props.doby;\r\n        \r\n        for(let item of cart.data.products) {\r\n            if(item.product.catalog_id === 'pack') {\r\n                const filter = [\r\n                    { field: \"_id\", value: item.product.productsRef.map(item=>item.id), op:'in' },\r\n                ];\r\n                let products = await this.props.doby.getProducts(filter);\r\n                for(let packProduct of products.data) {\r\n                    if(packProduct.catalog_id === 'coupon') {\r\n                        this.setState({standardPack: packProduct, standardPackProduct: item.product});\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    renderCartitems() {\r\n        const { cart } = this.props.doby;\r\n        return cart.data.products.map(item => {\r\n            const { product } = item;\r\n            return (\r\n                <CheckouCartItem\r\n                    key={product.id}\r\n                    productId={product.id}\r\n                    productName={product.name}\r\n                    priceWithTax={product.price_with_tax}\r\n                    thumbnailId={product.thumbnailId}\r\n                    productCount={item.count}\r\n                    countInStock={product.count}\r\n                //techParams={product.techParams}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    getTotalPrice = () => {\r\n        const { transports } = this.props.store;\r\n        const { coupon } = this.props.doby.checkout.data;\r\n        const { deliveryType } = this.props.doby.checkout.data.deliveryData;\r\n        const { products } = this.props.doby.cart.data;\r\n\r\n        let priceProducts = 0;\r\n        let pricePack = 0;\r\n        let price = 0;\r\n\r\n        for (const item of products) {\r\n            if(item.product.catalog_id === 'pack')\r\n                pricePack += item.product.price_with_tax;\r\n            else \r\n                priceProducts += (item.count * item.product.price_with_tax);\r\n        }\r\n\r\n        //NOTE: apply discounts, before adding price for delivery\r\n        if (coupon._id) {\r\n            //TODO: enums ?\r\n            if (coupon.discountType === 1) {\r\n                price = price * (100.0 - coupon.amount) / 100.0;\r\n            } else {\r\n                price -= coupon.amount;\r\n            }\r\n        }\r\n        let couponBalance = this.state.standardPack ? this.state.standardPack.price_with_tax : 0;\r\n        if(!this.state.starterPackDiscount) {\r\n            price = priceProducts + pricePack;\r\n        } else {\r\n            if(priceProducts < couponBalance) {\r\n                priceProducts = 0;\r\n                couponBalance -= priceProducts;\r\n            } else {\r\n                priceProducts = priceProducts - couponBalance;\r\n                couponBalance = 0;                \r\n            }\r\n            price = priceProducts + pricePack;\r\n\r\n         \r\n        }\r\n\r\n        //NOTE: add delivery price\r\n        const transport = transports.data.find(x => x._id === deliveryType);\r\n        if (transport) {\r\n            price += transport.price;\r\n        }\r\n\r\n        return formatPrice(price);\r\n    }\r\n\r\n    proceedCheckout = async () => {\r\n        const { cart } = this.props.doby;\r\n        const { deliveryData, coupon } = this.props.doby.checkout.data;\r\n\r\n        let items = [];\r\n        for (const product of cart.data.products) {\r\n            product.product.count = product.count;\r\n            if(this.state.standardPackProduct && product.product._id === this.state.standardPackProduct._id) {\r\n                items.push({...product.product, id: product.product._id, useCoupon: this.state.starterPackDiscount});\r\n                continue;\r\n            }\r\n            \r\n            items.push({...product.product, id: product.product._id});\r\n        }\r\n\r\n        //TODO: validation ( function ? )\r\n        const name = deliveryData.nameSurname.split(' ')[0];\r\n        const surname = deliveryData.nameSurname.split(' ')[1];\r\n        const country_obj = this.props.store.enums.data.find((x => x._id === deliveryData.country));\r\n        const id_delivery_obj = this.props.store.transports.data.find((x => x._id === deliveryData.deliveryType));\r\n\r\n        if (!country_obj || !id_delivery_obj)\r\n            return;\r\n\r\n        const destination_country_id = country_obj.key;\r\n        const id_delivery = id_delivery_obj.key;\r\n\r\n        const order = await this.props.doby.createOrder({\r\n            //--- \r\n            name,\r\n            surname,\r\n            phone: deliveryData.tel,\r\n            email: deliveryData.email,\r\n            street: deliveryData.street,\r\n            street_number: deliveryData.streetNumber,\r\n            postal_code: deliveryData.psc,\r\n            city: deliveryData.city,\r\n            country: deliveryData.country,\r\n            couponRef: { ...coupon, id: coupon._id},\r\n\r\n            //--- FA\r\n            fa_city: deliveryData.invoiceCity,\r\n            fa_company: '',\r\n            fa_country: deliveryData.invoiceCountry,\r\n            fa_postal_code: deliveryData.invoicePsc,\r\n            fa_street: deliveryData.invoiceStreet,\r\n            fa_street_number: deliveryData.invoiceStreet,\r\n            //---\r\n\r\n            id_delivery,\r\n            payment_method_id: deliveryData.paymentMethod,\r\n            items,\r\n            destination_country_id,\r\n            ru: config.stripe.redirect_url\r\n        });\r\n\r\n        if (order) {\r\n            const { payment_id } = order;\r\n            const stripe = await loadStripe(config.stripe.id);\r\n\r\n            const result = await stripe.redirectToCheckout({\r\n                sessionId: payment_id,\r\n            });\r\n\r\n            if (result.error) {\r\n                // If `redirectToCheckout` fails due to a browser or network\r\n                // error, display the localized error message to your customer\r\n                // using `result.error.message`.\r\n                console.error(result.error);\r\n            }\r\n        }\r\n        console.log(order);\r\n    }\r\n\r\n    renderDiscounts = () => {\r\n        const { classes } = this.props;\r\n        const { coupon } = this.props.doby.checkout.data;\r\n        const getDiscountByType = (type, amount) => type === 1 ? `-${amount}%` : `-${amount}${getCurrencySymbol(config.currency)}`;\r\n        return (\r\n            <>\r\n                { coupon._id &&\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.w100)}>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {this.props.translate('coupon_discount')}\r\n                        </div>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {getDiscountByType(coupon.discountType, coupon.amount)}\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderStarterpackDiscount = () => {\r\n        const { classes } = this.props;\r\n        \r\n        return ( this.state.standardPack && \r\n            <Grid item xs={12} className={classes.mt3}>\r\n                <div className={classNames(classes.starterPackDiscount, classes.px4, classes.py2, classes.roundedMd, classes.dFlex, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <Checkbox\r\n                            onChange={this.handleChange}\r\n                            fullWidth\r\n                            required\r\n                            value={this.state.starterPackDiscount}\r\n                            field=\"starterPackDiscount\"\r\n                            noLabel\r\n                        />\r\n                    </div>\r\n                    <div className={classNames(classes.flexCol)}>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {this.props.translate('starterpack_discount')}\r\n                        </div>\r\n                        <div className={classNames(classes.textXs2)}>\r\n                            - {formatPrice(this.state.standardPack.price_with_tax)} na produkty\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n        const country = this.props.store.enums.data.find((x => x._id === deliveryData.country));\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.container, classes.spacingBottom)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classes.mt4}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.name')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {deliveryData.nameSurname}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter, classes.mt3)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.email')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {deliveryData.email}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter, classes.mt3)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.tel')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {`+${deliveryData.tel}`}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.mt6)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('delivery_address')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.flexCol, classes.textRight)}>\r\n                                        <div className={classes.textXs}>\r\n                                            {deliveryData.street}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt1)}>\r\n                                            {`${deliveryData.email}, ${deliveryData.psc}`}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt1)}>\r\n                                            {country ? country.name : ''}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt2, classes.fontSemibold)} onClick={() => { this.props.changeStep(3) }}>\r\n                                            {this.props.translate('edit')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.mt5}>\r\n                            <hr className={classNames(classes.w100, classes.mb4, classes.hrLine)} />\r\n                            {this.renderCartitems()}\r\n                        </Grid>\r\n\r\n                        {this.renderStarterpackDiscount()}\r\n\r\n                        <Grid item xs={12} className={classes.mt6}>\r\n                            <hr className={classNames(classes.w100, classes.mb4, classes.hrLine)} />\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.discountCode}\r\n                                field=\"discountCode\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.fixedBottomBar, classes.py4)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.flexCol, classes.w100)}>\r\n\r\n                            {this.renderDiscounts()}\r\n\r\n                            <div className={classNames(classes.dFlex, classes.mt2, classes.justifyContentBetween)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.fontMedium)}>\r\n                                        {this.props.translate('totalPrice')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {this.props.translate('price_with_tax')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold)}>\r\n                                    {this.getTotalPrice()}\r\n                                </div>\r\n                            </div>\r\n                            <Button\r\n                                onClick={this.proceedCheckout}\r\n                                fullwidth\r\n                                className={classNames(classes.mt4)}>\r\n                                {this.props.translate('continue')}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n)(CheckoutSummary);","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport DeliveryPayment from './DeliveryPayment';\r\nimport CheckoutSummary from './CheckoutSummary'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    checkoutStep: {\r\n        width: '25%',\r\n        height: '60px',\r\n        background: 'red',\r\n    },\r\n    checkoutStepActive: {\r\n        background: 'green'\r\n    }\r\n});\r\n\r\nfunction Checkout(props) {\r\n    const [currentStep, setCurrentStep] = useState(3);\r\n    const { classes } = props;\r\n\r\n    const changeStep = (step) => {\r\n        setCurrentStep(step)\r\n    }\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.dFlex, classes.w100)}>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep, classes.checkoutStepActive)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                {currentStep === 3 && <DeliveryPayment changeStep={changeStep}/>}\r\n                {currentStep === 4 && <CheckoutSummary changeStep={changeStep}/>}               \r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(Checkout);","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport compose from '../../compose';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport config from '../../config.json';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productThumbnail: {\r\n        width: '70px'\r\n    },\r\n    itemCountBtn: {\r\n        backgroundColor: '#ececec',\r\n        width: '24px',\r\n        height: '24px',\r\n        lineHeight: '23px',\r\n        textAlign: 'center',\r\n        fontSize: '19px',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer'\r\n    },\r\n    itemCount: {\r\n        width: '45px',\r\n        textAlign: 'center',\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nfunction CartItem(props) {\r\n    const { classes } = props;\r\n    const renderVariants = () => {\r\n        return (\r\n            <div className={classNames(classes.textXs2)}>Variant</div>\r\n        );\r\n    }\r\n\r\n    const [img, setImg] = useState(null);\r\n    const [challenge, setChallenge] = useState(null);\r\n\r\n    const getImage = async (currentChallange = null) => {\r\n        try {\r\n            console.log(currentChallange);\r\n            if(props.thumbnailId || currentChallange) {\r\n                const data = await props.store.getFile(currentChallange ? currentChallange.logoId : props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    const getChallenge = async () => {\r\n        const challenges = await props.doby.getChallenges();\r\n        const currentChallange = challenges.data.find(x => x._id === props.challengeRef);\r\n        setChallenge(currentChallange);\r\n        getImage(currentChallange);\r\n    }\r\n\r\n    const removeCartItem = () => props.doby.cartRemoveProduct(props.productId);\r\n    const increaseItemCount = (increase) => props.doby.cartIncreaseCount(props.productId, increase);\r\n\r\n    useEffect( async () => {\r\n        if(props.challengeRef) {\r\n            await getChallenge();\r\n            return;\r\n        }\r\n        getImage();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classNames(classes.flexCol)}>\r\n            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <img\r\n                            className={classes.productThumbnail}\r\n                            src={img || ''} alt=\"\" />\r\n                    </div>\r\n\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames(classes.textXs)}>{challenge ? challenge.name : props.productName}</div>\r\n                        <div>{renderVariants()}</div>\r\n                    </div>\r\n                </div>\r\n                <div><ClearIcon onClick={removeCartItem} /></div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.alignItemsEnd, classes.justifyContentBetween)}>\r\n                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                    { props.catalogId !== \"pack\" && <>\r\n                    <div className={classNames(classes.itemCountBtn)} onClick={() => increaseItemCount(-1)}>-</div>\r\n                    <div className={classNames(classes.itemCount, classes.textXs)}>{props.productCount}ks</div>\r\n                    <div className={classNames(classes.itemCountBtn)} onClick={() => increaseItemCount(1)}>+</div>\r\n                    </> }\r\n                    <div className={classNames(classes.ml4, classes.textXs2)}>{props.productCount <= props.countInStock ? props.translate('in_stock') : props.translate('out_stock')}</div>\r\n                </div>\r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.fontBold)}>{formatPrice(Number(props.priceWithTax) * Number(props.productCount))}</div>\r\n                    <div className={classNames(classes.textXs2, classes.textRight)}>{props.translate('with_tax')}</div>\r\n                </div>\r\n            </div>\r\n            <hr className={classNames(classes.w100, classes.mt4, classes.mb4, classes.hrLine)} />\r\n        </div>\r\n    );\r\n}\r\n\r\nCartItem.propTypes = {\r\n    productName: PropTypes.string.isRequired,\r\n    techParams: PropTypes.array,\r\n    priceWithTax: PropTypes.number.isRequired,\r\n    thumbnailId: PropTypes.string,\r\n    productId: PropTypes.string.isRequired,\r\n    catalogId: PropTypes.string.isRequired,\r\n    productCount: PropTypes.number.isRequired,\r\n    countInStock: PropTypes.number.isRequired,\r\n    challengeRef: PropTypes.string,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withDoby,\r\n    withStore,\r\n    withUser,\r\n    withLocalization\r\n)(CartItem);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\nimport CartItem from './CartItem';\r\nimport config from '../../config.json';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    emptyCartImg: {\r\n        width: '60%'\r\n    },\r\n    bottomSection: {\r\n        marginTop: '20px',\r\n        bottom: '0'\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nclass Cart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.doby.cartGetProducts();\r\n    }\r\n\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    getCartProductCount = () => {\r\n        const { cart } = this.props.doby;\r\n        return cart.data.products.length;\r\n    }\r\n\r\n    goToEshop = () => this.props.history.push(`/eshop`);\r\n    goToCheckout = () => this.props.history.push('/eshop/checkout');\r\n    \r\n    renderEmptyCart = ()=> {\r\n        const { classes } = this.props;\r\n        return ( \r\n            <div className={classNames(classes.flexCol)}>\r\n                <div className={classNames(classes.mt8, classes.textCenter)}>\r\n                    <img className={classes.emptyCartImg} alt=\"\" src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.pngmart.com%2Ffiles%2F6%2FSheep-PNG-Clipart.png&f=1&nofb=1\"/>\r\n                </div>\r\n                \r\n                <div className={classNames(classes.textCenter, classes.mt4)}>\r\n                    {this.props.translate('cart_is_empty1')}<br/>\r\n                    {this.props.translate('cart_is_empty2')}\r\n                </div>\r\n\r\n                <Button className={classNames(classes.mt4)}\r\n                    onClick={this.goToEshop}\r\n                    fullwidth\r\n                >\r\n                    {this.props.translate('go_to_eshop')}\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderCartItems = ()=> {\r\n        const { products } = this.props.doby.cart.data;\r\n        return products.map(item => {\r\n            const { product } = item;\r\n            return (\r\n                <CartItem \r\n                    key={product._id}\r\n                    productId={product._id}\r\n                    productName={product.name}\r\n                    priceWithTax={product.price_with_tax}\r\n                    thumbnailId={product.thumbnailId}\r\n                    productCount={item.count}\r\n                    countInStock={product.count}\r\n                    catalogId={product.catalog_id}\r\n                    challengeRef={product.challengeRef && product.challengeRef.id}\r\n                    //techParams={product.techParams}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    getTotalPrice = ()=> {\r\n        let price = 0;\r\n        const { products } = this.props.doby.cart.data;\r\n        for(const item of products) {\r\n            price += (item.count * item.product.price_with_tax);\r\n        }\r\n        return formatPrice(price);\r\n    }\r\n\r\n    renderCart = ()=> {\r\n        const { classes } = this.props;\r\n        return ( \r\n            <>\r\n                { this.renderCartItems() }\r\n                <div className={classNames(classes.bottomSection)}>\r\n                    <Button className={classNames(classes.mt4, classes.mb4)}\r\n                        onClick={this.goToCheckout}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('checkout')}\r\n                    </Button>\r\n\r\n                    {/* <h5 className={classNames(classes.textMd, classes.fontBold, classes.mt1)} style={{display: 'inline-block'}}>{this.props.translate('total_cost')}</h5>\r\n                    <h5 className={classNames(classes.textMd, classes.mt1)} style={{display: 'inline-block', float: 'right', color: '#0e95d4'}}>{this.getTotalPrice()}{config.currency}</h5> */}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const productCount = this.getCartProductCount();\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <h5 className={classNames(classes.textBase, classes.fontRegular, classes.uppercase, classes.mb5)}>{this.props.translate('cart')} {productCount > 0 ? `( ${productCount} )` : ``}</h5>\r\n                    { productCount > 0 ? this.renderCart() : this.renderEmptyCart() }\r\n                </div>\r\n\r\n                <div className={classNames(classes.fixedBottomBar, classes.py4)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.flexCol, classes.w100)}>                           \r\n                            <div className={classNames(classes.dFlex, classes.mt2, classes.justifyContentBetween)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.fontMedium)}>\r\n                                        {this.props.translate('totalPrice')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {this.props.translate('with_tax')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold)}>\r\n                                    {this.getTotalPrice()}\r\n                                </div>\r\n                            </div>          \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nCart.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Cart);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n\r\n    root: {\r\n        justifyContent: 'center'\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    drawer: {\r\n        borderTopLeftRadius: '20px',\r\n        borderTopRightRadius: '20px'\r\n    }\r\n});\r\n\r\nfunction RollerModal(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <Drawer\r\n            anchor=\"bottom\"\r\n            open={props.opened}\r\n            onClose={props.onClose}\r\n            //className={classes.drawer}\r\n            classes={{ paper: classes.drawer }}\r\n        >\r\n            <div className={classNames(classes.container, classes.mt5)}>\r\n                <h5 className={classNames(classes.fontBold, classes.mt7)}>Detaily</h5>\r\n                <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum leo vel orci porta non. Morbi tristique senectus et netus. Porta non pulvinar neque laoreet suspendisse interdum consectetur libero.\r\n                </p>\r\n\r\n                <h5 className={classNames(classes.fontBold, classes.mt7)}>Detaily</h5>\r\n                <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum leo vel orci porta non. Morbi tristique senectus et netus. Porta non pulvinar neque laoreet suspendisse interdum consectetur libero.\r\n                </p>\r\n            </div>\r\n        </Drawer>\r\n    );\r\n}\r\n\r\nRollerModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(RollerModal);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport config from '../../config.json';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport classNames from 'classnames';\r\nimport Select from '../shared/Select';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport ItemCard from './ItemCard';\r\nimport RollerModal from './RollerModal';\r\n\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    root: {\r\n        backgroundColor: '#f7f7f8'\r\n    },\r\n    content: {\r\n        padding: 0,\r\n    },\r\n    imageContainer: {\r\n        width: '100%',\r\n        height: '300px',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n        //background: 'red',\r\n        // margin: -2 * theme.spacing.unit\r\n    },\r\n    productImage: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)'\r\n    },\r\n    productContent: {\r\n        position: 'relative',\r\n        padding: 10\r\n    },\r\n    productTitle: {\r\n        margin: 0,\r\n        padding: 0,\r\n        paddingBottom: 5,\r\n        fontSize: 19\r\n    },\r\n    productPrice: {\r\n        margin: 0,\r\n        padding: 0,\r\n        fontSize: 15,\r\n        display: 'inline-block'\r\n    },\r\n    productPriceDPH: {\r\n        color: 'grey',\r\n        fontSize: 9\r\n    },\r\n});\r\n\r\nconst _defaultState = {\r\n    detailImage: null,\r\n    selectedVariants: {},\r\n    selectedProduct: null,\r\n    detailsModalOpened: false,\r\n    showSnackbar: false,\r\n    lastLocation: window.location\r\n};\r\n\r\nclass ProductDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = _defaultState;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.lastLocation !== window.location.href) {\r\n            this.setState({..._defaultState, lastLocation: window.location.href});\r\n            this.fetchData();\r\n        }\r\n    }\r\n\r\n    fetchDetailImage = async () => {\r\n        const { imageId } = this.state.selectedProduct;\r\n        if(imageId) {\r\n            const data = await this.props.store.getFile(imageId);\r\n            let reader = new FileReader();\r\n            reader.onloadend = () => this.setState({detailImage: reader.result});\r\n            reader.readAsDataURL(data);\r\n        } \r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { _id } = this.props.match.params;\r\n        await this.props.doby.getProductsByCatalogId(_id);\r\n\r\n        const filter = [{ field: \"main\", value: true }];\r\n        await this.props.doby.getProducts(filter);\r\n\r\n        const catalogProducts = this.props.doby.catalog.data;\r\n        if(catalogProducts.length > 0) {\r\n            this.setState({ selectedProduct: catalogProducts[0] }, () => {\r\n                this.fetchDetailImage();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleChange = (name, value) => this.setState({ [name]: value });\r\n\r\n    handleChangeDropdown = (name, value) => {\r\n        this.setState((state) => {\r\n            return {\r\n                ...state,\r\n                selectedVariants: {\r\n                    ...state.selectedVariants,\r\n                    [name]: value\r\n                }\r\n            };\r\n        }, () => {\r\n            const product = this.getProductByDropdownSelection();\r\n            this.setState({ selectedProduct: product }, ()=> this.fetchDetailImage());\r\n        });\r\n    }\r\n\r\n    handleProductImageLoaded = (e) => {\r\n        let width = e.target.naturalWidth;\r\n        let height = e.target.naturalHeight;\r\n        if (height < width) {\r\n            e.target.style.height = '100%';\r\n            e.target.style.width = 'auto';\r\n        } else {\r\n            e.target.style.width = '100%';\r\n            e.target.style.height = 'auto';\r\n        }\r\n    }\r\n\r\n    renderDropdowns = () => {\r\n        let dropdowns = [];\r\n        for (let variantKey in this.props.doby.productVariants.data) {\r\n            dropdowns.push(\r\n                <Select\r\n                    key={variantKey}\r\n                    value={this.state.selectedVariants[variantKey] ? this.state.selectedVariants[variantKey].toString() : ''}\r\n                    field={variantKey}\r\n                    onChange={this.handleChangeDropdown}\r\n                    data={this.props.doby.productVariants.data[variantKey].data}\r\n                    textField={\"name\"}\r\n                    fullWidth\r\n                    required\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                { dropdowns}\r\n            </>\r\n        );\r\n    }\r\n\r\n    getProductByDropdownSelection = () => {\r\n        //NOTE: musme vybrat tolko dropdownov kolko mame unikatnych parametrov pre produkt variant\r\n        if (Object.keys(this.state.selectedVariants).length !== Object.keys(this.props.doby.productVariants.data).length)\r\n            return null;\r\n\r\n        for (let variant of this.props.doby.catalog.data) {\r\n            let hasAllRequirements = false;\r\n            for (let variantKey in this.state.selectedVariants) {\r\n                if (variant.tech_param && variant.tech_param[variantKey] === this.state.selectedVariants[variantKey]) {\r\n                    hasAllRequirements = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (hasAllRequirements)\r\n                return variant\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addToCart = () => {\r\n        if (this.state.selectedProduct) {\r\n            this.props.doby.cartAddProduct(this.state.selectedProduct);\r\n            this.setState({showSnackbar: true});\r\n        }\r\n    }\r\n\r\n    showProductDetail = (product) => {\r\n        if (product.catalog_id && product.catalog_id.length > 0)\r\n            this.props.history.push(`/eshop/product/${product.catalog_id}`);\r\n    }\r\n\r\n    renderSimillarProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.isLoading ? (\r\n            <div style={{ flexGrow: 1 }}>\r\n                <LinearProgress color=\"secondary\" />\r\n            </div>) : products.data.map(product => {\r\n                return (\r\n                    <Grid item xs={6} sm={3} lg={2} key={product._id}>\r\n                        <ItemCard\r\n                            onClick={() => this.showProductDetail(product)}\r\n                            name={product.name}\r\n                            price={product.price_with_tax}\r\n                            curr={config.currency}\r\n                            Id={product.thumbnailId}\r\n                            onViz={this.props.store.getFile}\r\n                            source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                            //membersOnly\r\n                        />\r\n                    </Grid>\r\n                );\r\n            })\r\n    }\r\n\r\n    showAllProductDetails = () => this.setState({ detailsModalOpened: true });\r\n    closeDetailsModal = () => this.setState({ detailsModalOpened: false });\r\n\r\n    renderProductDetail = () => {\r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classes.imageContainer}>\r\n                    <img\r\n                        className={classes.productImage}\r\n                        src={this.state.detailImage ? this.state.detailImage : ''}\r\n                        onLoad={(e) => { this.handleProductImageLoaded(e) }}\r\n                        alt={''}\r\n                    />\r\n                </div>\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <h5 className={classNames(classes.fontBold)}>{this.state.selectedProduct ? this.state.selectedProduct.name : ''}</h5>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.mb3)}>\r\n                        <div className={classes.fontBold}>{this.state.selectedProduct ? formatPrice(this.state.selectedProduct.price_with_tax) : ''} <small className={classes.productPriceDPH}>s DPH</small> </div>\r\n                        <div className={classes.productStock}>{this.state.selectedProduct ? this.state.selectedProduct.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock') : ''}</div>\r\n                    </div>\r\n\r\n                    {this.renderDropdowns()}\r\n                    { console.log(this.state.selectedProduct)} \r\n\r\n                    <Button\r\n                        className={classNames(classes.mt4, classes.mb3)}\r\n                        onClick={this.addToCart}\r\n                        disabled={!this.state.selectedProduct || (this.state.selectedProduct && this.state.selectedProduct.disabled)}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('add_to_cart')}\r\n                    </Button>\r\n\r\n                    <p>\r\n                        {this.state.selectedProduct ? this.state.selectedProduct.short_description : ''}\r\n                    </p>\r\n\r\n                    <Button\r\n                        className={classNames(classes.mt4, classes.mb3)}\r\n                        onClick={this.showAllProductDetails}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('all_product_details')}\r\n                    </Button>\r\n\r\n                    <h5 className={classNames( classes.fontBold, classes.mt7)}>{this.props.translate('find_similar_products')}</h5>\r\n\r\n                    <Grid container spacing={24} className={classes.mt2}>\r\n                        {this.renderSimillarProducts()}\r\n                    </Grid>\r\n                </div>\r\n\r\n                { <RollerModal\r\n                    onClose={this.closeDetailsModal}\r\n                    opened={this.state.detailsModalOpened}\r\n                />}\r\n            </>\r\n        );\r\n    }\r\n\r\n    handleClose = () => this.setState({showSnackbar: false});\r\n    render() {\r\n        return (\r\n            <>\r\n                { this.props.doby.catalog.isLoading ? (\r\n                    <div style={{ flexGrow: 1 }}>\r\n                        <LinearProgress color=\"secondary\" />\r\n                    </div>\r\n                ) : this.renderProductDetail()}\r\n\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'left',\r\n                    }}\r\n                    open={this.state.showSnackbar}\r\n                    autoHideDuration={6000}\r\n                    onClose={this.handleClose}\r\n                    message={this.props.translate('successfully_added_to_cart')}\r\n                    action={\r\n                        <React.Fragment>\r\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\r\n                                <CloseIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nProductDetail.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withStore,\r\n    withUser,\r\n    withLocalization\r\n)(ProductDetail);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  countryId: null,\n  disabled: false,\n  price: 0,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChangeCountryRef = (name, value) => {\n    this.setState({ [name]: { id: value } });\n  };\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addTransport,\n      refreshTransports,\n      editTransport\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editTransport(this.state);\n      } else {\n        await addTransport(this.state);\n      }\n      refreshTransports();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  async componentDidMount() {\n    try {\n      const { getEnums, } = this.props.store;\n      const filter = [\n        { field: \"enumTypeId\", value: 5 },\n        { field: \"disabled\", value: false },\n      ];\n      await getEnums(filter);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, price, key, countryId } = this.state;\n    const { enums } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={countryId}\n          field=\"countryId\"\n          onChange={this.handleChange}\n          data={enums.data}\n          textField=\"name\"\n          disabled={disabled}\n        />\n        <NumInput\n          value={price}\n          field=\"price\"\n          onChange={this.handleChange}\n          min={0}\n          required\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: 'price', type: 'num' },\r\n  { field: 'key', type: 'num' },\r\n  { field: 'disabled', type: 'bool' },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getTransports(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteTransport } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='transports'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteTransport}\r\n          title={translate('transports')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='transports'\r\n        />\r\n        <FormDialog\r\n          title={translate('transport')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import config from '../config';\r\nimport { mail, storage } from \"kd-web\";\r\nimport * as signalR from '@aspnet/signalr';\r\n\r\nexport const send = async (data) => {\r\n  try {\r\n    return await mail.send(data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const sendMock = async () => {\r\n  try {\r\n    const data =    {\r\n      subject: \"subject\",\r\n      body: \"body\",\r\n      from: \"mail@gmail.com\",\r\n      fromName: \"mailer\",\r\n      recipientRef: {\r\n       id: \"5fef09fe7d1c7341543b71a5\"\r\n      },\r\n      templateId: 1,\r\n      params: [\"<b>toto je test</b>\"]\r\n   };\r\n\r\n    return await mail.send(data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getToken = () => {\r\n  return storage.getUser().refreshToken;\r\n}\r\n\r\nconst onConnect = (userId) => {\r\n  console.log(\"hub_connect\", userId);\r\n}\r\n\r\nconst onDisconnect = (userId) => {\r\n  console.log(\"hub_disconnect\", userId);\r\n}\r\n\r\nexport const initHub = (onNotification) => {\r\n  const connection = new signalR.HubConnectionBuilder()\r\n    .withUrl(`${config.url.mail}/hub`, { accessTokenFactory: getToken })\r\n    .configureLogging(signalR.LogLevel.Error)\r\n    .build();\r\n\r\n  connection.start().catch(err => {\r\n    console.error(\"hub\", err)\r\n  });\r\n\r\n  connection.on(\"connect\", onConnect);\r\n  connection.on(\"disconnect\", onDisconnect);\r\n  connection.on(\"notification\", onNotification);\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport { withRouter } from 'react-router';\r\nimport classNames from 'classnames';\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport getSharedStyles from '../../../style';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport config from '../../../config.json';\r\nimport * as mailUtils from \"../../../utils/mailUtils\";\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    emptyCartImg: {\r\n        width: '60%'\r\n    },\r\n});\r\n\r\nclass VerificationPayment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            succeeded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    sendCouponMail = async(coupon) =>{\r\n        const { user } = this.props.user;\r\n        const data = {\r\n            subject: this.props.translate('email_coupon_subject'),\r\n            from: config.mail.address,\r\n            fromName: config.mail.name,\r\n            recipientRef: {\r\n                id: user._id\r\n            },\r\n            templateId: config.mail.sendCouponTemplate,\r\n            params: [user.name, coupon]\r\n        };\r\n        await mailUtils.send(data);\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const query = new URLSearchParams(this.props.location.search);\r\n        if (query) {\r\n            const id = query.get('id');\r\n            if (id) {\r\n                const result = await this.props.doby.verifyOrder(id);\r\n                if(result) {\r\n                    this.setState({succeeded: true});\r\n                    this.props.doby.cartRemoveProducts();\r\n\r\n                    if(result.coupon) {\r\n                        await this.sendCouponMail(result.coupon.code);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    goToEshop = () => this.props.history.push(`/eshop`);\r\n\r\n    render = () => {   \r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.flexCol, classes.container)}>\r\n                    { \r\n                        this.props.doby.checkout.isLoading ? (<CircularProgress/>) : (\r\n                            <>\r\n                                <div className={classNames(classes.mt8, classes.textCenter)}>\r\n                                    <img className={classes.emptyCartImg} alt=\"\" src={this.state.succeeded ? \"https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/792/Tick_Mark_Dark-512.png\" : \"https://nika.shop/wp-content/uploads/2020/01/fail-png-7.png\"} />\r\n                                </div>\r\n                                <div className={classNames(classes.textCenter, classes.mt4)}>\r\n                                    {this.props.translate(this.state.succeeded ? 'payment_successfull' : 'payment_failed')}\r\n                                </div>\r\n                            </>\r\n                        ) \r\n                    }\r\n\r\n                    <Button \r\n                        className={classNames(classes.mt4)}\r\n                        onClick={this.goToEshop}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('go_to_eshop')}\r\n                    </Button>\r\n    \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n    withRouter,\r\n)(VerificationPayment);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../../shared/TextInput\";\r\nimport Select from \"../../shared/Select\";\r\nimport Form from \"../../shared/form/Form\";\r\nimport DatePicker from \"../../shared/DatePicker\";\r\nimport FileInput from \"../../shared/FileInput\";\r\nimport NumInput from \"../../shared/NumInput\";\r\nimport config from \"../../../config.json\";\r\n\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport compose from \"../../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  description: \"\",\r\n  summitsRef: [],\r\n  serieRef: null,\r\n  difficulty: 1,\r\n  start: new Date(),\r\n  end: new Date(),\r\n  _img: null,\r\n  _thumbnail: null,\r\n  _map: null,\r\n  _logo: null,\r\n  _badge: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getSummits, getSeries } = this.props.doby;\r\n\r\n      await getSummits();\r\n      await getSeries();\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleChangeSummitsRef = (name, value) => {\r\n    const v = value.map((x) => ({ id: x }));\r\n    this.setState({ [name]: v });\r\n  };\r\n\r\n  handleChangeSerieRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addChallenge, refreshChallenges, editChallenge } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editChallenge(this.state);\r\n      } else {\r\n        await addChallenge(this.state);\r\n      }\r\n\r\n      refreshChallenges();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      name,\r\n      description,\r\n      start,\r\n      end,\r\n      summitsRef,\r\n      serieRef,\r\n      difficulty,\r\n      _img,\r\n      _map,\r\n      _thumbnail,\r\n      _logo,\r\n      _badge,\r\n    } = this.state;\r\n    const { summits, series } = this.props.doby;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <TextInput\r\n          value={name}\r\n          field=\"name\"\r\n          onChange={this.handleChange}\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <Select\r\n          value={serieRef ? serieRef.id : null}\r\n          field=\"serieRef\"\r\n          onChange={this.handleChangeSerieRef}\r\n          data={series.data}\r\n          textField=\"name\"\r\n          required\r\n          idField=\"id\"\r\n          disabled={disabled}\r\n        />\r\n\r\n        <NumInput\r\n          value={difficulty}\r\n          field=\"difficulty\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          required\r\n        />\r\n\r\n        <DatePicker\r\n          value={start}\r\n          field=\"start\"\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <DatePicker\r\n          value={end}\r\n          field=\"end\"\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={summitsRef.map((x) => x.id)}\r\n            field=\"summitsRef\"\r\n            onChange={this.handleChangeSummitsRef}\r\n            fullWidth\r\n            data={summits.data}\r\n            textField=\"name\"\r\n            required\r\n            multiple\r\n            idField=\"id\"\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_img}\r\n          field=\"_img\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.imageSize}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_thumbnail}\r\n          field=\"_thumbnail\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.thumbnailSize}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/png\"\r\n          value={_logo}\r\n          field=\"_logo\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/png\"\r\n          value={_map}\r\n          field=\"_map\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_badge}\r\n          field=\"_badge\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.badgeSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../../shared/table/Table\";\r\nimport FormDialog from \"../../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../../compose\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  { field: \"start\", type: \"date\" },\r\n  { field: \"end\", type: \"date\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getChallenges(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    const differenceInMiliseconds = new Date() - new Date(x.end);\r\n    const chalengeUnfinished = differenceInMiliseconds < 0;\r\n\r\n    return chalengeUnfinished;\r\n  };\r\n\r\n  render() {\r\n    const { deleteChallenge } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"challenges\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteChallenge}\r\n          title={translate(\"challenges_title\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"challenges\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"challenge_title\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../../compose\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport getSharedStyles from \"../../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport getSharedStyles from \"../../style\";\r\nimport compose from \"../../compose\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    borderRadius: \"50px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    objectFit: \"cover\",\r\n  },\r\n  postImgWrapper: {\r\n    width: \"100%\",\r\n    height: \"220px\",\r\n    background: \"rgba(0,0,0,0.1)\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  postImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  postCard: {\r\n    background: \"#ffffff\",\r\n  },\r\n});\r\n\r\nconst convertDate = (date) => {\r\n  return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n};\r\n\r\nfunction ActivityPost(props) {\r\n  const { classes } = props;\r\n  const climbCreated = new Date(props.climbCreated);\r\n\r\n  return (\r\n    <div className={classNames(props.className, classes.postCard, classes.py5)}>\r\n      <div className={classNames(classes.flexCol, classes.w100)}>\r\n        <div className={classNames(classes.container)}>\r\n          <div\r\n            className={classNames(\r\n              classes.dFlex,\r\n              classes.w100,\r\n              classes.alignItemsCenter,\r\n              classes.justifyContentBetween\r\n            )}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div className={classNames(classes.profileImgHolder)}>\r\n                <img\r\n                  alt=\"avatarImg\"\r\n                  src={\r\n                    props.avatar\r\n                      ? \"data:image/jpeg;base64,\" + props.avatar\r\n                      : \"./img/user-img.jpg\"\r\n                  }\r\n                  className={classNames(classes.profileImg)}\r\n                />\r\n              </div>\r\n              <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                <div className={classNames(classes.textXs)}>\r\n                  {props.userName}\r\n                </div>\r\n                <div className={classNames(classes.textXs2, classes.text200)}>\r\n                  {props.userAddress}\r\n                </div>\r\n                <div className={classNames()}></div>\r\n              </div>\r\n            </div>\r\n            <div>...</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={classNames(classes.postImgWrapper, classes.mt5)}>\r\n          <img\r\n            alt=\"summitImg\"\r\n            src={\r\n              props.image\r\n                ? \"data:image/jpeg;base64,\" + props.image\r\n                : \"./img/user-img.jpg\"\r\n            }\r\n            className={classes.postImg}\r\n          />\r\n        </div>\r\n\r\n        <div className={classNames(classes.container, classes.mt5)}>\r\n          <div className={classNames(classes.flexCol, classes.w100)}>\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div\r\n                className={classNames(\r\n                  classes.dFlex,\r\n                  classes.alignItemsCenter\r\n                )}\r\n              >\r\n                <div>Ikona</div>\r\n                <div className={classNames(classes.FlexCol, classes.ml3)}>\r\n                  <div className={classNames(classes.textXs)}>\r\n                    {props.summitName}\r\n                  </div>\r\n                  <div className={classNames(classes.textXs2, classes.text200)}>\r\n                    {`${props.summitElevation}m | Pridan ${convertDate(\r\n                      climbCreated\r\n                    )}`}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className={classNames(\r\n                  classes.flexRCol,\r\n                  classes.alignItemsCenter\r\n                )}\r\n              >\r\n                <div className={classNames(classes.textXs)}>\r\n                  {props.challengeName}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.textXs2,\r\n                    classes.text200,\r\n                    classes.textRight\r\n                  )}\r\n                >{`${props.challengeFinishedSummits}/${props.challengeAllSummits}`}</div>\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.textXs2, classes.mt3)}>\r\n              {props.description}\r\n            </div>\r\n            <div\r\n              className={classNames(\r\n                classes.w100,\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween,\r\n                classes.mt3\r\n              )}\r\n            >\r\n              <div className={classNames()}>Likes {props.likesCount}</div>\r\n              <div className={classNames()}>Comments</div>\r\n              <div className={classNames()}>Share</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nActivityPost.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  userName: PropTypes.string.isRequired,\r\n  userAddress: PropTypes.string.isRequired,\r\n  avatar: PropTypes.string.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  summitName: PropTypes.string.isRequired,\r\n  summitElevation: PropTypes.string.isRequired,\r\n  climbCreated: PropTypes.string.isRequired,\r\n  challengeName: PropTypes.string.isRequired,\r\n  challengeAllSummits: PropTypes.number.isRequired,\r\n  challengeFinishedSummits: PropTypes.number.isRequired,\r\n  likesCount: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withLocalization)(ActivityPost);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport ActivityPost from '../dobyComponents/ActivityPost'\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n    filterIconHolder: {\r\n        width: '60px'\r\n    },  \r\n    tabsRootClasses: {\r\n        background: '#F1F1F1',\r\n        border: '3px solid #F1F1F1'\r\n    },\r\n    tabsInicator: {\r\n        height: '100%',\r\n        background: '#333442',\r\n    },\r\n    tabSelected: {\r\n        zIndex: 3,\r\n        color: 'white'\r\n    },   \r\n    filterOverlay: {\r\n        position: 'fixed',\r\n        height: '100%',\r\n        width: '100%',\r\n        background: '#F7F7F7',\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 15,\r\n        paddingTop: '60px'\r\n    }\r\n});\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentTab: 0,\r\n            filterOpen: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {  \r\n\r\n    }    \r\n\r\n    handleTabChange = (event, tab) => {\r\n        this.setState({currentTab: tab})\r\n    };\r\n\r\n    renderActivityPosts = () => {\r\n        const { classes } = this.props;\r\n        let activityPosts = [0,1,2,3]\r\n\r\n        return activityPosts.map(post=>{\r\n            return (\r\n                <ActivityPost className={classNames(classes.mb3)}/>             \r\n            )\r\n        })\r\n    }\r\n\r\n    openFilter = () => {\r\n        console.log('aaa')\r\n        this.setState({filterOpen: true})\r\n    }\r\n\r\n    applyFilters = () =>{\r\n        this.setState({filterOpen: false})\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <>\r\n               <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                >\r\n                    <Grid item xs={12} className={classNames(classes.pt5, classes.pb2, classes.bgWhite)}>\r\n                        <div className={classNames(classes.container)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.flexGrow)}>\r\n                                    <Tabs\r\n                                        value={this.state.currentTab}\r\n                                        onChange={this.handleTabChange}\r\n                                        aria-label=\"simple tabs example\"\r\n                                        variant=\"fullWidth\"\r\n                                        classes={{root: classes.tabsRootClasses, indicator: classNames(classes.tabsInicator, classes.roundedMd)}}\r\n                                        className={classNames(classes.roundedMd)}\r\n                                    >\r\n                                        <Tab \r\n                                            label=\"Sledujem\" \r\n                                            \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                        <Tab \r\n                                            label=\"Vsetci\"\r\n                                        \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                        <Tab\r\n                                            label=\"Moje\"\r\n                                           \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                    </Tabs>\r\n                                </div>\r\n                                <div className={classNames(classes.filterIconHolder, classes.textRight)} onClick={this.openFilter}>\r\n                                    icon\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Grid>  \r\n\r\n                    <Grid item xs={12} className={classNames()}>\r\n                        {this.renderActivityPosts()}\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                { this.state.filterOpen && <div className={classNames(classes.filterOverlay)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.fontBold, classes.textMd, classes.mt5)}>\r\n                            Filter\r\n                        </div>\r\n                        <Button fullwidth onClick={this.applyFilters}>Pouzit filtre</Button>\r\n                    </div>\r\n                </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(   \r\n    withStyles(styles),\r\n    withUser,\r\n    withLocalization,\r\n    withRouter\r\n)(Home);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport compose from \"../../compose\";\r\n\r\nimport classNames from \"classnames\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  challengeCard: {\r\n    background: \"#333442\",\r\n    color: \"white\",\r\n  },\r\n  dateText: {\r\n    color: \"rgba(255,255,255,0.4)\",\r\n  },\r\n  progressLine: {\r\n    width: \"100%\",\r\n    height: \"5px\",\r\n    borderRadius: \"5px\",\r\n    background: \"#FF8C00\",\r\n  },\r\n});\r\n\r\nconst convertDate = (date) => {\r\n  return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n};\r\n\r\nconst handleDates = (sDateFrom, sDateTo) => {\r\n  const dateFrom = new Date(sDateFrom);\r\n  const dateTo = new Date(sDateTo);\r\n\r\n  //const differenceInMiliseconds = dateTo.getTime() - dateFrom.getTime();\r\n  const differenceInMiliseconds = new Date() - dateTo.getTime();  \r\n  const differenceInDays = Math.round(\r\n    Math.abs(differenceInMiliseconds) / (1000 * 3600 * 24)\r\n  );\r\n  const differenceInHours = Math.round(differenceInMiliseconds / (1000 * 3600));\r\n  const differenceInMinutes = Math.round(differenceInMiliseconds / (1000 * 60));\r\n\r\n  return {\r\n    dateFrom: convertDate(dateFrom),\r\n    dateTo: convertDate(dateTo),\r\n    remaining:\r\n      differenceInDays !== 0\r\n        ? differenceInDays + \"dn\"\r\n        : `${differenceInHours}h ${differenceInMinutes}min`,   \r\n  };\r\n};\r\n\r\nfunction ActiveChallenge(props) {\r\n  const { classes } = props;\r\n  const { dateFrom, dateTo, remaining } = handleDates(\r\n    props.dateFrom,\r\n    props.dateTo\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={classNames(\r\n          classes.challengeCard,\r\n          classes.roundedMd,\r\n          classes.p5,\r\n          props.className\r\n        )}\r\n      >\r\n        <div className={classNames(classes.flexCol, classes.w100)}>\r\n          <div\r\n            className={classNames(\r\n              classes.dFlex,\r\n              classes.justifyContentBetween,\r\n              classes.w100\r\n            )}\r\n          >\r\n            <div className={classNames(classes.flexCol)}>\r\n              <div\r\n                className={classNames(\r\n                  classes.textWhite,\r\n                  classes.textMonoH4,\r\n                  classes.fontBold, \r\n                  classes.pr2\r\n                )}\r\n              >\r\n                {props.name}\r\n              </div>\r\n              <div className={classNames(classes.dateText, classes.textXs2)}>\r\n                {`${dateFrom} - ${dateTo}`}\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.flexCol)}>\r\n              <div className={classNames(classes.textCenter)}>ikona</div>\r\n              <div className={classNames(classes.textXs2)}>{remaining}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={classNames(classes.flexCol, classes.w100, classes.mt4)}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.justifyContentBetween,\r\n                classes.w100\r\n              )}\r\n            >\r\n              <div className={classNames(classes.textXs2)}>tty</div>\r\n              <div className={classNames(classes.textXs2)}>\r\n                {`${props.summitsFinished}/${props.allSummits}`}\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.mt2)}>\r\n              <div className={classNames(classes.progressLine)}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActiveChallenge.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  name: PropTypes.string,\r\n  allSummits: PropTypes.number,\r\n  summitsFinished: PropTypes.number,\r\n  dateFrom: PropTypes.string,\r\n  dateTo: PropTypes.string,\r\n};\r\n\r\nexport default compose(withStyles(styles))(ActiveChallenge);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Downshift from 'downshift';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction renderInput(inputProps) {\n  const { InputProps, classes, ref, ...other } = inputProps;\n\n  return (\n    <TextField\n      InputProps={{\n        inputRef: ref,\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        },\n        ...InputProps,\n      }}\n      {...other}\n    />\n  );\n}\n\nfunction renderSuggestion({ suggestion, index, itemProps, highlightedIndex, selectedItem, textField }) {\n  const isHighlighted = highlightedIndex === index;\n  const isSelected = selectedItem && suggestion._id === selectedItem._id;\n\n  return (\n    <MenuItem\n      {...itemProps}\n      key={suggestion._id}\n      selected={isHighlighted}\n      component=\"div\"\n      style={{\n        fontWeight: isSelected ? 500 : 400,\n      }}\n    >\n      {suggestion[textField]}\n    </MenuItem>\n  );\n}\nrenderSuggestion.propTypes = {\n  highlightedIndex: PropTypes.number,\n  index: PropTypes.number,\n  itemProps: PropTypes.object,\n  selectedItem: PropTypes.string,\n  suggestion: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    flexGrow: 1,\n    position: 'relative',\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  inputRoot: {\n    flexWrap: 'wrap',\n  },\n  inputInput: {\n    width: 'auto',\n    flexGrow: 1,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  }\n});\n\nlet _timer;\nfunction IntegrationDownshift(props) {\n  const { classes } = props;\n\n  const onInputValueChange = (value) => {\n    if (_timer){\n      clearTimeout(_timer);\n    }\n\n    _timer = setTimeout(() => {\n      const filters = [{ field: props.textField, value, op: 'regex' }];\n      props.onFilterChange(filters);\n    }, 500);\n  }\n\n  return (\n    <div className={classes.root}>\n      <Downshift\n        itemToString={item => item ? item[props.textField] : ''} \n        id=\"downshift-simple\" \n        onChange={(value) => props.onChange(props.field, value)} \n        onInputValueChange={onInputValueChange}\n        selectedItem={props.value}\n      >\n        {({\n          getInputProps,\n          getItemProps,\n          getMenuProps,\n          highlightedIndex,\n          inputValue,\n          isOpen,\n          selectedItem,\n        }) => (\n          <div className={classes.container}>\n            {renderInput({\n              fullWidth: props.fullWidth,\n              classes,\n              label: props.label,\n              required: props.required,\n              disabled: props.disabled,\n              InputProps: getInputProps({\n                placeholder: ''\n              })\n            })}\n            <div {...getMenuProps()}>\n              {isOpen ? (\n                <Paper className={classes.paper} square>\n                  {props.data.map((suggestion, index) =>\n                    renderSuggestion({\n                      suggestion,\n                      index,\n                      itemProps: getItemProps({ item: suggestion }),\n                      highlightedIndex,\n                      selectedItem,\n                      textField: props.textField\n                    }),\n                  )}\n                </Paper>\n              ) : null}\n            </div>\n          </div>\n        )}\n      </Downshift>\n    </div>\n  );\n}\n\nIntegrationDownshift.propTypes = {\n  classes: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  data: PropTypes.array.isRequired,\n  value: PropTypes.object,\n  required: PropTypes.bool,\n  field: PropTypes.string.isRequired,\n  textField: PropTypes.string.isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool\n};\n\nexport default withStyles(styles)(IntegrationDownshift);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport compose from \"../../../compose\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport classNames from \"classnames\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withStore from \"../../../consumers/withStore\";\r\n\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Button from \"../../dobyComponents/form/Button\";\r\nimport Flickity from \"react-flickity-component\";\r\n\r\nimport ActiveChallengeCard from \"../../dobyComponents/ActiveChallengeCard\";\r\nimport ChallengeCard from \"../../dobyComponents/ChallengeCard\";\r\nimport ActivityPost from \"../../dobyComponents/ActivityPost\";\r\nimport Autocomplete from \"../../shared/Autocomplete\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"120px\",\r\n    height: \"120px\",\r\n    borderRadius: \"100px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    objectFit: \"cover\",\r\n  },\r\n  medalItem: {\r\n    width: \"120px\",\r\n    position: \"relative\",\r\n    \"&:after\": {\r\n      content: \"''\",\r\n      display: \"block\",\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100%\",\r\n      height: \"140px\",\r\n      borderRadius: \"10px\",\r\n      background: \"#F5F5F5\",\r\n      zIndex: \"-1\",\r\n    },\r\n  },\r\n  medalImgHolder: {\r\n    width: \"100px\",\r\n    height: \"150px\",\r\n  },\r\n  medalImg: {\r\n    width: \"100%\",\r\n    height: \"auto\",\r\n  },\r\n  medalTitle: {\r\n    minHeight: \"40px\",\r\n  },\r\n  //   medalItem: {\r\n  //     width: \"120px\",\r\n  //     height: \"160px\",\r\n  //     position: \"relative\",\r\n  //   },\r\n  //   medalItemBg: {\r\n  //     background: \"#F5F5F5\",\r\n  //     //background: 'red',\r\n  //     borderRadius: \"10px\",\r\n  //     width: \"100%\",\r\n  //     height: \"160px\",\r\n  //   },\r\n  //   medalItemImg: {\r\n  //     width: \"95px\",\r\n  //     position: \"absolute\",\r\n  //     top: \"45px\",\r\n  //     left: 0,\r\n  //     right: 0,\r\n  //     margin: \"0 auto\",\r\n  //   },\r\n  medalCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n  challengesCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n});\r\n\r\nconst flickityOptions = {\r\n  cellAlign: \"left\",\r\n  contain: true,\r\n  prevNextButtons: false,\r\n  pageDots: false,\r\n};\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      friend: null,\r\n      dobyFriend: null,\r\n      dobyUser: null,\r\n      medals: [],\r\n      unfinishedChallenges: [],\r\n      challengesUserNotParticipate: [],\r\n      currUserFollowingFriend: false,\r\n      myClimbs: [],\r\n      summits: [],\r\n      foundFriend: null,\r\n      watchingYourself: false,\r\n    };\r\n  }\r\n\r\n  buildFilter = (value) => {\r\n    return [\r\n      {\r\n        field: \"userRef.id\",\r\n        op: \"eq\",\r\n        value,\r\n      },\r\n    ];\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { _id } = this.props.match.params;\r\n    const { user } = this.props.user;\r\n    const { getUser, getClimbs } = this.props.doby;\r\n\r\n    const watchingYourself = _id === user._id;\r\n    this.setState({ watchingYourself });\r\n\r\n    const dobyUser = await getUser(user._id);\r\n    this.setState({ dobyUser });\r\n\r\n    const filter = this.buildFilter(_id || user._id);\r\n    const climbs = await getClimbs(filter);\r\n\r\n    if (_id) {\r\n      const dobyFriend = await this.props.doby.getUser(_id);\r\n      const friend = await this.props.user.getUser(_id);\r\n      const currUserFollowingFriend =\r\n        dobyUser.followingRef.find((f) => f.id === _id) !== undefined;\r\n\r\n      this.setState({ dobyFriend, friend, currUserFollowingFriend });\r\n\r\n      this.setMyClimbs(climbs.data, friend);\r\n      this.setUnfinishedChallenges(dobyFriend);\r\n      this.setMedals(dobyFriend);\r\n    } else {\r\n      this.setMyClimbs(climbs.data, user);\r\n      this.setUnfinishedChallenges(dobyUser);\r\n      this.setMedals(dobyUser);\r\n    }\r\n  }\r\n\r\n  setMyClimbs = async (climbs, user) => {\r\n    const myClimbs = climbs.map((c) => {\r\n      if (c.summit && c.summit.imageId)\r\n        this.getFile(c.summit.imageId, this.setImageToClimbCallback, c._id);\r\n\r\n      return {\r\n        ...c,\r\n        userName: user.name,\r\n        userAddress: `${user.city} ${user.country}`,\r\n        avatar: user.avatar,\r\n      };\r\n    });\r\n\r\n    this.setState({ myClimbs });\r\n  };\r\n\r\n  setUnfinishedChallenges = (dobyUser) => {\r\n    const { challenges, challengesRef } = dobyUser;\r\n\r\n    let unfinishedChallenges = [];\r\n    let unfinishedChallengesRef = [];\r\n    if (challengesRef) {\r\n      unfinishedChallengesRef = challengesRef\r\n        .filter((c) => c.finished === null)\r\n        .map((c) => ({ id: c.id, count: c.count }));\r\n    }\r\n\r\n    unfinishedChallenges = unfinishedChallengesRef.map((activeC) => {\r\n      const found = challenges.find((c) => c._id === activeC.id);\r\n      return {\r\n        ...found,\r\n        countFinishedSummits: activeC.count,\r\n      };\r\n    });\r\n\r\n    this.setState({ unfinishedChallenges });\r\n  };\r\n\r\n  setMedals = (dobyUser) => {\r\n    const { challenges, challengesRef } = dobyUser;\r\n\r\n    let medals = [];\r\n    let finishedChallengesRefIDs = [];\r\n    if (challengesRef) {\r\n      finishedChallengesRefIDs = challengesRef\r\n        .filter((c) => c.finished !== null)\r\n        .map((c) => c.id);\r\n    }\r\n\r\n    medals = finishedChallengesRefIDs.map((id) => {\r\n      const medal = challenges.find((c) => c._id === id);\r\n      this.getFile(medal.logoId, this.setLogoToMedalCallback, medal._id);\r\n\r\n      return medal;\r\n    });\r\n\r\n    this.setState({ medals });\r\n  };\r\n\r\n  // Follow/Unfollow user\r\n  followUser = async () => {\r\n    const { _id } = this.props.match.params;\r\n\r\n    this.props.doby.followUser(_id);\r\n    this.setState({ currUserFollowingFriend: true });\r\n  };\r\n  unfollowUser = async (id) => {\r\n    const { _id } = this.props.match.params;\r\n\r\n    this.props.doby.unfollowUser(_id);\r\n    this.setState({ currUserFollowingFriend: false });\r\n  };\r\n\r\n  // Callbacks\r\n  setLogoToMedalCallback = (logoSrc, id) => {\r\n    const medals = [...this.state.medals];\r\n\r\n    this.setState({\r\n      medals: [\r\n        ...medals.map((m) => {\r\n          if (m._id === id) return { ...m, logoSrc };\r\n          return m;\r\n        }),\r\n      ],\r\n    });\r\n  };\r\n  setImageToClimbCallback = (imgSrc, id) => {\r\n    const myClimbs = [...this.state.myClimbs];\r\n\r\n    this.setState({\r\n      myClimbs: [\r\n        ...myClimbs.map((m) => {\r\n          if (m._id === id) return { ...m, imgSrc };\r\n          return m;\r\n        }),\r\n      ],\r\n    });\r\n  };\r\n\r\n  getFile = async (fileId, callback, identificator) => {\r\n    try {\r\n      if (fileId) {\r\n        const data = await this.props.store.getFile(fileId);\r\n\r\n        var reader = new FileReader();\r\n        reader.onloadend = async () => {\r\n          callback(reader.result, identificator);\r\n        };\r\n        reader.readAsDataURL(data);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  joinChallenge = (challenge) => {\r\n    if (challenge._id)\r\n      this.props.history.push(`/challenge-checkout/${challenge._id}`);\r\n  };\r\n\r\n  handleGetChallengesUserNotParticipate = async () => {\r\n    const { dobyUser } = this.state;\r\n\r\n    if (dobyUser) {\r\n      const userChals = dobyUser.challenges.map((c) => c._id);\r\n      const filter = [\r\n        { field: \"end\", value: new Date().toISOString(), op: \"gt\" },\r\n      ];\r\n\r\n      const filteredChals = await this.props.doby.getChallenges(\r\n        filter,\r\n        { field: \"name\", dir: \"asc\" },\r\n        { limit: 1000, skip: 0 },\r\n        false\r\n      );\r\n\r\n      const challengesUserNotParticipate = filteredChals\r\n        ? filteredChals.data.filter(\r\n            (filteredChal) =>\r\n              userChals.find(\r\n                (userChal) => userChal._id === filteredChal._id\r\n              ) === undefined\r\n          )\r\n        : [];\r\n\r\n      this.setState({ challengesUserNotParticipate });\r\n    }\r\n  };\r\n\r\n  handleOnChangeSearchFriends = (name, friend) => {\r\n    this.goToProfileFriend(friend._id);\r\n  };\r\n\r\n  handleOnFilterChangeSearchFriends = async (filter) => {\r\n    await this.props.user.getUsers(filter);\r\n  };\r\n\r\n  renderMedals = () => {\r\n    const { classes } = this.props;\r\n    return this.state.medals.map((medal) => {\r\n      return (\r\n        <div className={\"carousel-cell\"}>\r\n          <div\r\n            className={classNames(\r\n              classes.flexCol,\r\n              classes.medalItem,\r\n              classes.alignItemsCenter\r\n            )}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.medalTitle,\r\n                classes.textXs,\r\n                classes.textCenter,\r\n                classes.flexCol,\r\n                classes.justifyContentCenter,\r\n                classes.px3,\r\n                classes.pt3,\r\n                classes.pb2\r\n              )}\r\n            >\r\n              {medal.name}\r\n            </div>\r\n            <div className={classNames(classes.medalImgHolder)}>\r\n              <img\r\n                alt=\"medalImg\"\r\n                src={medal.logoSrc}\r\n                className={classNames(classes.medalImg)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderMyChallenges = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.unfinishedChallenges.map((challenge) => {\r\n      return (\r\n        <ActiveChallengeCard\r\n          className={classNames(classes.mt3)}\r\n          name={challenge.name}\r\n          allSummits={challenge.summitsRef.length}\r\n          summitsFinished={challenge.countFinishedSummits}\r\n          dateFrom={challenge.start}\r\n          dateTo={challenge.end}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  renderChallenges = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.challengesUserNotParticipate.map((challenge) => {\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <ChallengeCard\r\n            className={classNames(classes.mr5)}\r\n            title={challenge.name}\r\n            description={challenge.description}\r\n            onClickParticipate={() => this.joinChallenge(challenge)}\r\n            onClickMoreInfo={() => {}}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderMyClimbs = () => {\r\n    const { classes } = this.props;\r\n    const { myClimbs, dobyUser, dobyFriend } = this.state;\r\n\r\n    return myClimbs.map((climb) => {\r\n      const {\r\n        description,\r\n        userName,\r\n        userAddress,\r\n        avatar,\r\n        created,\r\n        summit,\r\n        challenge,\r\n        imgSrc,\r\n        likesCount,\r\n      } = climb;\r\n\r\n      const challengeRefFound =\r\n        dobyFriend && challenge\r\n          ? dobyFriend.challengesRef.find((c) => c.id === challenge._id)\r\n          : dobyUser && challenge\r\n          ? dobyUser.challengesRef.find((c) => c.id === challenge._id)\r\n          : null;\r\n      return (\r\n        <ActivityPost\r\n          className={classNames(classes.mt3)}\r\n          description={description}\r\n          userName={userName}\r\n          userAddress={userAddress}\r\n          avatar={avatar}\r\n          image={imgSrc}\r\n          summitName={summit ? summit.name : \"NaN\"}\r\n          summitElevation={summit ? summit.elevation : 0}\r\n          climbCreated={created}\r\n          challengeName={challenge ? challenge.name : \"NaN\"}\r\n          challengeAllSummits={challenge ? challenge.summitsRef.length : 0}\r\n          challengeFinishedSummits={\r\n            challengeRefFound ? challengeRefFound.count : 0\r\n          }\r\n          likesCount={likesCount || 0}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  goToProfileFriend = (id) => this.props.history.push(`/profile-friend/${id}`);\r\n  goToProfileSettings = () => this.props.history.push(`/profile-settings`);\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n    const { user, users } = this.props.user;\r\n    const {\r\n      friend,\r\n      medals,\r\n      unfinishedChallenges,\r\n      dobyFriend,\r\n      dobyUser,\r\n      currUserFollowingFriend,\r\n      foundFriend,\r\n      watchingYourself,\r\n    } = this.state;\r\n\r\n    const isFriendProfile = friend !== null;\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            {/* HEADER */}\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.textXs)}>Domov</div>\r\n                  {!isFriendProfile && (\r\n                    <div>\r\n                      <ClearIcon onClick={this.goToProfileSettings} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* PROFILE IMAGE + FIND FRIENDS */}\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt4\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.profileImgHolder)}>\r\n                    <img\r\n                      alt=\"avatarImg\"\r\n                      src={\r\n                        friend && friend.avatar\r\n                          ? \"data:image/jpeg;base64,\" + friend.avatar\r\n                          : user && user.avatar\r\n                          ? \"data:image/jpeg;base64,\" + user.avatar\r\n                          : \"./img/user-img.jpg\"\r\n                      }\r\n                      className={classNames(classes.profileImg)}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.flexCol,\r\n                      classes.flexGrow,\r\n                      classes.ml5\r\n                    )}\r\n                  >\r\n                    <div\r\n                      className={classNames(\r\n                        classes.dFlex,\r\n                        classes.justifyContentBetween,\r\n                        classes.w100\r\n                      )}\r\n                    >\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.climbsCnt\r\n                            : dobyUser\r\n                            ? dobyUser.climbsCnt\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {translate(\"ofHills\")}\r\n                        </div>\r\n                      </div>\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.followersRef.length\r\n                            : dobyUser\r\n                            ? dobyUser.followersRef.length\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {`${\r\n                            isFriendProfile\r\n                              ? translate(\"followers\")\r\n                              : translate(\"followMe\")\r\n                          }`}\r\n                        </div>\r\n                      </div>\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.followingRef.length\r\n                            : dobyUser\r\n                            ? dobyUser.followingRef.length\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {`${\r\n                            isFriendProfile\r\n                              ? translate(\"heFollow\")\r\n                              : translate(\"following\")\r\n                          }`}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      {isFriendProfile ? (\r\n                        <Button\r\n                          disabled={watchingYourself}\r\n                          fullwidth\r\n                          onClick={\r\n                            currUserFollowingFriend\r\n                              ? this.unfollowUser\r\n                              : this.followUser\r\n                          }\r\n                        >\r\n                          {`${\r\n                            currUserFollowingFriend\r\n                              ? translate(\"following\")\r\n                              : translate(\"follow\")\r\n                          }`}\r\n                        </Button>\r\n                      ) : (\r\n                        <Autocomplete\r\n                          classes={classes}\r\n                          onChange={this.handleOnChangeSearchFriends}\r\n                          onFilterChange={\r\n                            this.handleOnFilterChangeSearchFriends\r\n                          }\r\n                          data={users ? users.data : []}\r\n                          field=\"foundFriend\"\r\n                          textField=\"username\"\r\n                          label={translate(\"searchFriends\")}\r\n                          value={foundFriend}\r\n                          fullWidth\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* POPIS */}\r\n            <Grid item xs={12} className={classNames(classes.mt4)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div className={classNames(classes.fontBold, classes.dBlock)}>\r\n                  {isFriendProfile ? friend.name : user.name}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.fontBold,\r\n                    classes.textXs,\r\n                    classes.dBlock,\r\n                    classes.mt3\r\n                  )}\r\n                >\r\n                  {isFriendProfile\r\n                    ? `${friend.city}, ${friend.country}`\r\n                    : `${user.city}, ${user.country}`}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.textXs2,\r\n                    classes.dBlock,\r\n                    classes.mt1\r\n                  )}\r\n                >\r\n                  {isFriendProfile ? friend.bio : user.bio}\r\n                  {/* Mountain lover  MTB enthusiast. Mountain lover  MTB\r\n                  enthusiast.Mountain lover  MTB enthusiast. */}\r\n                </div>\r\n                <hr\r\n                  className={classNames(\r\n                    classes.w100,\r\n                    classes.mt4,\r\n                    classes.mb4,\r\n                    classes.hrLine\r\n                  )}\r\n                />\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* MEDALS */}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className={classNames(\r\n                classes.mt7,\r\n                classes.bgWhite,\r\n                classes.pt6,\r\n                classes.pb6\r\n              )}\r\n            >\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontSemibold)}>\r\n                    {`${translate(\"medals\")} (${medals.length})`}\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.textXs,\r\n                      classes.text300,\r\n                      classes.fontMedium\r\n                    )}\r\n                  >\r\n                    {translate(\"showAll\")}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Flickity\r\n                  className={classNames(classes.mt4, classes.medalCarousel)}\r\n                  options={flickityOptions}\r\n                  reloadOnUpdate={true}\r\n                >\r\n                  {this.renderMedals()}\r\n                </Flickity>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* ACTUAL CHALLENGES */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontSemibold)}>\r\n                    {`${translate(\"activeChallenges\")} (${\r\n                      unfinishedChallenges.length\r\n                    })`}\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.textXs,\r\n                      classes.text300,\r\n                      classes.fontMedium\r\n                    )}\r\n                  >\r\n                    {isFriendProfile ? \"\" : translate(\"showAll\")}\r\n                  </div>\r\n                </div>\r\n\r\n                {this.renderMyChallenges()}\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* CHALLENGES */}\r\n            {!isFriendProfile && (\r\n              <Grid item xs={12} className={classNames(classes.mt7)}>\r\n                <div className={classNames(classes.container)}>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.dFlex,\r\n                      classes.alignItemsCenter,\r\n                      classes.justifyContentBetween\r\n                    )}\r\n                  >\r\n                    <div className={classNames(classes.fontSemibold)}>\r\n                      Nezmekaj\r\n                    </div>\r\n                    <div\r\n                      className={classNames(\r\n                        classes.textXs,\r\n                        classes.text300,\r\n                        classes.fontMedium\r\n                      )}\r\n                    >\r\n                      {translate(\"showAll\")}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Flickity\r\n                    className={classNames(\r\n                      classes.mt2,\r\n                      classes.challengesCarousel\r\n                    )}\r\n                    options={flickityOptions}\r\n                    reloadOnUpdate={true}\r\n                  >\r\n                    {this.renderChallenges()}\r\n                  </Flickity>\r\n                </div>\r\n              </Grid>\r\n            )}\r\n\r\n            {/* CLIMBS */}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className={classNames(classes.mt7, classes.bgWhite, classes.pt6)}\r\n            >\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.fontSemibold, classes.dBlock)}\r\n                >\r\n                  {translate(\"climbs\")}\r\n                </div>\r\n              </div>\r\n              <div>{this.renderMyClimbs()}</div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Profile);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    iOSSwitchBase: {\r\n        '&$iOSChecked': {\r\n            color: theme.palette.common.white,\r\n            '& + $iOSBar': {\r\n                backgroundColor: '#333442',\r\n            },\r\n        },\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n            easing: theme.transitions.easing.sharp,\r\n        }),\r\n    },\r\n    iOSChecked: {\r\n        transform: 'translateX(15px)',\r\n        '& + $iOSBar': {\r\n            opacity: 1,\r\n            border: 'none',\r\n        },\r\n    },\r\n    iOSBar: {\r\n        borderRadius: 13,\r\n        width: 42,\r\n        height: 24,\r\n        marginTop: -12,\r\n        marginLeft: -22,\r\n        border: 'solid 1px',\r\n        borderColor: theme.palette.grey[400],\r\n        backgroundColor: theme.palette.grey[50],\r\n        opacity: 1,\r\n        transition: theme.transitions.create(['background-color', 'border']),\r\n    },\r\n    iOSIcon: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n    iOSIconChecked: {\r\n        boxShadow: theme.shadows[1],\r\n    },\r\n    controlLabelRoot: {\r\n        marginRight: '0px'\r\n    }\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <FormControlLabel\r\n                classes={{root: classes.controlLabelRoot}}\r\n                control={\r\n                    <Switch\r\n                        classes={{\r\n                            switchBase: classes.iOSSwitchBase,\r\n                            bar: classes.iOSBar,\r\n                            icon: classes.iOSIcon,\r\n                            iconChecked: classes.iOSIconChecked,\r\n                            checked: classes.iOSChecked,\r\n                        }}\r\n                        disableRipple\r\n                        disabled={props.disabled}\r\n                        checked={props.value}\r\n                        onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n                        value={props.field}\r\n                    />\r\n                }\r\n                label={props.label}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(SwitchComponent);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MaskedInput from \"react-text-mask\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from \"../../../style\";\r\n\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  textInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  inputRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction Mask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={inputRef}\r\n      mask={[/\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, /\\d/]}\r\n      placeholderChar={\"\\u2000\"}\r\n      showMask\r\n    />\r\n  );\r\n}\r\n\r\nMask.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TextFieldComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      variant=\"filled\"\r\n      fullWidth={props.fullWidth}\r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      <InputLabel\r\n        htmlFor=\"component-filled\"\r\n        className={classNames(classes.inputLabel)}\r\n      >\r\n        {label}\r\n      </InputLabel>\r\n      <FilledInput\r\n        id=\"outlined-name\"\r\n        label={label}\r\n        value={props.value || \"\"}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        onBlur={props.onBlur}\r\n        margin=\"normal\"\r\n        variant=\"filled\"\r\n        inputComponent={Mask}\r\n        className={classes.textInput}\r\n        classes={{ input: classes.inputRoot }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextFieldComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextFieldComponent));\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    socialConnectCard: {\r\n        background: 'white',\r\n    },\r\n    socialIcon: {\r\n        width: '30px',\r\n        height: '30px',\r\n    }\r\n});\r\n\r\nfunction FacebookConnection(props) {\r\n    const { classes } = props;\r\n\r\n    const handleClick = () => {\r\n        const redirect = process.env.REACT_APP_HOMEPAGE;\r\n        const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n        window.location.replace(url);\r\n    };\r\n\r\n    if (!props.config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.p3, classes.socialConnectCard, classes.roundedMd, classes.dBlock)} onClick={handleClick}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <img src={\"./img/fb-logo.png\"} className={classNames(classes.socialIcon)} />\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames()}>\r\n                            Prida a prepoji Facebook\r\n                        </div>\r\n                        <div className={classNames(classes.textM, classes.text300)}>\r\n                            Njs priateov a prida link na profil\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(FacebookConnection);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    socialConnectCard: {\r\n        background: 'white',\r\n    },\r\n    socialIcon: {\r\n        width: '30px',\r\n        height: '30px',\r\n    }\r\n});\r\n\r\nfunction StravaConnection(props) {\r\n    const { classes } = props;\r\n\r\n    const handleClick = () => {\r\n        const redirect = process.env.REACT_APP_HOMEPAGE;\r\n        // const redirect = 'http://localhost:3000';\r\n        const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n        window.location.replace(url);\r\n    };\r\n\r\n    if (!props.config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.p3, classes.socialConnectCard, classes.roundedMd, classes.dBlock, props.className)} onClick={handleClick}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <img src={\"./img/strava-logo.png\"} className={classNames(classes.socialIcon)} />\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames()}>\r\n                            Prida a prepoji Strava\r\n                        </div>\r\n                        <div className={classNames(classes.textXs2, classes.text300)}>\r\n                            Njs priateov a prida link na profil\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(StravaConnection);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withUtils from \"../../shared/utils/withUtils\";\r\nimport compose from \"../../../compose\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport classNames from \"classnames\";\r\n\r\nimport Button from \"../../dobyComponents/form/Button\";\r\nimport Switch from \"../../dobyComponents/form/Switch\";\r\n\r\nimport TextField from \"../../dobyComponents/form/TextField\";\r\nimport TelField from \"../../dobyComponents/form/TelField\";\r\nimport SelectField from \"../../dobyComponents/form/SelectField\";\r\nimport Checkbox from \"../../dobyComponents/form/CheckboxField\";\r\n\r\nimport FacebookConnection from \"../../dobyComponents/socialConnections/FacebookConnection\";\r\nimport StravaConnection from \"../../dobyComponents/socialConnections/StravaConnection\";\r\n\r\nimport _ from \"lodash\";\r\nimport config from \"../../../config.json\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"120px\",\r\n    height: \"120px\",\r\n    minWidth: \"120px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  avatar: {},\r\n  socialConnectCard: {\r\n    background: \"white\",\r\n  },\r\n  socialIcon: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  tel: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null,\r\n  notifications: true,\r\n  notifyAboutMe: false,\r\n  notifyAboutFollowers: false,\r\n  notifyNews: false,\r\n  telPreffix: null,\r\n};\r\n\r\nconst preffixData = [\r\n  { preffix: \"+421\", _id: 1 },\r\n  { preffix: \"+43\", _id: 2 },\r\n];\r\n\r\nconst handleInputTelNumber = (tel) => {\r\n  if (tel === undefined || tel === \"\") return { value: \"\", preffix: null };\r\n\r\n  const preffix = tel.substring(0, 4);\r\n  switch (preffix) {\r\n    case \"+421\":\r\n    case \"+420\":\r\n      return {\r\n        value: tel.substring(4),\r\n        preffix: preffixData.find((p) => p.preffix === preffix)._id,\r\n      };\r\n    default:\r\n      return {\r\n        value: tel.substring(3),\r\n        preffix: preffixData.find((p) => p.preffix === tel.substring(0, 3))._id,\r\n      };\r\n  }\r\n};\r\n\r\nconst buildState = (user) => {\r\n  const { value, preffix } = handleInputTelNumber(user.tel);\r\n\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    tel: { ...INIT_STATE.tel, value },\r\n    telPreffix: preffix,\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false,\r\n  };\r\n};\r\n\r\nclass ProfileSettings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = buildState(this.props.user.user);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const { getEnums } = this.props.store;\r\n    const filter = [\r\n      { field: \"enumTypeId\", value: 5 },\r\n      { field: \"disabled\", value: false },\r\n    ];\r\n    await getEnums(filter);\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  handleChangeCheckBox = (event) => {\r\n    const { name, checked } = event.target;\r\n    this.setState((state) => _.set(state, name, checked));\r\n  };\r\n\r\n  handleChangeAvatar = (event) => {\r\n    event.preventDefault();\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      let data = await this.props.utils.resize(reader.result, 320);\r\n      data = data.split(\",\").pop();\r\n      this.setState({ avatar: data, avatarChanged: true });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  handleChangePreffix = (name, value) => {\r\n    if (value === \"\") this.handleChange(\"tel.value\", \"\");\r\n    this.handleChange(name, value);\r\n  };\r\n\r\n  handleRemoveAvatar = () => {\r\n    this.setState({ avatar: null, avatarChanged: true });\r\n  };\r\n\r\n  validTelephone = () => {\r\n    const { translate } = this.props;\r\n    const { tel } = this.state;\r\n\r\n    const telSuffix = tel.value.replace(/\\s/g, \"\");\r\n    const regex = new RegExp(\"^[0-9]{9}$\");\r\n    const isValid = telSuffix === \"\" || regex.test(telSuffix);\r\n\r\n    const errorText = isValid ? \"\" : translate(\"field.telNotValid\");\r\n\r\n    this.setState((state) => ({\r\n      tel: { ...state.tel, errorText },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return (\r\n      ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id)\r\n    );\r\n  };\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      username: {\r\n        ...state.username,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !username.value || (await this.isValid(username.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.usernameInUse\");\r\n\r\n    this.setState((state) => ({\r\n      username: { ...state.username, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged,\r\n      telPreffix,\r\n    } = this.state;\r\n\r\n    const isValid =\r\n      this.validTelephone() &&\r\n      this.validPasswords() &&\r\n      (await this.validEmail()) &&\r\n      (await this.validUsername());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    const preffix = telPreffix\r\n      ? preffixData.find((p) => p._id === telPreffix).preffix\r\n      : \"\";\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel: preffix + tel.value.replace(/\\s/g, \"\"),\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  goToProfile = () => this.props.history.push(`/profile`);\r\n\r\n  render() {\r\n    const { classes, translate, locale, disabled } = this.props;\r\n    const { user } = this.props.user;\r\n    const connectTitle = translate(\"connect\");\r\n    const { enums } = this.props.store;\r\n    const {\r\n      email,\r\n      tel,\r\n      otp,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      avatar,\r\n      name,\r\n      bio,\r\n      notifications,\r\n      notifyAboutMe,\r\n      notifyAboutFollowers,\r\n      notifyNews,\r\n      telPreffix,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.textXs)}\r\n                  onClick={this.goToProfile}\r\n                >\r\n                  Sp\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container, classes.mt2)}>\r\n                <div\r\n                  className={classNames(classes.fontBold, classes.textMonoH4)}\r\n                >\r\n                  Nastavenia\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt3\r\n                  )}\r\n                >\r\n                  {/* <img src=\"./img/user-img.jpg\" className={classNames(classes.profileImg)} /> */}\r\n                  <div className={classNames(classes.profileImgHolder)}>\r\n                    <img\r\n                      alt=\"avatarImg\"\r\n                      src={\r\n                        avatar\r\n                          ? \"data:image/jpeg;base64,\" + avatar\r\n                          : \"./img/user-img.jpg\"\r\n                      }\r\n                      className={classNames(classes.profileImg)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div\r\n                    className={classNames(\r\n                      classes.flexCol,\r\n                      classes.flexGrow,\r\n                      classes.ml5\r\n                    )}\r\n                  >\r\n                    <div className={classNames(classes.textXs2)}>\r\n                      Tvoja profilov fotografia je verejn no sli aj na\r\n                      schvalovanie vstupov.\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      <Button fullwidth>\r\n                        <label for=\"avatar-upload\">Zmenit fotku</label>\r\n                        <input\r\n                          hidden\r\n                          type=\"file\"\r\n                          accept=\"image/jpeg\"\r\n                          onChange={this.handleChangeAvatar}\r\n                          id=\"avatar-upload\"\r\n                        />\r\n                      </Button>\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      <Button\r\n                        fullwidth\r\n                        outline\r\n                        onClick={this.handleRemoveAvatar}\r\n                      >\r\n                        Vymazat fotku\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <FacebookConnection config={config.fb} />\r\n                <StravaConnection\r\n                  config={config.strava}\r\n                  className={classNames(classes.mt3)}\r\n                />\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.fontBold, classes.textMonoH4)}\r\n                >\r\n                  Osobn daje\r\n                </div>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    className={classNames(classes.mt4, classes.pr1)}\r\n                  >\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={name}\r\n                      field=\"name\"\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  {/* <Grid item xs={6} className={classNames(classes.mt4, classes.pl1)}>\r\n                                        <TextField\r\n                                            onChange={this.handleChange}\r\n                                            fullWidth\r\n                                            required\r\n                                            value={this.state.surname}\r\n                                            field=\"surname\"\r\n                                        />\r\n                                    </Grid> */}\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={bio}\r\n                      field=\"bio\"\r\n                      rows={3}\r\n                      multiline\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <div\r\n                  className={classNames(\r\n                    classes.fontBold,\r\n                    classes.textMonoH4,\r\n                    classes.mt6\r\n                  )}\r\n                >\r\n                  Dorucovacie daje\r\n                </div>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={email.value}\r\n                      field=\"email.value\"\r\n                      type=\"email\"\r\n                      disabled={disabled || email.isLoading}\r\n                      onBlur={this.validEmail}\r\n                      errorText={email.errorText}\r\n                    />\r\n                  </Grid>\r\n                  {/* <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            value={tel.value}\r\n                                            field=\"tel.value\"\r\n                                            onChange={this.handleChange}\r\n                                            onBlur={this.validTelephone}\r\n                                            disabled={disabled}\r\n                                            errorText={tel.errorText}\r\n                                        />\r\n                                    </Grid> */}\r\n\r\n                  <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                    <SelectField\r\n                      onChange={this.handleChangePreffix}\r\n                      fullWidth\r\n                      data={preffixData}\r\n                      value={telPreffix}\r\n                      field=\"telPreffix\"\r\n                      textField=\"preffix\"\r\n                      disabled={false}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={8} className={classNames(classes.mt2)}>\r\n                    <TelField\r\n                      value={tel.value}\r\n                      fullWidth\r\n                      field=\"tel.value\"\r\n                      onChange={this.handleChange}\r\n                      onBlur={this.validTelephone}\r\n                      errorText={tel.errorText}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <SelectField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      data={enums.data}\r\n                      value={country}\r\n                      field=\"country\"\r\n                      textField=\"name\"\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    xs={8}\r\n                    className={classNames(classes.mt4, classes.pr2)}\r\n                  >\r\n                    <TextField\r\n                      fullWidth\r\n                      value={city}\r\n                      field=\"city\"\r\n                      type=\"city\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={4} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      fullWidth\r\n                      value={postCode}\r\n                      field=\"postCode\"\r\n                      type=\"postCode\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      fullWidth\r\n                      value={address}\r\n                      field=\"address\"\r\n                      type=\"address\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontBold)}>\r\n                    Notifikacie\r\n                  </div>\r\n                  <div>\r\n                    <Switch\r\n                      value={notifications}\r\n                      field=\"notifications\"\r\n                      onChange={this.handleChange}\r\n                      //disabled={disabled}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyAboutMe}\r\n                    field=\"notifyAboutMe\"\r\n                    label={translate(\"notifyAboutMe\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyAboutFollowers}\r\n                    field=\"notifyAboutFollowers\"\r\n                    label={translate(\"notifyAboutFollowers\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyNews}\r\n                    field=\"notifyNews\"\r\n                    label={translate(\"notifyNews\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt3, classes.mb5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <Button fullwidth onClick={this.handleSubmit}>\r\n                  Ulozit nastavenia\r\n                </Button>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfileSettings.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withLocalization,\r\n  withStore,\r\n  withUtils\r\n)(ProfileSettings);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport moment from \"moment\";\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        width: '300px',       \r\n        position: 'relative',\r\n        overflow: 'hidden', \r\n        borderRadius: '30px'          \r\n    },   \r\n    challengeImgHolder: {\r\n        height: '270px',\r\n    },\r\n    challengeImg: {\r\n        position: 'center',\r\n        left: '0',\r\n        right: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover', \r\n\r\n    },\r\n    cardContent: {\r\n        background: theme.palette.secondary.main\r\n    },\r\n    challengeLogoHolder: {\r\n        width: '100px'\r\n    },\r\n    challengeLogo: {\r\n        width: '100%'\r\n    },\r\n    difficultyDot: {\r\n        width: '7px',\r\n        height: '7px',\r\n        borderRadius: '10px',\r\n        border: '1px solid #A4B1C4',\r\n        marginRight: '4px'\r\n    },\r\n    dotFilled: {\r\n        background: 'white',\r\n        border: '1px solid white',\r\n    }\r\n    \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes, customClasses, difficulty } = props;\r\n    const startDate = moment(props.start).format('DD.MM.YYYY')   \r\n\r\n    return (\r\n        <div className={classNames(classes.card, props.className)}>\r\n            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                <div className={classNames(classes.challengeImgHolder)}>\r\n                    <img src={'./img/challenge-card.jpg'} className={classNames(classes.challengeImg)}/>\r\n                </div>\r\n                <div className={classNames(classes.cardContent, classes.flexCol, classes.w100, classes.p5)}>\r\n                    <div className={classNames(classes.w100, classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                        <div className={classNames(classes.flexCol)}>\r\n                            <div className={classNames(classes.flexCol)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mb1)}>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Obtiaznost\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.flexCol, classes.mt4)}>\r\n                                <div className={classNames(classes.textWhite, classes.fontSemibold, classes.textM)}>\r\n                                    {startDate}\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Start\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.challengeLogoHolder)}>\r\n                            <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.textSecondaryLight, classes.textM, classes.mt3)}>\r\n                        {props.description}\r\n                    </div>\r\n                    <Button className={classNames(classes.mt3)} fullwidth>\r\n                        Zobrazit vyzvu\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    start: PropTypes.string, \r\n    difficulty: PropTypes.number,  \r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React, { useState,useEffect  } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n    partnerImg: {\r\n        width: '100%'\r\n    }\r\n});\r\n\r\nfunction PartnerCard(props) {\r\n    const { classes } = props;\r\n    const [img, setImg] = useState(null);\r\n\r\n    useEffect(() => {       \r\n        if (!img) {\r\n            getImg();\r\n        }\r\n      }, []);\r\n\r\n    const getImg = async () =>{\r\n        try {       \r\n            if(props.logoId) {\r\n                const data = await props.getFile(props.logoId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }  \r\n    return (\r\n        <div>           \r\n            <img src={img} className={classes.partnerImg} alt={props.name}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nPartnerCard.propTypes = {\r\n    name: PropTypes.string,\r\n    desc: PropTypes.string,\r\n    logoId: PropTypes.string.isRequired,\r\n    getFile: PropTypes.func.isRequired    \r\n};\r\n\r\nexport default withStyles(styles)(PartnerCard);","import React, { useState,useEffect  } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport classNames from 'classnames';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n    postImgWrapper: {\r\n        width: '100%',\r\n        height: '180px',\r\n        background: 'rgba(0,0,0,0.1)',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n    },\r\n    postImg: {\r\n        width: '100%',\r\n        height: '100%',\r\n        position: 'absolute',\r\n        left: 0,\r\n        right: 0,\r\n        objectFit: 'cover',\r\n    },\r\n    blogPostCard: {\r\n        width: 250,\r\n        height: 'auto'\r\n    }\r\n   \r\n});\r\n\r\nfunction BlogPost(props) {\r\n    const { classes} = props;\r\n    const [img, setImg] = useState(null);\r\n\r\n    useEffect(() => {       \r\n        if (!img) {\r\n            getImg();\r\n        }\r\n      }, []);\r\n\r\n    const getImg = async () =>{\r\n        try {       \r\n            if(props.thumbnailId) {\r\n                const data = await props.getFile(props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }  \r\n\r\n    return (\r\n        <div className={classNames(classes.blogPostCard, classes.flexCol, classes.mr5)}>           \r\n            <div className={classNames(classes.postImgWrapper)}>\r\n                <img src={img} className={classes.postImg} alt={props.title}/>\r\n            </div>\r\n            <h5 className={classNames(classes.textBase, classes.fontBold, classes.mt2)}>{props.title}</h5> \r\n            <p className={classNames(classes.mt2, classes.textBase)}>\r\n                {props.content}\r\n            </p>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nBlogPost.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    content: PropTypes.string.isRequired,\r\n    created: PropTypes.string,    \r\n    thumbnailId: PropTypes.string.isRequired,\r\n    getFile: PropTypes.func.isRequired   \r\n};\r\n\r\nexport default withStyles(styles)(BlogPost);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Flickity from \"react-flickity-component\";\r\nimport ChallengeCard from './ChallengeCard';\r\n\r\nimport ItemCard from '../eshop/ItemCard';\r\nimport config from '../../config.json';\r\nimport withStore from '../../consumers/withStore';\r\nimport PartnerCard from './PartnerCard';\r\nimport BlogPost from './BlogPost'\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introImage: {\r\n        width: '100%',\r\n        // height: 'calc(100vh - 60px - 120px)',\r\n        height: 'calc(100vh + 60px)',\r\n        background: 'url(\"/img/intro-hill.png\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '-1px',\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180deg, rgba(7, 10, 26, 0) 36.46%, rgba(7, 10, 26, 0.6) 64.06%, #070A1A 100%)'\r\n        }\r\n    },\r\n    introContent: {\r\n        zIndex: 10,\r\n        height: 'calc(100% - 150px)',\r\n        width: '100%', \r\n    },\r\n    introTitle: {\r\n        fontSize: '34px',\r\n    },    \r\n    introBtn: {\r\n        background: 'rgba(27, 32, 62, 0.5)',\r\n        backdropFilter: 'blur(5px)',\r\n        padding: '20px',        \r\n        borderRadius: '0px',        \r\n    },\r\n    dashedBtn: {\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(white 50%, rgba(255, 255, 255, 0) 0%)',\r\n            backgroundPosition: 'top, right, bottom, left',\r\n            backgroundRepeat: 'repeat-x, repeat-y',\r\n            backgroundSize: '10px 1px, 1px 10px',\r\n            zIndex: 15,\r\n        }\r\n    },\r\n    howItWorks: {      \r\n        background: 'linear-gradient(180deg, #080A1A 0%, #1A1D33 100%), #080A1A'\r\n    },   \r\n    howItWorksRow: {\r\n        marginBottom: '130px',\r\n    },   \r\n    textCol: {\r\n        width: 'calc(100% - 100px)',\r\n        color: 'white'\r\n    },\r\n    howItWorksItemNumber: {\r\n        height: '70px',\r\n        width: '70px',\r\n        borderRadius: 50,\r\n        textAlign: 'center',\r\n        lineHeight: '70px',\r\n        background: 'rgba(10, 18, 49, 0.7)',\r\n        border: '1px solid #6D6E79',\r\n        color: 'white',     \r\n    },\r\n    challenges: {\r\n        background: 'url(\"/img/trees.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPositionY: 'top',\r\n        position: 'relative',\r\n        '&:before': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            background: 'linear-gradient(180deg, #1A1D33 0%, rgba(26, 29, 51, 0.8) 56.31%, rgba(26, 29, 51, 0.8) 110.75%), url(.jpg)',\r\n            zIndex: '1',\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '103%',\r\n            height: '100px',\r\n            background: 'url(\"img/triangle.svg\")',\r\n            backgroundSize: 'contain',\r\n            backgroundPositionY: 'bottom',\r\n            backgroundRepeat: 'no-repeat',\r\n            bottom: '-2px',\r\n            position: 'relative',\r\n            zIndex: '20',\r\n        }\r\n    },\r\n    challengesContent: {\r\n        position: 'relative',\r\n        zIndex: 3,\r\n    },\r\n    challengeCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '0.5rem',\r\n        }\r\n    },\r\n    whyGetInvolvedImg: {\r\n        maxWidth: '100%'\r\n    },\r\n\r\n\r\n    blog: {\r\n        background: '#ffffff'\r\n    },\r\n    smallImg: {\r\n        width: '47%',\r\n    }\r\n    // triangleSeparator: {\r\n    //     width: '100%',        \r\n    // }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nclass Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            partners: [],\r\n            generalPartners: [],\r\n            mainPartners: [],\r\n            expandedFaq: 'panel1'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();\r\n        await this.props.doby.getProducts();\r\n        await this.props.doby.getPartners();\r\n        await this.props.doby.getPosts();\r\n\r\n        const { partners } = this.props.doby;\r\n\r\n        this.setState({\r\n            partners: partners.data.filter(item => item.type.key === 30),\r\n            generalPartners: partners.data.filter(item => item.type.key === 10),\r\n            mainPartners: partners.data.filter(item => item.type.key === 20),\r\n        })\r\n\r\n    }\r\n\r\n    renderChallenges = () => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;        \r\n        return challenges.data.map(challenge => {\r\n            return (\r\n                <div className={\"carousel-cell\"}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        start={challenge.start}\r\n                        end={challenge.end}\r\n                        sumitsCount={challenge.summitsRef.length}                        \r\n                        onClick={() => this.joinChallenge(challenge)}\r\n                        customClasses={classNames(classes.mt2, classes.mb2, classes.mr3)}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        let retVal = [];\r\n        for (let i = 0; i < 2; i++) {\r\n            let product = products.data[i];\r\n            product && retVal.push(\r\n                <Grid item xs={6} sm={3} lg={2}>\r\n                    <ItemCard\r\n                        key={product._id}\r\n                        onClick={() => this.showProductDetail(product)}\r\n                        name={product.name}\r\n                        price={product.price_with_tax}\r\n                        curr={config.currency}\r\n                        Id={product.thumbnailId}\r\n                        onViz={this.props.store.getFile}\r\n                        source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                    //membersOnly\r\n                    />\r\n                </Grid>\r\n            )\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    renderPartners = () => {\r\n        console.log(this.state.partners)\r\n        return this.state.partners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderGeneralPartners = () => {\r\n        return this.state.generalPartners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderMainPartners = () => {\r\n        return this.state.mainPartners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderBlogPosts = () => {\r\n        return this.props.doby.posts.data.map(post => {\r\n            return (\r\n                <div className={\"carousel-cell\"}>\r\n                    <BlogPost\r\n                        key={post._id}\r\n                        title={post.title}\r\n                        content={post.content}\r\n                        created={post.created}\r\n                        thumbnailId={post.thumbnailId}\r\n                        getFile={this.props.store.getFile}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    handleExpandFaq = panel => (event, expanded) => {\r\n        this.setState({\r\n          expandedFaq: expanded ? panel : false,\r\n        });\r\n      };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { expandedFaq } = this.state;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introImage,classes.flexCol)}>\r\n                    <div className={classNames(classes.flex, classes.flexCol, classes.textCenter, classes.pl7, classes.pr7, classes.pb7, classes.introContent, classes.justifyContentEnd)}>\r\n                        <div className={classNames(classes.textWhite, classes.fontBold, classes.introTitle)}>\r\n                            {this.props.translate('intro_title')}\r\n                        </div>\r\n                        <div className={classNames(classes.textWhite, classes.mt3)}>\r\n                            {this.props.translate('intro_subtitle')}\r\n                        </div>\r\n                        <Button fullwidth className={classNames(classes.introBtn, classes.mt4, classes.dashedBtn, classes.mb7)}>Ako to funguje?</Button>\r\n                    </div>\r\n                </div>\r\n                <div className={classNames(classes.howItWorks, classes.flexCol)}>\r\n                    \r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                1\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('register')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Prejdi 4 jednoduch kroky. Trv to v priemere len 1:20 min.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('we_plant_tree')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Vysadili sme spolu u 14 500 stromov. Naviac z kadho nkupu prispievame 5% zo sumy na ochranu kamzkov.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                2\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                3\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('conquer_summits')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Na kadom vrchole idelne s merchom Doby Hory, nie je to ale podmienka.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('take_picture')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Na kadom vrchole idelne s merchom Doby Hory, nie je to vak podmienka.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                4\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                5\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('get_medal')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Dorume ti ju po schvlen vetkch fotiek, aby si mohol na toto navdy spomna.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className={classNames(classes.challenges, classes.pt6)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n\r\n                        <Grid item xs={12} className={classNames(classes.challengesContent)}>\r\n                            <div className={classNames(classes.textWhite, classes.textCenter, classes.fontBold)}>\r\n                                <div>{this.props.translate('intro_challenges_title_1')}</div>\r\n                                <div>{this.props.translate('intro_challenges_title_2')}</div>\r\n                            </div>\r\n\r\n                            <div className={classNames(classes.mt7)}>\r\n                                <Flickity\r\n                                    className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                                    options={flickityOptions}\r\n                                    reloadOnUpdate={true}\r\n                                >\r\n                                    {this.renderChallenges()}\r\n                                </Flickity>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.pb8, classes.bgWhite)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >                        \r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                {this.props.translate('why_get_involved')}\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <img src={'./img/winOverYourself.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('win_over_yourself')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Nepredbiehame sa a nevyhrvame jeden nad druhm. Cieom je zai tie najkrajie zitky a spomna na ne do konca ivota. Vystp z komfortu a zai to, o om si doteraz len snval.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <img src={'./img/helpNature.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('help_nature')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Prroda ti d vea, vr jej to. Pom nm ju v rmci vzvy oisti a udra jej istotou za o dostane pecilny odznak na tvoj profil.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <img src={'./img/localShops.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('support_local_shops')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Udratenos a kvalita je pre ns na prvom mieste, preto kad produkt v naom eshope pochdza od loklnych vrobcov. Pri produkcii a vbere materilov kladieme maximlny draz na udratenos a ekolgiu.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('help_nature')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('be_part_of_community')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.justifyContentBetween, classes.w100, classes.mt5)}>\r\n                                    <img src=\"/img/community1.jpg\" className={classNames(classes.smallImg)} />\r\n                                    <img src=\"/img/community2.jpg\" className={classNames(classes.smallImg)} />\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('share_experiences')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.justifyContentBetween, classes.w100, classes.mt5)}>\r\n                                    <img src=\"/img/experience1.jpg\" className={classNames(classes.smallImg)} />\r\n                                    <img src=\"/img/experience2.jpg\" className={classNames(classes.smallImg)} />\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('eshop')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderProducts()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    FAQ\r\n                                </div>\r\n                                <div className={classes.mt5}>\r\n                                <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel1'}\r\n                                        onChange={this.handleExpandFaq('panel1')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 1\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                           Odpoved 1\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                    <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel2'}\r\n                                        onChange={this.handleExpandFaq('panel2')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 2\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                            Odpoved 2\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                    <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel3'}\r\n                                        onChange={this.handleExpandFaq('panel3')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 3\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                            Odpoved 3\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n\r\n                <div className={classNames(classes.blog, classes.pt6)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                {this.props.translate('blog')}\r\n                            </div>\r\n\r\n                            <div className={classNames(classes.mt2)}>\r\n                                <Flickity\r\n                                    className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                                    options={flickityOptions}\r\n                                    reloadOnUpdate={true}\r\n                                >\r\n                                    {this.renderBlogPosts()}\r\n                                </Flickity>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>           \r\n\r\n                <div className={classNames(classes.container, classes.howItWorks, classes.pb8)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('general_partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderGeneralPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('main_partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderMainPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </div>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Landing);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction StopwatchIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <g clip-path=\"url(#clip0)\">\r\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.68577 3.17302C9.21491 3.17302 8.83321 3.17302 8.83321 3.17302V1.4679H12.2435V3.17302C12.2435 3.17302 11.8618 3.17302 11.3909 3.17302V4.02559C11.3909 4.03967 11.3906 4.05367 11.3899 4.06758C12.9987 4.22712 14.476 4.8339 15.6957 5.76185L16.8059 4.65162C16.8059 4.65162 17.0776 4.91977 17.4106 5.25272C17.7435 5.58566 18.0117 5.85733 18.0117 5.85733L16.9441 6.92493C18.2637 8.42623 19.064 10.3953 19.064 12.5512C19.064 17.2598 15.2469 21.0769 10.5383 21.0769C5.82975 21.0769 2.0127 17.2598 2.0127 12.5512C2.0127 8.13004 5.37802 4.49486 9.68679 4.06758C9.68611 4.05367 9.68577 4.03967 9.68577 4.02559V3.17302ZM10.5383 19.3717C14.3052 19.3717 17.3588 16.3181 17.3588 12.5512C17.3588 8.78436 14.3052 5.73072 10.5383 5.73072C6.77147 5.73072 3.71782 8.78436 3.71782 12.5512C3.71782 16.3181 6.77147 19.3717 10.5383 19.3717Z\" fill=\"white\" />\r\n                    <path d=\"M10.5382 7.43585C9.56747 7.43585 8.61675 7.71208 7.79712 8.23227C6.9775 8.75246 6.32281 9.49514 5.90954 10.3735C5.49627 11.2519 5.34148 12.2298 5.46326 13.1929C5.58503 14.156 5.97834 15.0646 6.59723 15.8125L10.5382 12.5512V7.43585Z\" fill=\"white\" />\r\n                </g>\r\n                <defs>\r\n                    <clipPath id=\"clip0\">\r\n                        <rect width=\"20.4615\" height=\"20.4615\" fill=\"white\" transform=\"translate(0.307617 0.615356)\" />\r\n                    </clipPath>\r\n                </defs>\r\n            </svg>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(StopwatchIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction MountainsIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>          \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M9.44747 12.0849L15.9289 22.0564H2.80969L9.44747 12.0849Z\" stroke=\"white\" stroke-width=\"1.5625\"/>\r\n                <path d=\"M10.9432 14.5778L15.9289 5.10489L24.9033 22.0565H15.4474\" stroke=\"white\" stroke-width=\"1.5625\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(MountainsIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction StartIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>   \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <circle cx=\"13.5\" cy=\"13.5\" r=\"9.4375\" stroke=\"white\" stroke-width=\"2.125\"/>\r\n                <circle cx=\"13.4996\" cy=\"13.4999\" r=\"4.375\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(StartIcon);","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from './form/Button';\r\nimport moment from \"moment\";\r\n\r\nimport StopwatchIcon from '../dobyComponents/icons/Stopwatch';\r\nimport MountainsIcon from '../dobyComponents/icons/Mountains';\r\nimport StartIcon from '../dobyComponents/icons/Start';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        width: '100%',\r\n        maxWidth: '400px',\r\n        height: '500px',     \r\n        position: 'relative',\r\n        overflow: 'hidden',         \r\n    },   \r\n    challengeImgHolder: {\r\n        height: '270px',\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        top: '0',\r\n        left: '0',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180.41deg, rgba(24, 24, 24, 0.1) 22.25%, rgba(24,24,24, 0.5) 73.24%, rgba(24,24,24, 0.8) 84.72%, #191C1D 99.57%)',\r\n        }\r\n    },\r\n    cardContent: {\r\n        zIndex: 10,\r\n        position: 'relative',\r\n    },\r\n    challengeImg: {\r\n        position: 'center',\r\n        left: '0',\r\n        right: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover',\r\n    },\r\n\r\n    logoHolder: {\r\n        marginTop: '80px'\r\n    },\r\n    challengeLogo: {\r\n        width: '150px',\r\n    },\r\n    \r\n    difficultyDot: {\r\n        width: '9px',\r\n        height: '9px',\r\n        borderRadius: '10px',        \r\n        marginRight: '5px',\r\n        background: 'white',\r\n        opacity: '0.4'\r\n    },\r\n    dotFilled: {\r\n        opacity: '1',\r\n    },\r\n    challengeBtn: {\r\n\r\n    },\r\n    challengeMap: {\r\n       width: '90px',\r\n\r\n    }\r\n    \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const [image, setImage] = useState(null);\r\n    const [logo, setLogo] = useState(null);\r\n    const [map, setMap] = useState(null)\r\n\r\n    useEffect(async () => {       \r\n        if(props.image) {\r\n            const data = await props.doby.getFile(props.image);\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setImage(reader.result);\r\n            }\r\n            reader.readAsDataURL(data);\r\n        }\r\n        if(props.logo) {\r\n            const data = await props.doby.getFile(props.logo);\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setLogo(reader.result);\r\n            }\r\n            reader.readAsDataURL(data);\r\n        }\r\n        if(props.map) {\r\n            const data = await props.doby.getFile(props.map);\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setMap(reader.result);\r\n            }\r\n            reader.readAsDataURL(data);\r\n        }\r\n      }, []);\r\n\r\n    const { classes, difficulty, className, translate } = props;\r\n\r\n    const summitsCount = props.summits && props.summits.length\r\n    const startDate = moment(props.start).format('DD.MM.YYYY');  \r\n    \r\n    let months = moment(props.end).diff(moment(props.start), 'months', true)\r\n    months = Math.abs(months);\r\n    months = Math.ceil(months)\r\n\r\n    return (\r\n        <div className={classNames(classes.card, className)}>\r\n            <div className={classNames(classes.challengeImgHolder)}>\r\n                <img src={image} className={classNames(classes.challengeImg)}/>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.w100, classes.h100, classes.justifyContentBetween, classes.cardContent)}>\r\n                <div className={classNames(classes.logoHolder, classes.w100, classes.textCenter)}>\r\n                    <img src={logo} className={classNames(classes.challengeLogo)}/>\r\n                </div>\r\n                <div className={classNames(classes.p6, classes.dFlex, classes.flexCol)}>\r\n                    \r\n                    <div className={classNames(classes.mapHolder, classes.w100, classes.textCenter, classes.mb8)}>\r\n                        <img src={map} className={classNames(classes.challengeMap)}/>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                        <MountainsIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            {summitsCount} {summitsCount === 1 ? translate('challenge.summit') : summitsCount < 5 ? translate('challenge.summits') : translate('challenge.summit_gen')}\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2)}>\r\n                        <StopwatchIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            {months} {months === 1 ? translate('challenge.month') : months < 5 ? translate('challenge.months') : translate('challenge.month_gen')}\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt1)}>\r\n                        <StartIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            Start {startDate}\r\n                        </div>\r\n                    </div> */}\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.mt9)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.textEl250, classes.textS)}>\r\n                                {translate('challenge.difficulty')}\r\n                            </div>\r\n                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2)}>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.textEl250, classes.textS)}>\r\n                                {translate('challenge.start')}\r\n                            </div>\r\n                            <div className={classNames(classes.textM, classes.textWhite, classes.fontSemibold, classes.mt1)}>\r\n                                {startDate}\r\n                            </div>\r\n                        </div>\r\n                        {/* <img src={'./img/map-high-tatras.svg'} className={classNames(classes.challengeMap)}/> */}\r\n                    </div>\r\n                </div>\r\n                {(props.actionBtn !== false) && <Button className={classNames(classes.challengeBtn)} fullwidth size=\"lg\">\r\n                    {translate('challenge.more')}\r\n                </Button>}\r\n                \r\n                {/* <div className={classNames(classes.cardContent, classes.dFlex, classes.flexCol, classes.w100, classes.p5)}>\r\n                    <div className={classNames(classes.w100, classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mb1)}>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Obtiaznost\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.mt4)}>\r\n                                <div className={classNames(classes.textWhite, classes.fontSemibold, classes.textM)}>\r\n                                    {startDate}\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Start\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.challengeLogoHolder)}>\r\n                            <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.textSecondaryLight, classes.textM, classes.mt3)}>\r\n                        {props.description}\r\n                    </div>\r\n                    <Button className={classNames(classes.mt3)} fullwidth>\r\n                        Zobrazit vyzvu\r\n                    </Button>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    start: PropTypes.string, \r\n    difficulty: PropTypes.number,  \r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby\r\n)(ChallengeCard);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction DropdownFaqClosedIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M26 11L16 21L6 11\" fill=\"#F5333F\"/>\r\n            </svg>         \r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(DropdownFaqClosedIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction DropdownFaqOpenedIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>    \r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"  className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.87485 9.67083L13.25 14.046L14.0455 13.2505L9.67034 8.87534L14.0456 4.5001L13.2501 3.70461L8.87485 8.07984L4.4996 3.70459L3.7041 4.50008L8.07935 8.87534L3.70414 13.2505L4.49964 14.046L8.87485 9.67083Z\" fill=\"#68778D\"/>\r\n            </svg>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(DropdownFaqOpenedIcon);","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\n\r\nimport MuiExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport MuiExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport MuiExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\nimport DropdownFaqClosedIcon from '../dobyComponents/icons/DropdownFaqClosed';\r\nimport DropdownFaqOpenedIcon from '../dobyComponents/icons/DropdownFaqOpened';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    panelRoot: {\r\n        borderTop: '1px solid rgba(0,0,0,.125)',\r\n        borderBottom: '1px solid rgba(0,0,0,.125)',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n    },\r\n    panelExpanded: {\r\n        margin: 'auto',\r\n    },\r\n\r\n    summaryRoot: {\r\n        backgroundColor: 'transparent',\r\n        border: '0',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        padding: '0',\r\n        '&$summaryExpanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    summaryContent: {\r\n        '&$summaryExpanded': {\r\n            margin: '12px 0',           \r\n        },\r\n    },\r\n    summaryExpanded: {},\r\n    \r\n    detailsRoot: {\r\n        padding: '0rem 0rem 1.25rem 0rem'\r\n    },\r\n    iconSpacing: {\r\n        width: '30px'\r\n    },\r\n    textIconSpacing: {\r\n        paddingLeft: '30px',\r\n    }\r\n    \r\n    \r\n});\r\n\r\nfunction Faq(props) {\r\n    const { classes } = props;\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const handleChange = panel => (event, expanded) => {\r\n        console.log(panel)\r\n        console.log(expanded)\r\n\r\n        setExpanded(expanded ? panel : false)\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classNames(props.className)}>\r\n               {\r\n                   props.questions && props.questions.map((item, index)=>{\r\n                       return (\r\n                        <MuiExpansionPanel\r\n                            square\r\n                            expanded={expanded === index}\r\n                            onChange={handleChange(index)}\r\n                            classes={{root: classes.panelRoot, expanded: classes.panelExpanded}}\r\n                        >\r\n                            <MuiExpansionPanelSummary classes={{root: classes.summaryRoot, content: classes.summaryContent ,expanded: classes.summaryExpanded}}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <div className={classNames(classes.iconSpacing, classes.dFlex, classes.alignItemsCenter)}>\r\n                                        {expanded === index ? <DropdownFaqOpenedIcon/> : <DropdownFaqClosedIcon/>}\r\n                                    </div>\r\n                                    <div className={classNames(classes.fontBold,)}>\r\n                                        {item.description}\r\n                                    </div>\r\n                                </div>\r\n                            </MuiExpansionPanelSummary>\r\n                            <MuiExpansionPanelDetails classes={{root: classes.detailsRoot}}>\r\n                                <div className={classNames(classes.textM, classes.textIconSpacing)}>\r\n                                    {item.content}\r\n                                </div>\r\n                            </MuiExpansionPanelDetails>\r\n                        </MuiExpansionPanel>\r\n                       )\r\n                   })\r\n               }               \r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nFaq.propTypes = {\r\n    className: PropTypes.string,\r\n    questions: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(Faq);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({   \r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction FacebookIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>            \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <ellipse cx=\"12\" cy=\"11.9998\" rx=\"12\" ry=\"11.9998\" fill=\"#00263E\"/>\r\n                <path d=\"M16.4701 15.6699L17.0032 12.283H13.6686V10.0861C13.6686 9.15931 14.1335 8.25536 15.6271 8.25536H17.1441V5.37191C17.1441 5.37191 15.768 5.14307 14.4529 5.14307C11.7054 5.14307 9.91125 6.76556 9.91125 9.70166V12.283H6.8584V15.6699H9.91125V23.858C10.5241 23.9519 11.1512 23.9999 11.7899 23.9999C12.4287 23.9999 13.0557 23.9519 13.6686 23.858V15.6699H16.4701Z\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(FacebookIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction InstagramIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M20.0111 5.73127C20.0111 6.72538 19.2052 7.53127 18.2111 7.53127C17.217 7.53127 16.4111 6.72538 16.4111 5.73127C16.4111 4.73716 17.217 3.93127 18.2111 3.93127C19.2052 3.93127 20.0111 4.73716 20.0111 5.73127Z\" fill=\"#00263E\"/>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 15.6C13.9882 15.6 15.6 13.9882 15.6 12C15.6 10.0118 13.9882 8.4 12 8.4C10.0118 8.4 8.4 10.0118 8.4 12C8.4 13.9882 10.0118 15.6 12 15.6Z\" fill=\"#00263E\"/>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 11.52C0 7.48762 0 5.47143 0.784753 3.93127C1.47504 2.5765 2.5765 1.47504 3.93127 0.784753C5.47143 0 7.48762 0 11.52 0H12.48C16.5124 0 18.5286 0 20.0687 0.784753C21.4235 1.47504 22.525 2.5765 23.2152 3.93127C24 5.47143 24 7.48762 24 11.52V12.48C24 16.5124 24 18.5286 23.2152 20.0687C22.525 21.4235 21.4235 22.525 20.0687 23.2152C18.5286 24 16.5124 24 12.48 24H11.52C7.48762 24 5.47143 24 3.93127 23.2152C2.5765 22.525 1.47504 21.4235 0.784753 20.0687C0 18.5286 0 16.5124 0 12.48V11.52ZM11.52 2.4H12.48C14.5358 2.4 15.9333 2.40187 17.0135 2.49012C18.0657 2.57609 18.6038 2.73191 18.9792 2.92317C19.8823 3.38336 20.6166 4.11767 21.0768 5.02085C21.2681 5.3962 21.4239 5.93429 21.5099 6.98649C21.5981 8.06671 21.6 9.46421 21.6 11.52V12.48C21.6 14.5358 21.5981 15.9333 21.5099 17.0135C21.4239 18.0657 21.2681 18.6038 21.0768 18.9792C20.6166 19.8823 19.8823 20.6166 18.9792 21.0768C18.6038 21.2681 18.0657 21.4239 17.0135 21.5099C15.9333 21.5981 14.5358 21.6 12.48 21.6H11.52C9.46421 21.6 8.06671 21.5981 6.98649 21.5099C5.93429 21.4239 5.3962 21.2681 5.02085 21.0768C4.11767 20.6166 3.38336 19.8823 2.92317 18.9792C2.73191 18.6038 2.57609 18.0657 2.49012 17.0135C2.40187 15.9333 2.4 14.5358 2.4 12.48V11.52C2.4 9.46421 2.40187 8.06671 2.49012 6.98649C2.57609 5.93429 2.73191 5.3962 2.92317 5.02085C3.38336 4.11767 4.11767 3.38336 5.02085 2.92317C5.3962 2.73191 5.93429 2.57609 6.98649 2.49012C8.06671 2.40187 9.46421 2.4 11.52 2.4Z\" fill=\"#00263E\"/>\r\n            </svg>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(InstagramIcon);","import React, {useState, useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport withDoby from '../../consumers/withDoby';\r\nimport compose from '../../compose';\r\nimport Button from \"../dobyComponents/form/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport Checkbox from '../dobyComponents/form/CheckboxField';\r\nimport Flickity from \"react-flickity-component\";\r\nimport ChallengeCard from '../dobyComponents/ChallengeCardV1';\r\nimport Faq from '../dobyComponents/Faq';\r\nimport config from '../../config.json';\r\n\r\nimport FacebookIcon from '../dobyComponents/icons/Facebook';\r\nimport InstagramIcon from '../dobyComponents/icons/Instagram';\r\nimport { red } from '@material-ui/core/colors';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introImage: {\r\n        width: '100%',\r\n        // height: 'calc(100vh - 60px - 120px)',\r\n        height: 'calc(100vh - 60px - 15vh)',\r\n        background: 'url(\"/img/intro-bg2.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        [theme.breakpoints.up('md')]: {\r\n            background: 'url(\"/img/intro-bg-desktop.jpg\")',\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n        },\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '-1px',\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180deg, rgba(0,38,62, 0) 36.46%, rgba(0,38,62, 0.2) 64.06%, #070A1A 100%)'\r\n        }       \r\n    },\r\n    introContent: {\r\n        zIndex: 10,\r\n        position: 'relative'\r\n    },\r\n    introBtn: {\r\n        marginBottom: '-25px',\r\n        zIndex: 1,        \r\n    }, \r\n    desktopIntro:{\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        position: 'relative',\r\n        padding: '80px 0',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '50%',\r\n            background: theme.palette.secondary.main,\r\n            zIndex: -1,\r\n        },\r\n    },\r\n    desktopIntroContent: {\r\n        width: '600px',        \r\n    },\r\n    desktopIntroImageHolder: {\r\n        width: 'calc(100% - 600px)',       \r\n    },\r\n    //******************\r\n    participantsImg: {\r\n        width: '70%'\r\n    },   \r\n    howItWorksCircle: {\r\n        width: '38px',\r\n        height: '38px',\r\n        lineHeight: '36px',\r\n        borderRadius: '30px',\r\n        textAlign: 'center',\r\n        color: theme.palette.secondary.main,     \r\n        fontSize: '18px',\r\n        border: `2px solid ${theme.palette.secondary.main}`,         \r\n    },   \r\n    challengeCard: {\r\n        width: '300px'\r\n    }, \r\n    challengeCardAdapt: {\r\n        width: '100%',\r\n        //maxWidth: '330px',\r\n        // [theme.breakpoints.up('xl')]: {\r\n        //     width: '94%',\r\n        // }\r\n    },   \r\n    challengeItemsContainer: {       \r\n        '& $challengeItem': {\r\n            '&:nth-of-type(3n+1)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingRight: '12.5px',    \r\n                },                \r\n            },\r\n            '&:nth-of-type(3n+2)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',          \r\n                },                \r\n            },\r\n            '&:nth-of-type(3n+3)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingLeft: '12.5px'         \r\n                },                \r\n            },\r\n\r\n            '&:nth-of-type(4n+1)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '12.5px'         \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+2)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',   \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+3)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',        \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+4)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingLeft: '12.5px'         \r\n                },                \r\n            },\r\n        }\r\n    },\r\n    challengeItem: {\r\n\r\n    },\r\n    socialShare: {\r\n        //paddingBottom: '80px!important'\r\n    },\r\n    socialShareDesktop: {\r\n        background: theme.palette.secondary.main,\r\n        position: 'relative',\r\n        height: '500px',\r\n        [theme.breakpoints.up('xl')]: {\r\n            margin: '100px 0',\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            top: '0',\r\n            right: '0',\r\n            width: '50%',\r\n            height: '100%',\r\n            background: 'url(\"/img/doby-bg.jpg\")',\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n            zIndex: 1,\r\n        },\r\n    },\r\n    socialShareDesktopPhone: {\r\n        width: '400px',\r\n        height: 'auto',\r\n        position: 'absolute',\r\n        right: '25%',\r\n        top: '50%',\r\n        transform: 'translate(50%, -50%)',\r\n        zIndex: '5',\r\n        [theme.breakpoints.up('xl')]: {\r\n            width: '450px',\r\n        },\r\n    },\r\n    shareImgCol: {\r\n        background: 'url(\"/img/doby-bg.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n        height: '350px'\r\n    },\r\n    shareImg: {\r\n        height: '500px',\r\n        position: 'absolute',\r\n        top: '-50px',\r\n        left: '0',\r\n        right: '0',\r\n        margin: '0 auto',\r\n    },\r\n    socialShareButtonHolder: {\r\n        background: '#E4EAF3',\r\n        paddingTop: '120px'\r\n    },\r\n    socialShareButton: {\r\n        marginBottom: '-26px'\r\n    },\r\n    forYourselfImgHolder: {\r\n        width: '100%',\r\n        height: '400px',\r\n        [theme.breakpoints.up('md')]: {\r\n            height: '500px',\r\n        },\r\n        [theme.breakpoints.up('lg')]: {\r\n            height: '600px',\r\n        },\r\n    },\r\n    forYourselfImg: {\r\n        //width: '100%'\r\n    },\r\n    bigPhotoHolder: {\r\n        width: '100%',\r\n        height: '400px',\r\n    },\r\n    bigPhotoContent: {\r\n        width: '400px',\r\n    },\r\n\r\n    footerBg: {\r\n        background: '#F8F9FB'\r\n    },\r\n    challengesTitleBgOverlay: {\r\n        background: theme.palette.secondary.main,\r\n        color: 'white',\r\n        [theme.breakpoints.up('md')]: {\r\n            background: '#F8F9FB',\r\n            color: 'inherit'\r\n        }\r\n    },\r\n    challengesBgOverlay: {\r\n        position: 'relative',\r\n        [theme.breakpoints.up('md')]: {\r\n            marginTop: '-70px'\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            background: theme.palette.secondary.main,\r\n            zIndex: -1,\r\n            [theme.breakpoints.up('md')]: {\r\n                height: 'calc(100% - 140px)',\r\n                top: '50%',\r\n                transform: 'translateY(-50%)'\r\n            }\r\n        },\r\n    },\r\n    newMedalsImg: {\r\n        position: 'absolute',\r\n        width: '100%',       \r\n\r\n    },\r\n    newsletterFormDesktop: {\r\n        [theme.breakpoints.up('md')]: {\r\n            marginTop: '230px'\r\n        },\r\n    },\r\n    newsletterAnchor: {}\r\n\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nfunction Countdown(props) {\r\n    const { classes, translate } = props;\r\n    const [days, setDays] = useState(0);\r\n    const [hours, setHours] = useState(0);\r\n    const [minutes, setMinutes] = useState(0);\r\n    const [seconds, setSeconds] = useState(0);\r\n    const [timer, setTimer] = useState(null);\r\n\r\n    const showRemainingTime = () => {        \r\n        let _second = 1000;\r\n        let _minute = _second * 60;\r\n        let _hour = _minute * 60;\r\n        let _day = _hour * 24;\r\n\r\n        let end = new Date(1619820000 * 1000); // 1.5.2021\r\n        let now = new Date();\r\n        let diff = end.getTime() - now.getTime()             \r\n        \r\n        if(diff < 0) {\r\n            clearInterval(timer)\r\n            return\r\n        } else { \r\n            let days = Math.floor(diff / _day);\r\n            let hours = Math.floor((diff % _day) / _hour);\r\n            let minutes = Math.floor((diff % _hour) / _minute);\r\n            let seconds = Math.floor((diff % _minute) / _second);\r\n            \r\n            setDays(days);\r\n            setHours(hours);\r\n            setMinutes(minutes);\r\n            setSeconds(seconds);           \r\n        }\r\n    }\r\n\r\n    useEffect(() => {  \r\n        let timerObj = setInterval(showRemainingTime, 1000);\r\n        setTimer(timerObj);\r\n        return () => {\r\n            clearInterval(timer)\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, props.center && classes.justifyContentCenter, classes.textWhite, classes.mt2)}>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {days}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.days')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {hours}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.hours')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {minutes}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.minutes')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {seconds}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.seconds')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass LandingCountdown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {           \r\n            email: '',\r\n            checkConditions: false,\r\n        }\r\n    }\r\n    componentDidMount() {  \r\n        this.fetchData();       \r\n    }\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();    \r\n        await this.props.doby.getPosts([{field: 'type.key', value: 10}], {field: \"title\", dir: \"asc\"});\r\n    }\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };    \r\n\r\n    handleSubscribe = async () => {\r\n        const { email, checkConditions } = this.state;\r\n        \r\n        if(email && checkConditions) {\r\n            try {\r\n                const result = await this.props.doby.subscribe({ email });\r\n                this.setState({ email: '', checkConditions: false })\r\n                alert(result.res);\r\n            }\r\n            catch(error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n    }\r\n\r\n    scrollToNewsletter = () => {\r\n        const { classes } = this.props;\r\n        console.log(`.${classes.newsletterAnchor}`)\r\n        \r\n        document.querySelector(`.${classes.newsletterAnchor}`).scrollIntoView({ \r\n            behavior: 'smooth' \r\n        });\r\n    }\r\n\r\n    renderChallenges = (carousel = true) => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;   \r\n        console.log(challenges)  \r\n        return challenges.data.map((challenge, index) => {\r\n            return (\r\n                carousel ? \r\n                <div className={\"carousel-cell\"}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        description={challenge.description}\r\n                        start={challenge.start}\r\n                        end={challenge.end}                                                                                    \r\n                        difficulty={challenge.difficulty}   \r\n                        summits={challenge.summitsRef}\r\n                        image={challenge.imageId}\r\n                        logo={challenge.logoId}\r\n                        map={challenge.mapId}\r\n                        actionBtn={false}\r\n                        className={classNames(classes.challengeCard, classes.mt2, classes.mb2, (index !== challenges.data.length - 1) && classes.mr5)}\r\n                    />\r\n                </div> :\r\n                <Grid item md={4} lg={3} className={classNames(classes.challengeItem)}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        description={challenge.description}\r\n                        start={challenge.start}\r\n                        end={challenge.end}                        \r\n                        difficulty={challenge.difficulty}  \r\n                        summits={challenge.summitsRef}\r\n                        image={challenge.imageId}\r\n                        logo={challenge.logoId} \r\n                        map={challenge.mapId}  \r\n                        actionBtn={false}   \r\n                        className={classNames(classes.challengeCardAdapt, classes.my2)}                 \r\n                    />\r\n                </Grid> \r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { classes, translate } = this.props;\r\n        const { posts } = this.props.doby;\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introImage, classes.dLgNone)}>\r\n                    <div className={classNames(classes.w100, classes.h100, classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.justifyContentEnd, classes.introContent)}>\r\n                        {/* <div className={classNames( classes.textMono, classes.textXl, classes.textWhite)}>\r\n                            Zazi viac\r\n                        </div> */}\r\n                        <Countdown classes={classes} center translate={translate} />\r\n                        \r\n                        <div className={classNames(classes.textWhite, classes.textSans, classes.textH3, classes.mt4, classes.px5, classes.textCenter)}>\r\n                            <span className={classNames(classes.fontSemibold)}>{translate('landing.begins')}</span> <span className={classNames(classes.textPrimary)}>{new Date(config.start).toLocaleDateString(this.props.locale)}</span>\r\n                        </div>\r\n                        <div className={classNames(classes.container, classes.w100, classes.mt6)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <Button className={classNames(classes.introBtn)}  fullwidth onClick={this.scrollToNewsletter}>\r\n                                    Pripomenut\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n\r\n                <div className={classNames(classes.container, classes.bgSecondary, classes.dLgNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                                \r\n                    > \r\n                        <Grid item xs={12} className={classNames(classes.textCenter, classes.pt9, classes.pb9)}>                            \r\n                            {/* <div className={classNames(classes.textMono, classes.fontSemibold)}>\r\n                                Opusti komfort. Prekonaj sa. <br/>Pomoz prirode.\r\n                            </div> */}\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.mt2, classes.textWhite, classes.uppercase)}>\r\n                                {translate('landing.header1')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textPrimary, classes.uppercase)}>\r\n                                {translate('landing.header2')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textWhite, classes.uppercase)}>\r\n                                {translate('landing.header3')}\r\n                            </h2>                                                                       \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.desktopIntro, classes.dNone, classes.dLgBlock)}>\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.h100)}>\r\n                        <div className={classNames(classes.desktopIntroContent)}>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.h100, classes.alignItemsStart)}>\r\n                                <div className={classNames(classes.h50, classes.dFlex, classes.flexCol, classes.justifyContentCenter, classes.pl10)}>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1, classes.uppercase)}>\r\n                                        {translate('landing.header1')}\r\n                                    </h2>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1, classes.textPrimary, classes.uppercase)}>\r\n                                        {translate('landing.header2')}\r\n                                    </h2>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1,classes.uppercase)}>\r\n                                        {translate('landing.header3')}\r\n                                    </h2>     \r\n                                </div>\r\n                                <div className={classNames(classes.h50, classes.dFlex, classes.flexCol, classes.justifyContentCenter, classes.pl10)}>\r\n                                    <Countdown classes={classes} translate={translate} />\r\n                        \r\n                                    <div className={classNames(classes.textWhite, classes.textSans, classes.textH3, classes.mt4)}>\r\n                                        <span className={classNames(classes.fontSemibold)}>{translate('landing.begins')}</span> <span className={classNames(classes.textPrimary)}>{new Date(config.start).toLocaleDateString(this.props.locale)}</span>\r\n                                    </div>\r\n                                    <Button className={classNames(classes.mt5)} onClick={this.scrollToNewsletter}>\r\n                                        {translate('landing.subscribe')}\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.desktopIntroImageHolder, classes.imageFitHolder)}>\r\n                            <img src={\"/img/intro-bg-desktop.jpg\"} className={classNames(classes.imageFit)}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py10, classes.pyMd11, classes.pyLg12)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >  \r\n                        <Grid item xs={12} md={5} lg={4}  className={classNames()}> \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textCenter, classes.uppercase, classes.dMdNone)}>\r\n                                {translate('landing.what')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH1, classes.textLeft, classes.uppercase, classes.dNone, classes.dMdBlock)}>\r\n                                {translate('landing.what')}\r\n                            </h2>                                              \r\n                        </Grid>\r\n                        <Grid item xs={12} md={7} lg={8}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter, classes.justifyContentMdStart, classes.w100, classes.mt6, classes.mtMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            1\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step1_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.textH4, classes.fontRegular)}>\r\n                                                {translate('landing.step1_description')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow, classes.mt5, classes.mtMd9)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            2\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step2_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.textH4, classes.fontRegular)}>\r\n                                                {translate('landing.step2_description')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow, classes.mt5, classes.mtMd9)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            3\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step3_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.textH4, classes.fontRegular)}>\r\n                                                {translate('landing.step3_description')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>                             \r\n                                </div>\r\n                            </div>  \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.challengesTitleBgOverlay, classes.pt8, classes.pbMd12, classes.ptMd10)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        > \r\n                            <Grid item xs={12} className={classNames(classes.textCenter, classes.textLgLeft)}>\r\n                                <h2 className={classNames(classes.textMono, classes.uppercase,classes.dMdNone)}>\r\n                                    {translate('landing.challenges')}\r\n                                </h2>   \r\n                                <h2 className={classNames(classes.textMono, classes.uppercase, classes.textH1, classes.dNone, classes.dMdBlock)}>\r\n                                    {translate('landing.challenges')}\r\n                                </h2>                                            \r\n                            </Grid>                           \r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.challengesBgOverlay)}>\r\n                    <div className={classNames(classes.container, classes.pb9, classes.pt6, classes.pyMd0)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            justify=\"center\"                                           \r\n                        >                          \r\n                            <Grid item xs={12} className={classNames(classes.dMdNone)}>\r\n                                <div className={classNames(classes.carouselFullwidth)}>\r\n                                    <Flickity\r\n                                        className={classNames(classes.carouselSpacing)}\r\n                                        options={flickityOptions}\r\n                                        reloadOnUpdate={true}\r\n                                    >\r\n                                        {this.renderChallenges()}\r\n                                    </Flickity>\r\n                                </div>                                              \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.dNone, classes.dMdBlock)}>\r\n                                <Grid\r\n                                    container\r\n                                    direction=\"row\"  \r\n                                    className={classNames(classes.challengeItemsContainer)}                                            \r\n                                >\r\n                                    {this.renderChallenges(false)}\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n\r\n\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py11, classes.pyMd13, classes.newsletterAnchor)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} md={5} lg={4} className={classNames()}>\r\n                           \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase)}>\r\n                               {translate('subscribe.title')}\r\n                            </h2>  \r\n                            <div className={classNames(classes.mt1, classes.fontMedium)}>\r\n                                {translate('subscribe.description')}\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}  md={7} lg={7} xl={6} className={classNames(classes.mt3, classes.mtMd0)}>\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.email}\r\n                                type=\"email\"\r\n                                field=\"email\"                     \r\n                            />\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.flexLgRow, classes.justifyContentLgBetween, classes.alignItemsLgCenter, classes.mt3, classes.mtLg5)}>\r\n                                <Checkbox\r\n                                    onChange={this.handleChange}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={this.state.checkConditions}\r\n                                    field=\"checkConditions\"\r\n                                    label={translate('subscribe.check')}\r\n                                    className={classNames()}\r\n                                />\r\n                                <Button onClickclassName={classNames(classes.mt7, classes.mtLg0)} fullwidth onClick={this.handleSubscribe}>\r\n                                    {translate('subscribe.submit')}\r\n                                </Button>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>        \r\n\r\n                \r\n                <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    className={classNames(classes.dMdNone)}                                             \r\n                > \r\n                    <Grid item xs={12} md={6} className={classNames(classes.px5, classes.py9, classes.bgSecondary, classes.socialShare)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol, classes.h100)}>\r\n                            <h2 className={classNames(classes.textMono, classes.uppercase, classes.textWhite, classes.textH2)}>\r\n                                {translate('landing.share_title')}\r\n                            </h2>   \r\n                            <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite, classes.mb9, classes.mbMd0)}>\r\n                                {translate('landing.share_description')}\r\n                            </div>\r\n                        </div>                                           \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={6} className={classNames(classes.shareImgCol)}>\r\n                        <img src={'./img/phone-share.png'} className={classNames(classes.shareImg)}/>                                       \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} className={classNames(classes.px5, classes.socialShareButtonHolder, classes.dMdNone)}>\r\n                        <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                            <Button className={classNames(classes.socialShareButton)} fullwidth>\r\n                                {translate('landing.share')}\r\n                            </Button> \r\n                        </div>                            \r\n                    </Grid>                    \r\n                </Grid>\r\n\r\n                <div className={classNames(classes.socialShareDesktop, classes.dNone, classes.dMdBlock)}>\r\n                    <div className={classNames(classes.container, classes.h100)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            className={classNames(classes.h100)}                                             \r\n                        > \r\n                            <Grid item xs={12} md={6} className={classNames(classes.px5, classes.py9, classes.bgSecondary, classes.socialShare)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.h100)}>\r\n                                    <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsStart)}>\r\n                                        <h2 className={classNames(classes.textMono, classes.uppercase, classes.textWhite, classes.textH1)}>\r\n                                            {translate('landing.share_title')}\r\n                                        </h2>   \r\n                                        <div className={classNames(classes.mt4, classes.fontMedium, classes.textWhite, classes.mb9, classes.mbMd0)}>\r\n                                            {translate('landing.share_description')}\r\n                                        </div>\r\n                                        <Button className={classNames(classes.mt5)} minWidth={250}>\r\n                                            {translate('landing.share')}\r\n                                        </Button>\r\n                                    </div>   \r\n                                </div>                                        \r\n                            </Grid>                          \r\n\r\n                                               \r\n                        </Grid>\r\n                    </div>\r\n\r\n                    <img src={'./img/phone-share.png'} className={classNames(classes.socialShareDesktopPhone)}/>  \r\n\r\n                </div>\r\n\r\n                {/* <div className={classNames(classes.forYourselfImgHolder, classes.mt11, classes.imageFitHolder, classes.dMdNone)}>\r\n                    <img src={'./img/girl-mountain.jpg'} className={classNames(classes.forYourselfImg, classes.imageFit)}/>       \r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.dMdNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                            <h3 className={classNames(classes.textH3)}>Nepredbiehame sa</h3>\r\n                            <div className={classNames(classes.mt2, classes.textBlock)}>\r\n                                a nevyhrvame jeden nad druhm. Cieom je zai tie najkrajie zitky a spomna na ne do konca ivota. Vystp z komfortu a zai to, o om si doteraz len snval. Vyhraj nad sebou, nie nad ostatnmi.\r\n                            </div>     \r\n                            <hr className={classNames(classes.hrLine, classes.mt4, classes.mb5)}/>                      \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <img src={'./img/producer.jpg'} className={classNames(classes.w100)}/> \r\n                            <h3 className={classNames(classes.textH3, classes.mt4)}>Udrzatelnost</h3>\r\n                            <div className={classNames(classes.mt2, classes.textBlock)}>\r\n                                Vetky produkty a materily vyberme s vekm drazom na prrodu. Podporujeme malch loklnych vrobcov, pretoe prroda nm nie je ahostajn.\r\n                            </div>    \r\n                        </Grid>\r\n                    </Grid>\r\n                </div> */}\r\n\r\n                <div className={classNames(classes.mt11, classes.mtMd13 )}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} md={6} className={classNames()}>\r\n                            <div className={classNames(classes.imageFitHolder, classes.bigPhotoHolder)}>\r\n                                <img src={'./img/girl-mountain-desktop.jpg'} className={classNames(classes.imageFit)}/> \r\n                            </div>  \r\n                            <div className={classNames(classes.dFlex, classes.justifyContentMdCenter, classes.mtMd7, classes.p5, classes.pMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.bigPhotoContent)}>\r\n                                    <h3 className={classNames(classes.textH2)}>{translate('landing.p1_title')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textBlock)}>\r\n                                        {translate('landing.p1_description')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>               \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} md={6} className={classNames(classes.mt5, classes.mtMd0)}>\r\n                            <div className={classNames(classes.imageFitHolder, classes.bigPhotoHolder)}>\r\n                                <img src={'./img/forest-desktop.jpg'} className={classNames(classes.imageFit)}/> \r\n                            </div>  \r\n                            <div className={classNames(classes.dFlex, classes.justifyContentMdCenter, classes.mtMd7, classes.p5, classes.pMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.bigPhotoContent)}>\r\n                                    <h3 className={classNames(classes.textH2)}>{translate('landing.p2_title')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textBlock)}>\r\n                                        {translate('landing.p2_description')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>               \r\n                        </Grid>                       \r\n                    </Grid>      \r\n                </div>\r\n\r\n                <div className={classNames(classes.dMdNone)} style={{background: '#F7F7F7'}}>\r\n                    <div className={classNames(classes.container, classes.mt8, classes.py8)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >                    \r\n                            <Grid item xs={12} className={classNames()}>\r\n                                <h2 className={classNames(classes.textH2, classes.textMono, classes.uppercase)}>\r\n                                    {translate('landing.badges_title')}\r\n                                </h2>\r\n                                <div className={classNames(classes.w100, classes.mt7, classes.textCenter)}>\r\n                                    <img src={'./img/medals.png'} className={classNames(classes.w100)} style={{width: '70%'}}/> \r\n                                </div>                          \r\n                                {/* <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                    <Button className={classNames(classes.mt4)} fullwidth>\r\n                                        Objav vyzvy\r\n                                    </Button> \r\n                                </div>     */}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div className={classNames(classes.dNone, classes.dMdBlock, classes.mt10)} style={{background: '#F7F7F7'}}>\r\n                    <div className={classNames(classes.container, classes.py10)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >                    \r\n                            <Grid item md={6} lg={7} className={classNames(classes.pr8, classes.prLg0)}>\r\n                                <h2 className={classNames(classes.textH1, classes.textMono, classes.uppercase)}>\r\n                                    {translate('landing.badges_description')}\r\n                                </h2>                                   \r\n                            </Grid>\r\n                            <Grid item md={6} lg={5} className={classNames(classes.positionRelative)}>\r\n                                <img src={'./img/medals-new.jpg'} className={classNames(classes.newMedalsImg)}/>                          \r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div id=\"newsletter\" className={classNames(classes.container, classes.bgSecondary, classes.dMdNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} className={classNames(classes.py11)}>\r\n                           \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase, classes.textWhite)}>\r\n                               {translate('subscribe.title')}\r\n                            </h2>  \r\n                            <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite)}>\r\n                                {translate('subscribe.description')}\r\n                            </div>\r\n\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.email}\r\n                                field=\"email\"    \r\n                                className={classNames(classes.mt5, classes.mb2)}                            \r\n                            />\r\n                            <Checkbox\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.checkConditions}\r\n                                field=\"checkConditions\"\r\n                                label={translate('subscribe.check')}\r\n                                labelClasses={classNames(classes.textWhite)}\r\n                                light={true}\r\n                            />\r\n                            <Button className={classNames(classes.mt7)} fullwidth onClick={this.handleSubscribe}>\r\n                                {translate('subscribe.submit')}\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.bgSecondary, classes.dNone, classes.dMdBlock, classes.newsletterFormDesktop)}>\r\n                    <div className={classNames(classes.container, classes.py11, classes.pyMd13)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >    \r\n                            <Grid item xs={12} md={5} lg={4} className={classNames()}>\r\n                            \r\n                                <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase, classes.textWhite)}>\r\n                                    {translate('subscribe.title')}\r\n                                </h2>  \r\n                                <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite)}>\r\n                                    {translate('subscribe.description')}\r\n                                </div>\r\n                                \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}  md={7} lg={7} xl={6} className={classNames(classes.mt3, classes.mtMd0)}>                               \r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.flexLgRow, classes.justifyContentLgBetween, classes.alignItemsEnd, classes.alignItemsLgCenter, classes.mt3, classes.mtLg5)}>\r\n                                    <TextField\r\n                                        onChange={this.handleChange}\r\n                                        fullWidth\r\n                                        required\r\n                                        value={this.state.email}\r\n                                        field=\"email\"                     \r\n                                    />\r\n                                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.mt3, classes.mtLg0)}>\r\n                                        <Checkbox\r\n                                            onChange={this.handleChange}\r\n                                            fullWidth\r\n                                            required\r\n                                            value={this.state.checkConditions}\r\n                                            field=\"checkConditions\"\r\n                                            label={translate('subscribe.check')}\r\n                                            className={classNames(classes.dLgNone)}\r\n                                            labelClasses={classNames(classes.textWhite)}\r\n                                            light={true}\r\n                                        />\r\n                                        <Button className={classNames(classes.ml4, classes.mtLg0)} minWidth={200} onClick={this.handleSubscribe}>\r\n                                            {translate('subscribe.submit')}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.justifyContentEnd, classes.mt4, classes.dNone, classes.dLgFlex)}>\r\n                                    <Checkbox\r\n                                        onChange={this.handleChange}\r\n                                        fullWidth\r\n                                        required\r\n                                        value={this.state.checkConditions}\r\n                                        field=\"checkConditions\"\r\n                                        label={translate('subscribe.check')}\r\n                                        className={classNames()}\r\n                                        labelClasses={classNames(classes.textWhite)}\r\n                                        light={true}\r\n                                    />\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py10, classes.pyMd11, classes.pyLg12)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    > \r\n                        <Grid item xs={12} md={5} lg={4} className={classNames(classes.mb5, classes.mbMd0)}>\r\n                            {/* <div className={classNames(classes.textH3, classes.textMono, classes.uppercase)}>\r\n                                Otazky?\r\n                            </div> */}\r\n                            <h2 className={classNames(classes.textMono, classes.textH3, classes.uppercase, classes.dMdNone)}>\r\n                                {translate('landing.faq')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH1, classes.textLeft, classes.uppercase, classes.dNone, classes.dMdBlock)}>\r\n                                {translate('landing.faq')}\r\n                            </h2> \r\n                        </Grid>\r\n                        <Grid item xs={12} md={7} lg={8} className={classNames()}>\r\n                            <Faq questions={posts.data}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>  \r\n\r\n                <div className={classNames(classes.footerBg)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        > \r\n                            <Grid item xs={12} className={classNames(classes.dFlex, classes.alignItemsCenter, classes.w100, classes.justifyContentBetween, classes.py6, classes.dMdNone)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                    <div className={classNames()}>\r\n                                        {translate('contact.title')}\r\n                                    </div>\r\n                                    <a className={classNames(classes.fontBold,)}>\r\n                                        {translate('contact.email')}\r\n                                    </a>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <a className={classNames(classes.mr5)}>\r\n                                        <InstagramIcon size={25} />\r\n                                    </a>\r\n                                    <a className={classNames()}>\r\n                                        <FacebookIcon size={25} />\r\n                                    </a>\r\n                                </div>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.alignItemsCenter, classes.w100, classes.py6, classes.dNone, classes.dMdFlex)}>                                \r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <a className={classNames(classes.mr5)}>\r\n                                        <InstagramIcon size={25} />\r\n                                    </a>\r\n                                    <a className={classNames()}>\r\n                                        <FacebookIcon size={25} />\r\n                                    </a>\r\n                                </div>\r\n\r\n                                <a className={classNames(classes.fontBold, classes.ml6)}>\r\n                                    {translate('contact.email')}\r\n                                </a>\r\n                            </Grid>\r\n                        \r\n                        </Grid>\r\n                    </div>\r\n                </div> \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withDoby\r\n)(LandingCountdown);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport getSharedStyles from '../../style';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n});\r\n\r\n\r\nclass Challenges extends React.Component {\r\n    constructor(props) {\r\n        super(props);       \r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={()=>this.props.history.push('challenge-detail')}>\r\n                asdasdads\r\n            </div>\r\n        )\r\n    }\r\n} \r\n\r\n\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withRouter\r\n)(Challenges);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport Flickity from \"react-flickity-component\";\r\nimport Button from '../dobyComponents/form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introSection: {\r\n        minHeight: 'calc(100vh - 60px)',\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        background: 'url(\"/img/intro-bg.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            background: 'linear-gradient(0deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0) 100%)'\r\n        }\r\n    },\r\n    challengeLogo: {\r\n        width: '100px',\r\n        height: 'auto',\r\n        zIndex: 4,\r\n    },\r\n    challengeIntroContent: {\r\n        paddingBottom: '120px',\r\n        zIndex: 4,\r\n    },\r\n    summitsDetail: {\r\n        minHeight: 'calc(100vh - 60px)',\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        background: 'url(\"/img/challenge-card.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            background: 'linear-gradient(0deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0) 100%)'\r\n        }\r\n    },\r\n    summitsDetailContent: {\r\n        zIndex: 4,\r\n        position: 'relative',        \r\n    },  \r\n    summitsCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            //paddingRight: '0.5rem',\r\n        }\r\n    },\r\n    summitCarouselItem: {\r\n        background: 'rgba(255,255,255,0.5)',\r\n        whiteSpace: 'nowrap',\r\n        minWidth: '160px',\r\n    },\r\n    summitCarouselItemActive: {\r\n        background: 'rgba(255,255,255,1)', \r\n    }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'center',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\n\r\nclass ChallengeDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);       \r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    renderSummits = () => {\r\n        const { classes } = this.props;\r\n        let summits = [\r\n            {id: 0, name: 'Vychodna vysoka', altitude: 2495},\r\n            {id: 1, name: 'Koprovsky stit', altitude: 2495},\r\n            {id: 2, name: 'Rysy', altitude: 2495},\r\n            {id: 3, name: 'Krivan', altitude: 2495, active: true},\r\n            {id: 4, name: 'Slavkosky stit', altitude: 2495},\r\n            {id: 5, name: 'Jahnaci stit', altitude: 2495},\r\n        ]\r\n\r\n        return summits.map(summit=>{\r\n            return (\r\n                <div className={classNames(\"carousel-cell\")}>\r\n                    <div className={classNames(classes.summitCarouselItem, summit.active && classes.summitCarouselItemActive, classes.flexCol, classes.alignItemsCenter, classes.roundedMd, classes.px5, classes.py2, classes.mr5)}>\r\n                        <div className={classNames(classes.fontBold)}>\r\n                            {summit.name}\r\n                        </div>\r\n                        <div className={classNames()}>\r\n                            {summit.altitude}\r\n                        </div>\r\n                    </div>\r\n                </div>              \r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introSection)}>\r\n                    <div className={classNames(classes.container, classes.pt5, classes.h100)}>\r\n                        <div className={classNames(classes.flexCol, classes.h100, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.challengeLogoHolder)}>\r\n                                <img src={\"./img/dobylogo.png\"} className={classNames(classes.challengeLogo)}/>\r\n                            </div>                          \r\n                            <div className={classNames(classes.flexCol, classes.challengeIntroContent)}>\r\n                                <h3 className={classNames(classes.fontBold, classes.textWhite)}>\r\n                                    Doby Tatry 2021\r\n                                </h3>\r\n                                <div className={classNames(classes.textWhite, classes.mt2)}>\r\n                                    6 najkrajch vrcholov z Vysokch Tatier. Vysok Tatry s povaovan za najkrajie pohorie na Slovensku a s touto vzvou \r\n                                    spozn to najlepie z nich. \r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                    Termin\r\n                                </div>\r\n                                <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                    Od 1.7 do 30.9.2021\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2,)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Obtiaznost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            Narocna\r\n                                        </div>  \r\n                                    </div>\r\n                                    <div className={classNames(classes.flexCol, classes.ml6)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Casova narocnost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            6 celodennych tur\r\n                                        </div>  \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.summitsDetail)}>\r\n                    <div className={classNames(classes.flexCol, classes.h100, classes.justifyContentEnd, classes.summitsDetailContent)}>\r\n                        <div className={classNames(classes.container)}>\r\n                            <Grid\r\n                                container\r\n                                direction=\"row\"\r\n                                justify=\"center\"\r\n                                alignItems=\"center\"\r\n                            >\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Obtiaznost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            Narocna\r\n                                        </div>  \r\n                                    </div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Najkratsia trasa\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            <span>7:06h</span><span className={classNames(classes.ml5)}>11,4km</span><span className={classNames(classes.ml5)}>+1 355m</span>\r\n                                        </div>                                      \r\n                                    </div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.textWhite, classes.mt4)}>\r\n                                        Ikona Slovenska a mnohmi povaovan \r\n                                        za najkraj vrchol v Tatrch. Z jeho vrcholu je \r\n                                        ndhern vhad na cel Tatry a na Zpadn Tatry. Hovor sa, e kad Slovk, by ho mal aspo raz v ivote zdola.\r\n                                    </div>\r\n                                </Grid>                           \r\n                            </Grid>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.summitsCarouselHolder, classes.mt5, classes.mb8)}>\r\n                            <Flickity\r\n                                className={classNames(classes.summitsCarousel)}\r\n                                options={flickityOptions}\r\n                                reloadOnUpdate={true}\r\n                            >\r\n                                {this.renderSummits()}\r\n                            </Flickity>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container)} style={{paddingBottom: '120px'}}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                            <Button fullwidth onClick={()=>this.props.history.push('challenge-checkout')}>Prijat vyzvu od 22</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n} \r\n\r\n\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(ChallengeDetail);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport Modal from '@material-ui/core/Modal';\r\n//import classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    modalWrapper: {\r\n        background: 'white',\r\n        padding: '1rem'\r\n    }\r\n});\r\n\r\nfunction DobyModal(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <Modal\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n            open={props.isOpen}\r\n            onClose={props.onClose}\r\n        >\r\n            <div className={classes.modalWrapper}>\r\n                { props.children }\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(DobyModal);","import React, { useState, useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withStore from '../../../consumers/withStore';\r\nimport withDoby from '../../../consumers/withDoby';\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport Select from '../../shared/Select';\r\nimport compose from '../../../compose';\r\nimport Button from '../form/Button';\r\nimport Modal from '../Modal';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productImg: {\r\n        maxWidth: '100%'\r\n    },\r\n    thumbnailHolder: {\r\n        height: '110px',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nclass ProductSmallCard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            img: null,\r\n            addToCartModal: false,\r\n            selectedProduct: null,\r\n            detailImage: null,\r\n            selectedVariants: {},\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getImg();\r\n    }\r\n\r\n    getImg = async () => {\r\n        try {\r\n            if (this.props.thumbnailId) {\r\n                const data = await this.props.store.getFile(this.props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    this.setState({ img: reader.result })\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    openAddToCartModal = async () => {\r\n        await this.props.doby.getProductsByCatalogId(this.props.catalogId);\r\n        const catalogProducts = this.props.doby.catalog.data;\r\n        if (catalogProducts.length > 0) {\r\n            this.setState({ selectedProduct: catalogProducts[0] }, () => {\r\n                this.fetchDetailImage();\r\n            });\r\n        }\r\n        this.setState({ addToCartModal: true })\r\n    }\r\n\r\n    handleChangeDropdown = (name, value) => {\r\n        this.setState((state) => {\r\n            return {\r\n                ...state,\r\n                selectedVariants: {\r\n                    ...state.selectedVariants,\r\n                    [name]: value\r\n                }\r\n            };\r\n        }, () => {\r\n            const product = this.getProductByDropdownSelection();\r\n            this.setState({ selectedProduct: product }, () => this.fetchDetailImage());\r\n        });\r\n    }\r\n\r\n    fetchDetailImage = async () => {\r\n        const { imageId } = this.state.selectedProduct;\r\n        if (imageId) {\r\n            const data = await this.props.store.getFile(imageId);\r\n            let reader = new FileReader();\r\n            reader.onloadend = () => this.setState({ detailImage: reader.result });\r\n            reader.readAsDataURL(data);\r\n        }\r\n    }\r\n\r\n    getProductByDropdownSelection = () => {\r\n        //NOTE: musme vybrat tolko dropdownov kolko mame unikatnych parametrov pre produkt variant\r\n        if (Object.keys(this.state.selectedVariants).length !== Object.keys(this.props.doby.productVariants.data).length)\r\n            return null;\r\n\r\n        for (let variant of this.props.doby.catalog.data) {\r\n            let hasAllRequirements = false;\r\n            for (let variantKey in this.state.selectedVariants) {\r\n                if (variant.tech_param && variant.tech_param[variantKey] === this.state.selectedVariants[variantKey]) {\r\n                    hasAllRequirements = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (hasAllRequirements)\r\n                return variant\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addToCart = () => {\r\n        if (this.state.selectedProduct) {\r\n            this.props.doby.cartAddProduct(this.state.selectedProduct);\r\n            //this.setState({showSnackbar: true});\r\n        }\r\n    }\r\n\r\n    renderDropdowns = () => {\r\n        let dropdowns = [];\r\n        for (let variantKey in this.props.doby.productVariants.data) {\r\n            dropdowns.push(\r\n                <Select\r\n                    key={variantKey}\r\n                    value={this.state.selectedVariants[variantKey] ? this.state.selectedVariants[variantKey].toString() : ''}\r\n                    field={variantKey}\r\n                    onChange={this.handleChangeDropdown}\r\n                    data={this.props.doby.productVariants.data[variantKey].data}\r\n                    textField={\"name\"}\r\n                    fullWidth\r\n                    required\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                { dropdowns}\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes, title, price } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.roundedMd, classes.bgWhite, classes.p4)}>\r\n                    <div className={classNames(classes.flexCol)}>\r\n                        <div className={classNames(classes.thumbnailHolder)}>\r\n                            <img src={this.state.img} className={classNames(classes.productImg)} alt=\"\" />\r\n                        </div>\r\n                        <div className={classNames(classes.textXs, classes.fontSemibold, classes.mt3)}>\r\n                            {title}\r\n                        </div>\r\n                        <div className={classNames(classes.fontBold)}>\r\n                            {price}  <span className={classNames(classes.textXs2, classes.text200, classes.fontRegular)}>s DPH</span>\r\n                        </div>\r\n                        <Button\r\n                            className={classNames(classes.mt4, classes.textXs2)}\r\n                            onClick={this.openAddToCartModal}\r\n                            fullwidth\r\n                        >\r\n                            {this.props.translate('add_to_cart')}\r\n                        </Button>\r\n                        <Button\r\n                            className={classNames(classes.mt2, classes.textXs2)}\r\n                            outline={true}\r\n                            onClick={this.props.onClickViewDetails}\r\n                            fullwidth\r\n                        >\r\n                            {this.props.translate('product_details')}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Modal\r\n                    isOpen={this.state.addToCartModal}\r\n                    onClose={() => this.setState({ addToCartModal: false })}\r\n                >\r\n                    {!this.props.doby.catalog.isLoading && <>   \r\n                        <img\r\n                            className={classes.productImg}\r\n                            src={this.state.detailImage ? this.state.detailImage : ''}\r\n                            alt={''}\r\n                        />\r\n                        { this.renderDropdowns() }\r\n                        <Button\r\n                            className={classNames(classes.mt2, classes.textXs2)}\r\n                            outline={true}\r\n                            fullwidth\r\n                            onClick={this.addToCart}\r\n                            disabled={this.state.selectedProduct && this.state.selectedProduct.disabled}\r\n                        >\r\n                            {this.props.translate('add_to_cart')}\r\n                        </Button>\r\n                    </> }\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby\r\n)(ProductSmallCard);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport HillIcon from '@material-ui/icons/TerrainOutlined';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport ProductSmallCard from '../dobyComponents/eshop/ProductSmallCard'\r\nimport { withLocalization } from '../shared/localization';\r\nimport { formatPrice } from '../../utils/helpers'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    checkoutStep: {\r\n        width: '25%',\r\n        height: '60px',\r\n        background: 'red',\r\n    },\r\n    checkoutStepActive: {\r\n        background: 'green'\r\n    },\r\n    logoHolder: {\r\n        width: '80px',\r\n        height: '80px',\r\n        background: 'white',\r\n        borderRadius: '10px',\r\n        textAlign: 'center',\r\n    },\r\n    logolImg: {\r\n        maxWidth: '70px'\r\n    },\r\n    challengeName: {\r\n        color: '#47556A',\r\n        fontSize: '20px',\r\n    },\r\n    stepNumber: {\r\n        height: '40px',\r\n        width: '40px',\r\n        borderRadius: 50,\r\n        textAlign: 'center',\r\n        lineHeight: '40px',\r\n        background: '#333442',\r\n        color: 'white',\r\n    },\r\n\r\n    //package\r\n    challengePackageCard: {\r\n        background: 'white',\r\n        border: '1px solid #C8D2E1'\r\n    },\r\n    challengePackageCardSelected: {\r\n        background: '#333442',\r\n        border: '1px solid #333442',\r\n        color: 'white'\r\n    },\r\n    btnWhite: {\r\n        background: 'white',\r\n        color: '#333442'\r\n    },\r\n    lightText: {\r\n        color: 'rgba(255,255,255,0.4)'\r\n    },\r\n});\r\n\r\n\r\nclass ChallengeCheckout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedPackage: null,\r\n            selectedGift: null,\r\n            challenge: null,\r\n            challengeLogo: null,\r\n\r\n            //starterPackLowcost: null,\r\n            starterPackStandard: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchStarterpacks = async () => {\r\n        //NOTE: get all products with category of starterpack\r\n        const filterStarterpack = [\r\n            { field: \"catalog_id\", value: \"pack\" }\r\n        ];\r\n\r\n        //TODO: use find \r\n        const packs = await this.props.doby.getProducts(filterStarterpack);\r\n        await this.setState({ starterPackStandard: packs.data[0]});\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { _id } = this.props.match.params;\r\n        await this.fetchStarterpacks();\r\n\r\n        const filter = [ { field: \"main\", value: true } ];\r\n\r\n        await this.props.doby.getProducts(filter);\r\n        await this.props.doby.getChallenges();\r\n\r\n        const challenge = this.props.doby.challenges.data.find(x => x._id === _id);\r\n        if (challenge) {\r\n            this.setState({\r\n                challenge\r\n            });\r\n\r\n            this.getChallangeLogo(challenge.logoId)\r\n        }\r\n    }\r\n\r\n    getChallangeLogo = async (logoId) => {\r\n        if (!logoId)\r\n            return;\r\n\r\n        const data = await this.props.store.getFile(logoId)\r\n        var reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            this.setState({ challengeLogo: reader.result });\r\n        }\r\n        reader.readAsDataURL(data);\r\n    }\r\n\r\n    packageChanged = (field, value) => {\r\n        this.setState({\r\n            [field]: value._id\r\n        })\r\n\r\n        if (value._id === this.state.starterPackStandard._id) {\r\n            //this.props.doby.cartRemoveProduct(this.state.starterPackLowcost._id);\r\n            //console.log(this.state.starterPackStandard);\r\n            this.props.doby.cartAddProduct({\r\n                ...this.state.starterPackStandard,\r\n                challengeRef: {id: this.state.challenge._id}\r\n            });\r\n        }\r\n        // if (value._id === this.state.starterPackLowcost._id) {\r\n        //     this.props.doby.cartRemoveProduct(this.state.starterPackStandard._id);\r\n        //     this.props.doby.cartAddProduct({\r\n        //         ...this.state.starterPackLowcost,\r\n        //         challengeRef: {id: this.state.challenge._id}\r\n        //     });\r\n        // }\r\n        //more \r\n    }\r\n\r\n    handleFieldChange = (field, value) => {\r\n        this.setState({\r\n            [field]: value\r\n        })\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.data.map((product, index) => {\r\n            const { classes } = this.props;\r\n            return (\r\n                <Grid item xs={12} sm={6} className={classNames((index & 1) ? classes.pl2 : classes.pr2, classes.mb4)}>\r\n                    <ProductSmallCard\r\n                        key={product._id}\r\n                        title={product.name}\r\n                        price={product.price_with_tax}\r\n                        thumbnailId={product.thumbnailId}\r\n                        catalogId={product.catalog_id}\r\n                    />\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n\r\n    goToCart = () => {\r\n        this.props.history.push(`/eshop/cart`);\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.dFlex, classes.w100)}>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep, classes.checkoutStepActive)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"flex-start\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.logoHolder, classes.dFlex, classes.alignItemsCenter, classes.justifyContentCenter)}>\r\n                                    {this.state.challengeLogo && <img src={this.state.challengeLogo} className={classNames(classes.logolImg)} alt={''} />}\r\n                                </div>\r\n                                <div className={classNames(classes.challengeName, classes.ml4)}>\r\n                                    {this.state.challenge && this.state.challenge.name}\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt5, classes.mb6)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.stepNumber, classes.textMonoH4, classes.fontSemibold)}>\r\n                                    1\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textMonoH4, classes.ml4)}>\r\n                                    {this.props.translate('choose_your_package')}\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        {/* package lowcost */}\r\n                        <Grid item xs={12} className={classNames(classes.mb3)}>\r\n                            { this.state.starterPackLowcost && <div className={classNames(classes.roundedMd, classes.p5, this.state.selectedPackage === this.state.starterPackLowcost._id ? classes.challengePackageCardSelected : classes.challengePackageCard)} style={{ borderBottomLeftRadius: 0, borderBottomRightRadius: 0 }}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                        <div className={classNames(classes.fontSemibold)}>\r\n                                            Low Cost\r\n                                        </div>\r\n                                        <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textBase)}>\r\n                                                { formatPrice(this.state.starterPackLowcost.price_with_tax)}\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                <Radio\r\n                                                    onChange={(e) => this.packageChanged(\"selectedPackage\", this.state.starterPackLowcost)}\r\n                                                    value={0}\r\n                                                    checked={this.state.selectedPackage === this.state.starterPackLowcost._id}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.row, classes.mt3)}>\r\n                                        {/* <div className={classNames(classes.dFlex)}>\r\n                                            <div className={classNames()}>\r\n                                                icon\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                registracia vo vyzve\r\n                                            </div>\r\n                                        </div> */}\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div> }\r\n                            { this.state.starterPackStandard && <div className={classNames(classes.roundedMd, classes.p5, this.state.selectedPackage === this.state.starterPackStandard._id ? classes.challengePackageCardSelected : classes.challengePackageCard)} style={{ borderTopLeftRadius: 0, borderTopRightRadius: 0 }}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                        <div className={classNames(classes.fontSemibold)}>\r\n                                            Standard\r\n                                        </div>\r\n                                        <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textBase)}>\r\n                                                {formatPrice(this.state.starterPackStandard.price_with_tax)}\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                <Radio\r\n                                                    onChange={(e) => this.packageChanged(\"selectedPackage\", this.state.starterPackStandard)}\r\n                                                    value={0}\r\n                                                    checked={this.state.selectedPackage === this.state.starterPackStandard._id}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.mt2)}>\r\n                                        <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.roundedMd, classes.bg300, classes.py2, classes.px3)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textXs2)}>\r\n                                                Vsetko z balicku low cost\r\n                                            </div>\r\n                                            <div className={classNames(classes.dFlex, classes.ml2)}>\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className={classNames(classes.mt3)}>\r\n                                            <div className={classNames(classes.dFlex, classes.w100)}>\r\n                                                <div className={classNames(classes.w50, classes.pr1)}>\r\n                                                    <div className={classNames(classes.ml2)}>\r\n                                                        <div className={classNames()}>\r\n                                                            <HillIcon />\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                                            Zlavovy kupon 22 \r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs2, classes.mt1)}>\r\n                                                            Plat na veci z e-shopu niie. Kupn me vyui aj neskr (poleme ti ho na e-mail).\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className={classNames(classes.w50, classes.pl1)}>\r\n                                                    <div className={classNames(classes.ml2)}>\r\n                                                        <div className={classNames()}>\r\n                                                            <HillIcon />\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                                            Zlavovy kupon 22 \r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs2, classes.mt1)}>\r\n                                                            Plat na veci z e-shopu niie. Kupn me vyui aj neskr (poleme ti ho na e-mail).\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div> }\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt7, classes.mb6)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.stepNumber, classes.textMonoH4, classes.fontSemibold)}>\r\n                                    2\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textMonoH4, classes.ml4)}>\r\n                                    Vbava\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        {this.renderProducts()}\r\n\r\n                        <Button\r\n                            className={classNames(classes.w100, classes.roundedMd, classes.mt2, classes.mb4)}\r\n                            onClick={this.goToCart}\r\n                        >\r\n                            {this.props.translate('continue')}\r\n                        </Button>\r\n\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withUser,\r\n    withRouter,\r\n    withDoby,\r\n    withStore,\r\n    withLocalization\r\n)(ChallengeCheckout);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport getSharedStyles from \"../../style\";\r\nimport compose from \"../../compose\";\r\nimport classNames from \"classnames\";\r\nimport Button from \"./form/Button\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n\r\n  profileImgHolder: {\r\n    width: \"60px\",\r\n    height: \"60px\",\r\n    minWidth: \"60px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  medalImgHolder: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n    minWidth: \"30px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  medalImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n  },\r\n});\r\n\r\nfunction FollowCard(props) {\r\n  const { classes } = props;\r\n\r\n  const handleOnClick = () => {\r\n    props.onClick(props.userID);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        classes.card,\r\n        classes.roundedMd,\r\n        classes.p5,\r\n        classes.cardShadow,\r\n        props.className\r\n      )}\r\n    >\r\n      <div\r\n        className={classNames(\r\n          classes.mt4,\r\n          classes.dFlex,\r\n          classes.w100,\r\n          classes.justifyContentBetween\r\n        )}\r\n      >\r\n        <div className={classNames(classes.profileImgHolder)}>\r\n          <img\r\n            alt=\"avatarImg\"\r\n            src={\"./img/user-img.jpg\"}\r\n            className={classNames(classes.profileImg)}\r\n          />\r\n        </div>\r\n        <div className={classNames()}>\r\n          <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n            {props.name}\r\n          </div>\r\n          {props.medalCount !== 0 && (\r\n            <div className={classNames(classes.textXs, classes.text200)}>\r\n              <div className={classNames(classes.medalImgHolder)}>\r\n                <img\r\n                  alt=\"avatarImg\"\r\n                  src={\"./img/user-img.jpg\"}\r\n                  className={classNames(classes.medalImg)}\r\n                />\r\n                {`+${props.medalCount}`}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Button\r\n          fullwidth\r\n          className={classNames(classes.mt3, classes.w100)}\r\n          onClick={handleOnClick}\r\n        >\r\n          {props.translate(props.buttonLabel || \"follow\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nFollowCard.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  buttonLabel: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  medalCount: PropTypes.string.isRequired,\r\n  userID: PropTypes.string,\r\n};\r\n\r\nexport default compose(withStyles(styles), withLocalization)(FollowCard);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport compose from \"../../compose\";\r\nimport getSharedStyles from \"../../style\";\r\nimport classNames from \"classnames\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\n\r\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\r\nimport Button from \"../dobyComponents/form/Button\";\r\nimport FollowCard from \"../dobyComponents/FollowCard\";\r\nimport Autocomplete from \"../shared/Autocomplete\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImg: {\r\n    width: \"120px\",\r\n    borderRadius: \"100px\",\r\n  },\r\n  medalItem: {\r\n    width: \"120px\",\r\n    height: \"160px\",\r\n    position: \"relative\",\r\n  },\r\n  medalItemBg: {\r\n    background: \"#F5F5F5\",\r\n    //background: 'red',\r\n    borderRadius: \"10px\",\r\n    width: \"100%\",\r\n    height: \"120px\",\r\n  },\r\n  medalItemImg: {\r\n    width: \"95px\",\r\n    position: \"absolute\",\r\n    top: \"10px\",\r\n    left: 0,\r\n    right: 0,\r\n    margin: \"0 auto\",\r\n  },\r\n  medalCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n  challengesCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n});\r\n\r\n// const flickityOptions = {\r\n//   cellAlign: \"left\",\r\n//   contain: true,\r\n//   prevNextButtons: false,\r\n//   pageDots: false,\r\n// };\r\n\r\nclass Follow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      following: [],\r\n      followers: [],\r\n      renderFollowers: true,\r\n      foundFriend: null,\r\n    };\r\n  }\r\n\r\n  goToProfile = () => this.props.history.push(`/profile`);\r\n  goToProfileFriend = (id) => this.props.history.push(`/profile-friend/${id}`);\r\n\r\n  buildFilter = (ids) => {\r\n    return ids.map((id) => ({ field: \"_id\", value: id.id }));\r\n  };\r\n\r\n  showFollowers = () => {\r\n    this.setState({ renderFollowers: true });\r\n  };\r\n\r\n  showFollowing = () => {\r\n    this.setState({ renderFollowers: false });\r\n  };\r\n\r\n  // Follow/Unfollow user\r\n  handleFollowUser = async (id) => {\r\n    this.props.doby.followUser(id);\r\n\r\n    const { followers, following } = this.state;\r\n    const user = followers.find((f) => f._id === id);\r\n\r\n    following.push(user);\r\n    this.setState({ following });\r\n  };\r\n  handleUnfollowUser = async (id) => {\r\n    this.props.doby.unfollowUser(id);\r\n\r\n    let { following } = this.state;\r\n    following = this.state.following.filter((f) => f._id !== id);\r\n\r\n    this.setState({ following });\r\n  };\r\n\r\n  renderFollowing = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.following.map((f) => {\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <FollowCard\r\n            className={classNames(classes.mr5)}\r\n            buttonLabel=\"following\"\r\n            onClick={this.handleUnfollowUser}\r\n            name={f.name}\r\n            medalCount={0}\r\n            userID={f._id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderFollowers = () => {\r\n    const { classes } = this.props;\r\n    const { following, followers } = this.state;\r\n\r\n    return followers.map((follower) => {\r\n      const alreadyFollowHim =\r\n        following.find((following) => following._id === follower._id) !==\r\n        undefined;\r\n\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <FollowCard\r\n            className={classNames(classes.mr5)}\r\n            buttonLabel={alreadyFollowHim ? \"following\" : \"follow\"}\r\n            onClick={\r\n              alreadyFollowHim ? this.handleUnfollowUser : this.handleFollowUser\r\n            }\r\n            name={follower.name}\r\n            medalCount={1}\r\n            userID={follower._id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  setFollowingFollowers = async (followingRef, followersRef) => {\r\n    const { getUsers } = this.props.user;\r\n\r\n    let { following, followers } = this.state;\r\n\r\n    if (followingRef && followingRef.length !== 0) {\r\n      if (followingRef.length === 0) following = [];\r\n      else {\r\n        const filterFollowing = this.buildFilter(followingRef);\r\n        following = (await getUsers(filterFollowing)).data;\r\n      }\r\n    }\r\n\r\n    if (followersRef && followersRef.length !== 0) {\r\n      if (followersRef.length === 0) followers = [];\r\n      else {\r\n        const filterFollowers = this.buildFilter(followersRef);\r\n        followers = (await getUsers(filterFollowers)).data;\r\n      }\r\n    }\r\n\r\n    this.setState({ following, followers });\r\n  };\r\n\r\n  handleOnChangeSearchFriends = (name, friend) => {\r\n    this.goToProfileFriend(friend._id);\r\n  };\r\n\r\n  handleOnFilterChangeSearchFriends = async (filter) => {\r\n    await this.props.user.getUsers(filter);\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { user, getUsers } = this.props.user;\r\n\r\n    const dobyUser = await this.props.doby.getUser(user._id);\r\n    if (dobyUser) {\r\n      const { followingRef, followersRef } = dobyUser;\r\n      this.setFollowingFollowers(followingRef, followersRef);\r\n    }\r\n\r\n    await getUsers([]);\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { users } = this.props.user;\r\n    const { following, followers, renderFollowers, foundFriend } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            {/* HEADER NAVIGATION */}\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      flexWrap: \"wrap\",\r\n                    }}\r\n                  >\r\n                    <ArrowLeftIcon onClick={this.goToProfile} />\r\n                    <span>Profil</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* FOLLOW ME/THEM BUTTONS */}\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt4\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.mt3, classes.w100)}>\r\n                    <Button\r\n                      onClick={this.showFollowing}\r\n                      fullwidth\r\n                    >{`Sledujem (${following.length})`}</Button>\r\n                  </div>\r\n                  <div className={classNames(classes.mt3, classes.w100)}>\r\n                    <Button\r\n                      onClick={this.showFollowers}\r\n                      fullwidth\r\n                    >{`Sleduj ma (${followers.length})`}</Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* FOLLOWERS/FOLLOWING CARDS */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                {renderFollowers && this.renderFollowers()}\r\n                {!renderFollowers && this.renderFollowing()}\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* SEARCH FRIENDS */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                <Autocomplete\r\n                  classes={classes}\r\n                  onChange={this.handleOnChangeSearchFriends}\r\n                  onFilterChange={this.handleOnFilterChangeSearchFriends}\r\n                  data={users ? users.data : []}\r\n                  field=\"foundFriend\"\r\n                  textField=\"username\"\r\n                  label=\"Njs priateov\"\r\n                  value={foundFriend}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFollow.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Follow);\r\n","import Login from \"./components/login/Login\";\r\nimport Account from \"./components/account/Account\";\r\nimport OAuth from \"./components/oauth/OAuth\";\r\nimport Enums from \"./components/enums/Enums\";\r\nimport Templates from \"./components/templates/Templates\";\r\nimport Summits from \"./components/summits/Summits\";\r\nimport Series from \"./components/series/Series\";\r\n// import Challenges from \"./components/challenges/Challenges\";\r\nimport Products from \"./components/products/Products\";\r\nimport Posts from \"./components/posts/Posts\";\r\nimport Users from \"./components/users/Users\";\r\nimport Partners from \"./components/partners/Partners\";\r\nimport Eshop from \"./components/eshop/Eshop\";\r\nimport Checkout from \"./components/eshop/checkout/Checkout\";\r\nimport Cart from \"./components/eshop/Cart\";\r\nimport ProductDetail from \"./components/eshop/ProductDetail\";\r\nimport Transports from \"./components/transports/Transports\";\r\nimport Verification from \"./components/eshop/checkout/VerificationPayment\";\r\nimport permissions from \"./permissions\";\r\n\r\n//admin\r\nimport ChallengesAdmin from \"./components/admin/challenges/Challenges\";\r\n\r\nimport Home from \"./components/home/Home\";\r\nimport Profile from \"./components/account/profile/Profile\";\r\nimport ProfileSettings from \"./components/account/profile/ProfileSettings\";\r\nimport Landing from \"./components/landing/Landing\";\r\nimport LandingCountdown from \"./components/landing/LandingCountdown\";\r\nimport Challenges from \"./components/challenges/Challenges\";\r\nimport ChallengeDetail from \"./components/challenges/ChallengeDetail\";\r\nimport ChallengeCheckout from \"./components/challenges/ChallengeCheckout\";\r\nimport Follow from \"./components/friends/Follow\";\r\n\r\nconst routes = [\r\n  {\r\n    name: \"newsfeed\",\r\n    path: \"/newsfeed\",\r\n    component: Home,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"landing\",\r\n    path: \"/landing\",\r\n    component: Landing,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"home\",\r\n    path: \"/home\",\r\n    component: LandingCountdown,\r\n    exact: true,\r\n    anonymous: true\r\n  },\r\n  {\r\n    name: \"eshop\",\r\n    path: \"/eshop\",\r\n    component: Eshop,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"verification\",\r\n    path: \"/eshop/checkout/verify\",\r\n    component: Verification,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"checkout\",\r\n    path: \"/eshop/checkout\",\r\n    component: Checkout,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"cart\",\r\n    path: \"/eshop/cart\",\r\n    component: Cart,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"product\",\r\n    path: \"/eshop/product/:_id\",\r\n    component: ProductDetail,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"enums\",\r\n    path: \"/enums\",\r\n    component: Enums,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"templates\",\r\n    path: \"/templates\",\r\n    component: Templates,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"summits\",\r\n    path: \"/summits\",\r\n    component: Summits,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"series\",\r\n    path: \"/series\",\r\n    component: Series,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"challenges-admin\",\r\n    path: \"/challenges-admin\",\r\n    component: ChallengesAdmin,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"transports\",\r\n    path: \"/transports\",\r\n    component: Transports,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"products\",\r\n    path: \"/products\",\r\n    component: Products,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"posts\",\r\n    path: \"/posts\",\r\n    component: Posts,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"users\",\r\n    path: \"/users\",\r\n    component: Users,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"partners\",\r\n    path: \"/partners\",\r\n    component: Partners,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"login\",\r\n    path: \"/login\",\r\n    component: Login,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"oauth\",\r\n    path: \"/\",\r\n    component: OAuth,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"account\",\r\n    path: \"/account\",\r\n    component: Account,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profile\",\r\n    path: \"/profile\",\r\n    component: Profile,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profileFriend\",\r\n    path: \"/profile-friend/:_id\",\r\n    component: Profile,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profileSettings\",\r\n    path: \"/profile-settings\",\r\n    component: ProfileSettings,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenges\",\r\n    path: \"/challenges\",\r\n    component: Challenges,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenge-detail\",\r\n    path: \"/challenge-detail\",\r\n    component: ChallengeDetail,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenge-checkout\",\r\n    path: \"/challenge-checkout/:_id\",\r\n    component: ChallengeCheckout,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"friends-follow\",\r\n    path: \"/friends-follow\",\r\n    component: Follow,\r\n    exact: true,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport BottomNavigationBar from './components/dobyComponents/BottomNavigationBar'\r\n\r\nimport compose from './compose';\r\nimport withUser from './consumers/withUser';\r\nimport Container from \"./components/shared/Container\";\r\nimport routes from './routes';\r\nimport config from './config.json'\r\n\r\nconst styles = theme => ({\r\n  close: {\r\n    padding: theme.spacing.unit / 2,\r\n  },\r\n});\r\n\r\nlet _basename = '/';\r\nlet _init = false;\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(process.env.NODE_ENV === \"production\") {\r\n      const url = new URL(process.env.REACT_APP_HOMEPAGE);\r\n      _basename = url.pathname;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user, classes } = this.props;\r\n\r\n    if(!_init && user.user) {\r\n      _init = true;\r\n      user.initHub();\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Router basename={_basename}>\r\n          <Container\r\n            user={user}\r\n            routes={routes}\r\n            logo={config.logo}\r\n          >\r\n            {routes.map(x => {\r\n              if (x.anonymous) return (\r\n                <Route key={x.name} path={x.path} exact={x.exact} component={x.component} />\r\n              )\r\n              else return (\r\n                <PrivateRoute exact={x.exact} key={x.name} path={x.path} component={x.component} user={user} permission={x.permission} />\r\n              )\r\n            })}\r\n          </Container>\r\n\r\n          {/* <BottomNavigationBar/> */}\r\n        </Router>        \r\n\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n          open={user.msg}\r\n          autoHideDuration={6000}\r\n          onClose={user.hideMsg}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }}\r\n          message={<span id=\"message-id\">{user.msg}</span>}\r\n          action={[\r\n            <IconButton\r\n              key=\"close\"\r\n              aria-label=\"Close\"\r\n              color=\"inherit\"\r\n              className={classes.close}\r\n              onClick={user.hideMsg}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>,\r\n          ]}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nfunction PrivateRoute({ component: Component, user, permission, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if(!user.user) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else if(permission && !user.hasPermission(permission)) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: config.home,\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport StoreContext from \"../contexts/StoreContext\";\r\nimport { storage } from \"kd-web\";\r\nimport * as storeUtils from \"../utils/storeUtils\";\r\n\r\nlet _isInit;\r\nclass StoreProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      enums: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: {},\r\n        isLoading: false,\r\n      },\r\n      enumTypes: {\r\n        total: 6,\r\n        data: [\r\n          { _id: 1, name: \"blog\" },\r\n          { _id: 3, name: \"partner\" },\r\n          { _id: 5, name: \"country\" },\r\n          { _id: 200, name: \"shop\" },\r\n          { _id: 201, name: \"size\" },\r\n          { _id: 202, name: \"sex\" },\r\n        ],\r\n      },\r\n      templates: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false,\r\n      },\r\n      transports: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false,\r\n      },\r\n    };\r\n  }\r\n\r\n  getEnums = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getEnums(\r\n          this.state.enumTypes.data,\r\n          filters,\r\n          sort,\r\n          page\r\n        );\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        enums: { ...state.enums, isLoading: true },\r\n      }));\r\n      const enums = await storeUtils.getEnums(\r\n        this.state.enumTypes.data,\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n\r\n      enums.isLoading = false;\r\n      this.setState({ enums });\r\n      return enums;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshEnums = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        enums: { ...state.enums, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.enums;\r\n      const enums = await storeUtils.getEnums(\r\n        this.state.enumTypes.data,\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n      enums.isLoading = false;\r\n      this.setState({ enums });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getTemplates = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getTemplates(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        templates: { ...state.templates, isLoading: true },\r\n      }));\r\n      const templates = await storeUtils.getTemplates(filters, sort, page);\r\n\r\n      templates.isLoading = false;\r\n      this.setState({ templates });\r\n      return templates;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshTemplates = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        templates: { ...state.templates, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.enums;\r\n      const templates = await storeUtils.getTemplates(filters, sort, page);\r\n      templates.isLoading = false;\r\n      this.setState({ templates });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getTransports = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getTransports(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        transports: { ...state.transports, isLoading: true },\r\n      }));\r\n      const transports = await storeUtils.getTransports(filters, sort, page);\r\n\r\n      transports.isLoading = false;\r\n      this.setState({ transports });\r\n      return transports;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshTransports = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        transports: { ...state.transports, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.transports;\r\n      const transports = await storeUtils.getTransports(filters, sort, page);\r\n      transports.isLoading = false;\r\n      this.setState({ transports });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    if (!_isInit && storage.getUser()) {\r\n      _isInit = true;\r\n    }\r\n\r\n    return (\r\n      <StoreContext.Provider\r\n        value={{\r\n          // ENUMS\r\n          getEnums: this.getEnums,\r\n          refreshEnums: this.refreshEnums,\r\n          addEnum: storeUtils.addEnum,\r\n          editEnum: storeUtils.editEnum,\r\n          deleteEnum: storeUtils.deleteEnum,\r\n          // TEMPLATES\r\n          getTemplates: this.getTemplates,\r\n          refreshTemplates: this.refreshTemplates,\r\n          addTemplate: storeUtils.addTemplate,\r\n          editTemplate: storeUtils.editTemplate,\r\n          deleteTemplate: storeUtils.deleteTemplate,\r\n          getFile: storeUtils.getFile,\r\n          // TRANSPORTS\r\n          getTransports: this.getTransports,\r\n          refreshTransports: this.refreshTransports,\r\n          addTransport: storeUtils.addTransport,\r\n          editTransport: storeUtils.editTransport,\r\n          deleteTransport: storeUtils.deleteTransport,\r\n\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </StoreContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoreProvider;\r\n","import config from '../config.json';\r\nimport { auth as a } from 'kd-web';\r\n\r\nexport const auth = async (username, password, token = '') => {\r\n  try {\r\n    return await a.auth(username, password, token);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nconst buildRedirectUri = (provider) => {\r\n  let url = process.env.REACT_APP_HOMEPAGE;  \r\n  // fb\r\n  if(provider === '5') {\r\n    url += '/';\r\n  }\r\n\r\n  return `${url}?provider=${provider}`;\r\n}\r\n\r\nexport const oAuth = async (provider, code) => {\r\n  try {\r\n    return await a.oAuth(provider, code, buildRedirectUri(provider), config.configId);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const reset = async (username) => {\r\n  try {\r\n    return await a.reset(username, process.env.REACT_APP_HOMEPAGE)\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const updateOauth = async (provider, code) => {\r\n  try {\r\n    return await a.updateOauth(provider, code, buildRedirectUri(provider));\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const generateSecret = async () => {\r\n  try {\r\n    return await a.generateSecret();\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const getUsers = async (filters, sort, page) => {\r\n  try {\r\n    return await a.getUsers(filters, sort, page);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const getUser = async (id) => {\r\n  try {\r\n    return await a.getUser(id);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const updateUser = async (id, data) => {\r\n  try {\r\n    return await a.updateUser(id, data);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const checkUser = async (username) => {\r\n  try {\r\n    return await a.checkUser(username);\r\n  }\r\n  catch(error) {\r\n    throw error;\r\n  }\r\n}","import React from \"react\";\r\nimport UserContext from \"../contexts/UserContext\";\r\nimport * as authUtils from \"../utils/authUtils\";\r\nimport * as mailUtils from \"../utils/mailUtils\";\r\nimport { storage } from \"kd-web\";\r\n\r\nclass UserProvider extends React.Component {\r\n  state = {\r\n    user: storage.getUser(),\r\n    msg: null,\r\n    users: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    secret: null,\r\n  };\r\n\r\n  showMsg = (msg) => {\r\n    this.setState({ msg });\r\n  };\r\n\r\n  showError = (error) => {\r\n    this.setState({ msg: error.message });\r\n  };\r\n\r\n  hideMsg = () => {\r\n    this.setState({ msg: null });\r\n  };\r\n\r\n  auth = async (username, password, token) => {\r\n    try {\r\n      const user = await authUtils.auth(username, password, token);\r\n      this.setState({ user });\r\n\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      const secret = await authUtils.generateSecret();\r\n      this.setState({ secret });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  oAuth = async (provider, code) => {\r\n    try {\r\n      const user = await authUtils.oAuth(provider, code);\r\n      this.setState({ user });\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  updateOauth = async (provider, code) => {\r\n    try {\r\n      const user = await authUtils.updateOauth(provider, code);\r\n      this.setState({ user });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  updateUser = async (id, data) => {\r\n    try {\r\n      const user = await authUtils.updateUser(id, data);\r\n      this.setState({ user });\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  checkUser = async (username) => {\r\n    try {\r\n      return await authUtils.checkUser(username);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  reset = async (username) => {\r\n    try {\r\n      await authUtils.reset(username);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getUsers = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await authUtils.getUsers(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        users: { ...state.users, isLoading: true },\r\n      }));\r\n      const users = await authUtils.getUsers(filters, sort, page);\r\n      users.isLoading = false;\r\n      this.setState({ users });\r\n      return users;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  hasPermission = (permission) => {\r\n    return this.state.user && (this.state.user.permissions & permission) > 0;\r\n  };\r\n\r\n  onNotification = () => {\r\n    console.log(\"hub_notification\");\r\n  };\r\n\r\n  initHub = () => {\r\n    mailUtils.initHub(this.onNotification);\r\n\r\n    setTimeout(async function () {\r\n      //const res = await mailUtils.sendMock();\r\n      // console.log(res);\r\n    }, 2000);\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <UserContext.Provider\r\n        value={{\r\n          auth: this.auth,\r\n          hideMsg: this.hideMsg,\r\n          showMsg: this.showMsg,\r\n          showError: this.showError,\r\n          generateSecret: this.generateSecret,\r\n          oAuth: this.oAuth,\r\n          updateOauth: this.updateOauth,\r\n          getUsers: this.getUsers,\r\n          getUser: authUtils.getUser,\r\n          updateUser: this.updateUser,\r\n          checkUser: this.checkUser,\r\n          hasPermission: this.hasPermission,\r\n          reset: this.reset,\r\n          initHub: this.initHub,\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import { store } from \"kd-web\";\r\n\r\nexport const postFile = async (file) => {\r\n  try {\r\n    return await store.postFile(file);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getFile = async (id) => {\r\n  try {\r\n    return await store.getFile(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const delFile = async (id) => {\r\n  try {\r\n    return await store.delFile(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst ENUMS_COLLECTION = \"enums\";\r\nexport const addEnum = async (data) => {\r\n  try {\r\n    await store.post(ENUMS_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editEnum = async (data) => {\r\n  try {\r\n    await store.put(ENUMS_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getEnums = async (enumTypes, filters, sort, page) => {\r\n  try {\r\n    const enums = await store.get(ENUMS_COLLECTION, filters, sort, page);\r\n    for (const x of enums.data) {\r\n      x._enumType = enumTypes.find((e) => e._id === x.enumTypeId) || {\r\n        name: null,\r\n      };\r\n    }\r\n    return enums;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteEnum = async (id) => {\r\n  try {\r\n    await store.delById(ENUMS_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst TEMPLATES_COLLECTION = \"templates\";\r\nexport const addTemplate = async (data) => {\r\n  try {\r\n    await store.post(TEMPLATES_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editTemplate = async (data) => {\r\n  try {\r\n    await store.put(TEMPLATES_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTemplates = async (filters, sort, page) => {\r\n  try {\r\n    const templates = await store.get(\r\n      TEMPLATES_COLLECTION,\r\n      filters,\r\n      sort,\r\n      page\r\n    );\r\n    return templates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteTemplate = async (id) => {\r\n  try {\r\n    await store.delById(TEMPLATES_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst TRANSPORTS_COLLECTION = \"transports\";\r\nexport const addTransport = async (data) => {\r\n  try {\r\n    await store.post(TRANSPORTS_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editTransport = async (data) => {\r\n  try {\r\n    await store.put(TRANSPORTS_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTransports = async (filters, sort, page) => {\r\n  try {\r\n    const templates = await store.get(\r\n      TRANSPORTS_COLLECTION,\r\n      filters,\r\n      sort,\r\n      page\r\n    );\r\n    return templates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteTransport = async (id) => {\r\n  try {\r\n    await store.delById(TRANSPORTS_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};","import { ajax } from \"kd-web\";\r\nimport config from \"../config.json\";\r\nimport { store } from \"kd-web\";\r\n\r\n//-- [Summits] --\r\nconst SUMMITS_URL = config.url.doby + \"/api/Summit\";\r\n\r\nexport const addSummit = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    await ajax.post(SUMMITS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSummit = async (id) => {\r\n  try {\r\n    return await ajax.getById(SUMMITS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editSummit = async (data) => {\r\n  try {\r\n    await ajax.put(SUMMITS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSummits = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(SUMMITS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSummit = async (id) => {\r\n  try {\r\n    await ajax.delById(SUMMITS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//-- [Challenges] --\r\nconst CHALLENGES_URL = config.url.doby + \"/api/Challenge\";\r\n\r\nexport const addChallenge = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._map) {\r\n      const res = await store.postFile(data._map);\r\n      data.mapId = res._id;\r\n      data._map = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    if (data._logo) {\r\n      const res = await store.postFile(data._logo);\r\n      data.logoId = res._id;\r\n      data._logo = null;\r\n    }\r\n    if (data._badge) {\r\n      const res = await store.postFile(data._badge);\r\n      data.badgeId = res._id;\r\n      data._badge = null;\r\n    }\r\n\r\n    await ajax.post(CHALLENGES_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getChallenge = async (id) => {\r\n  try {\r\n    let challenge = await ajax.getById(CHALLENGES_URL, id);\r\n    if (challenge) {\r\n      challenge.summitsRefIds = challenge.summitsRef.map((x) => x.id);\r\n    }\r\n\r\n    return challenge;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editChallenge = async (data) => {\r\n  try {\r\n    await ajax.put(CHALLENGES_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getChallenges = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(CHALLENGES_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteChallenge = async (id) => {\r\n  try {\r\n    await ajax.delById(CHALLENGES_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Products] --\r\nconst PRODUCTS_URL = config.url.doby + \"/api/Product\";\r\n\r\nexport const addProduct = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    if (data.productsRef) {\r\n      data.productsRef = data.productsRef.map((productId) => ({\r\n        id: productId,\r\n      }));\r\n    }\r\n\r\n    await ajax.post(PRODUCTS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProduct = async (id) => {\r\n  try {\r\n    return await ajax.getById(PRODUCTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProductsByCatalogId = async (id) => {\r\n  try {\r\n    return await ajax.getById(`${PRODUCTS_URL}/catalog`, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editProduct = async (data) => {\r\n  try {\r\n    await ajax.put(PRODUCTS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProducts = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(PRODUCTS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (id) => {\r\n  try {\r\n    await ajax.delById(PRODUCTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//-- [Orders] --\r\nconst ORDERS_URL = config.url.doby + \"/api/Order\";\r\n\r\nexport const addOrder = async (data) => {\r\n  try {\r\n    console.log(data);\r\n    return await ajax.post(ORDERS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getOrder = async (id) => {\r\n  try {\r\n    return await ajax.getById(ORDERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const verifyOrder = async (paymentId) => {\r\n  try {\r\n    return await ajax.post(`${ORDERS_URL}/verify?paymentId=${paymentId}`, {});\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Coupon] --\r\nconst COUPON_URL = config.url.doby + \"/api/Coupon\";\r\n\r\nexport const redeeemDiscountCode = async (coupon) => {\r\n  try {\r\n    return await ajax.getById(COUPON_URL, coupon);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Posts] --\r\nconst POSTS_URL = config.url.doby + \"/api/Post\";\r\n\r\nexport const addPost = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n\r\n    await ajax.post(POSTS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPost = async (id) => {\r\n  try {\r\n    return await ajax.getById(POSTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editPost = async (data) => {\r\n  try {\r\n    await ajax.put(POSTS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPosts = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(POSTS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deletePost = async (id) => {\r\n  try {\r\n    await ajax.delById(POSTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Series] --\r\nconst SERIES_URL = config.url.doby + \"/api/Serie\";\r\n\r\nexport const addSerie = async (data) => {\r\n  try {\r\n    // if (data._photo) {\r\n    //   const res = await store.postFile(data._photo);\r\n    //   data.photoId = res._id;\r\n    //   data._photo = null;\r\n    // }\r\n\r\n    await ajax.post(SERIES_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSerie = async (id) => {\r\n  try {\r\n    let serie = await ajax.getById(SERIES_URL, id);\r\n    return serie;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editSerie = async (data) => {\r\n  try {\r\n    await ajax.put(SERIES_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSeries = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(SERIES_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSerie = async (id) => {\r\n  try {\r\n    await ajax.delById(SERIES_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Partners] --\r\nconst PARTNERS_URL = config.url.doby + \"/api/Partner\";\r\n\r\nexport const addPartner = async (data) => {\r\n  try {\r\n    if (data._logo) {\r\n      const res = await store.postFile(data._logo);\r\n      data.logoId = res._id;\r\n      data._logo = null;\r\n    }\r\n    await ajax.post(PARTNERS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPartner = async (id) => {\r\n  try {\r\n    return await ajax.getById(PARTNERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editPartner = async (data) => {\r\n  try {\r\n    await ajax.put(PARTNERS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPartners = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(PARTNERS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deletePartner = async (id) => {\r\n  try {\r\n    await ajax.delById(PARTNERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [User] --\r\nconst USER_URL = config.url.doby + \"/api/user\";\r\n\r\nexport const getUsers = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(USER_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUser = async (id) => {\r\n  try {\r\n    return ajax.getById(USER_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const followUser = async (id) => {\r\n  try {\r\n    return ajax.post(`${USER_URL}/followers?id=${id}`, {});\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const subscribe = async (subscriber) => {\r\n  try {\r\n    return ajax.post(`${config.url.doby}/api/subscriber`, subscriber);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const unfollowUser = async (id) => {\r\n  try {\r\n    return ajax.delById(USER_URL, `followers?id=${id}`);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Climbs] --\r\nconst CLIMBS_URL = config.url.doby + \"/api/Climb\";\r\n\r\nexport const addClimb = async (data) => {\r\n  try {\r\n    await ajax.post(CLIMBS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getClimb = async (id) => {\r\n  try {\r\n    return await ajax.getById(CLIMBS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editClimb = async (data) => {\r\n  try {\r\n    await ajax.put(CLIMBS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getClimbs = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(CLIMBS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteClimb = async (id) => {\r\n  try {\r\n    await ajax.delById(CLIMBS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getFile = (id) => {\r\n  const url = config.url.doby + \"/api/file\";\r\n  return ajax.getFile(url, id);\r\n};\r\n","import React from \"react\";\r\nimport DobyContext from \"../contexts/DobyContext\";\r\nimport * as dobyUtils from \"../utils/dobyUtils\";\r\nimport * as storeUtils from \"../utils/storeUtils\";\r\n\r\nclass DobyProvider extends React.Component {\r\n  state = {\r\n    summits: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    challenges: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    products: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    subordinateProducts: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    catalog: {\r\n      data: [],\r\n      isLoading: false,\r\n    },\r\n    productVariants: {\r\n      data: {},\r\n    },\r\n    cart: {\r\n      data: {\r\n        products: [],\r\n      },\r\n    },\r\n    checkout: {\r\n      data: {\r\n        state: 0,\r\n        orderData: {},\r\n        coupon: {},\r\n        deliveryData: {\r\n          nameSurname: \"\",\r\n          email: \"\",\r\n          country: \"\",\r\n          city: \"\",\r\n          street: \"\",\r\n          streetNumber: \"\",\r\n          psc: \"\",\r\n          tel: \"\",\r\n\r\n          invoiceData: false,\r\n          invoiceNameSurname: \"\",\r\n          invoiceCountry: \"\",\r\n          invoiceCity: \"\",\r\n          invoiceStreet: \"\",\r\n          invoiceStreetNumber: \"\",\r\n          invoicePsc: \"\",\r\n\r\n          companyOrder: false,\r\n          ico: \"\",\r\n          dic: \"\",\r\n          icdph: \"\",\r\n          bic: \"\",\r\n          iban: \"\",\r\n          accountOwner: \"\",\r\n\r\n          deliveryType: null,\r\n          paymentMethod: null,\r\n\r\n          //TODO: localization\r\n          //alebo ciselnik\r\n          paymentMethods: [\r\n            {\r\n              id: 5,\r\n              name: \"Kartou\",\r\n              price: 0.0,\r\n            },\r\n            {\r\n              id: 8,\r\n              name: \"Na dobierku\",\r\n              price: 1.9,\r\n            },\r\n          ],\r\n        },\r\n      },\r\n      isLoading: false,\r\n    },\r\n    posts: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    series: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    partners: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    users: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    climbs: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n  };\r\n\r\n  //-- [Summits] --\r\n  getSummits = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getSummits(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        summits: { ...state.summits, isLoading: true },\r\n      }));\r\n      const summits = await dobyUtils.getSummits(filters, sort, page);\r\n      summits.isLoading = false;\r\n      this.setState({ summits });\r\n      return summits;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshSummits = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        summits: { ...state.summits, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.summits;\r\n      const summits = await dobyUtils.getSummits(filters, sort, page);\r\n      summits.isLoading = false;\r\n      this.setState({ summits });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Chellenges] --\r\n  getChallenges = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getChallenges(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        challenges: { ...state.challenges, isLoading: true },\r\n      }));\r\n      const challenges = await dobyUtils.getChallenges(filters, sort, page);\r\n      challenges.isLoading = false;\r\n      this.setState({ challenges });\r\n      return challenges;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshChallenges = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        challenges: { ...state.challenges, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.challenges;\r\n      const challenges = await dobyUtils.getChallenges(filters, sort, page);\r\n      challenges.isLoading = false;\r\n      this.setState({ challenges });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Subordinate products] --\r\n  getSubordinateProducts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getProducts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        subordinateProducts: { ...state.subordinateProducts, isLoading: true },\r\n      }));\r\n\r\n      const subordinateProducts = await dobyUtils.getProducts(\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n      subordinateProducts.isLoading = false;\r\n      this.setState({ subordinateProducts });\r\n      return subordinateProducts;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Products] --\r\n  getProducts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getProducts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        products: { ...state.products, isLoading: true },\r\n      }));\r\n\r\n      const products = await dobyUtils.getProducts(filters, sort, page);\r\n      products.isLoading = false;\r\n      this.setState({ products });\r\n      return products;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  buildDropdowns = async (catalog) => {\r\n    let dropdowns = {};\r\n    for (let variant of catalog) {\r\n      const paramKeys = Object.keys(variant.tech_param);\r\n      if (paramKeys.length <= 0) continue;\r\n\r\n      const paramKey = paramKeys[0];\r\n      if (!dropdowns.hasOwnProperty(paramKey)) {\r\n        dropdowns[paramKey] = [];\r\n      }\r\n      dropdowns[paramKey].push(variant.tech_param[paramKey]);\r\n    }\r\n\r\n    for (let property in dropdowns) {\r\n      const filter = [{ field: \"_id\", op: \"in\", value: dropdowns[property] }];\r\n      dropdowns[property] = await storeUtils.getEnums([], filter);\r\n    }\r\n\r\n    return dropdowns;\r\n  };\r\n\r\n  getProductsByCatalogId = async (id) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        catalog: { ...state.catalog, isLoading: true },\r\n      }));\r\n      const productsArray = await dobyUtils.getProductsByCatalogId(id);    \r\n      const dropdowns = await this.buildDropdowns(productsArray);\r\n      this.setState({ catalog: {data: [...productsArray], isLoading: false}, productVariants: { data: dropdowns } });\r\n      return productsArray;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getProduct = async (id) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        product: { ...state.product, isLoading: true },\r\n      }));\r\n      const product = await dobyUtils.getProduct(id);\r\n      product.isLoading = false;\r\n      this.setState({ product });\r\n      return product;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshProducts = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        products: { ...state.products, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.products;\r\n      const products = await dobyUtils.getProducts(filters, sort, page);\r\n      products.isLoading = false;\r\n      this.setState({ products });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  deleteProduct = async (id) => {\r\n    this.setState((state) => ({\r\n      products: { ...state.products, isLoading: true },\r\n    }));\r\n\r\n    const data = this.state.products.data.find((p) => p._id === id);\r\n    if (data) await dobyUtils.editProduct({ ...data, disabled: true });\r\n\r\n    this.setState((state) => ({\r\n      products: { ...state.products, isLoading: false },\r\n    }));\r\n  };\r\n\r\n  //-- [Cart] --\r\n  cartGetProducts = () => {\r\n    const savedProducts = localStorage.getItem(\"cart\");\r\n    if (savedProducts) {\r\n      const cart = JSON.parse(savedProducts);\r\n      this.setState({ cart });\r\n    }\r\n  };\r\n\r\n  cartAddProduct = (product, count = 1) => {\r\n    const existingProduct = this.state.cart.data.products.find(\r\n      (item) => item.product._id === product._id\r\n    );\r\n    if (existingProduct) {\r\n      if (existingProduct.product.catalog_id !== \"pack\")\r\n        this.cartIncreaseCount(product._id, count);\r\n      return;\r\n    }\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: [...state.cart.data.products, { count, product }],\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartIncreaseCount = (productId, increase) => {\r\n    const productIndex = this.state.cart.data.products.findIndex(\r\n      (item) => item.product._id === productId\r\n    );\r\n    if (productIndex === -1) return;\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: state.cart.data.products.map((item, i) => {\r\n              if (i === productIndex) {\r\n                return {\r\n                  count: item.count + increase < 1 ? 1 : item.count + increase,\r\n                  product: item.product,\r\n                };\r\n              }\r\n              return item;\r\n            }),\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartRemoveProduct = (productId) => {\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: state.cart.data.products.filter(\r\n              (item) => item.product._id !== productId\r\n            ),\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartRemoveProducts = () => {\r\n    this.setState(\r\n      {\r\n        cart: {\r\n          data: {\r\n            products: [],\r\n          },\r\n        },\r\n      },\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  //-- [Order] --\r\n  deliveryOrderChanged = (name, value) => {\r\n    this.setState((state) => ({\r\n      checkout: {\r\n        data: {\r\n          ...state.checkout.data,\r\n          deliveryData: {\r\n            ...state.checkout.data.deliveryData,\r\n            [name]: value,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  deliveryOrderFill = (obj) => {\r\n    this.setState((state) => ({\r\n      checkout: {\r\n        data: {\r\n          ...state.checkout.data,\r\n          deliveryData: {\r\n            ...state.checkout.data.deliveryData,\r\n            ...obj,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  redeeemDiscountCode = async (code) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true },\r\n      }));\r\n\r\n      const coupon = await dobyUtils.redeeemDiscountCode(code);\r\n      this.setState((state) => ({\r\n        checkout: {\r\n          data: { ...state.checkout.data, coupon: { ...coupon } },\r\n          isLoading: false,\r\n        },\r\n      }));\r\n\r\n      return coupon;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  createOrder = async (orderData) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true, orderData },\r\n      }));\r\n\r\n      const order = await dobyUtils.addOrder(orderData);\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: false, orderData: order },\r\n      }));\r\n\r\n      return order;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  verifyOrder = async (paymentId) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true },\r\n      }));\r\n\r\n      const order = await dobyUtils.verifyOrder(paymentId);\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: false, orderData: order },\r\n      }));\r\n\r\n      return order;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Posts] --\r\n  getPosts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getPosts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        posts: { ...state.posts, isLoading: true },\r\n      }));\r\n      const posts = await dobyUtils.getPosts(filters, sort, page);\r\n      posts.isLoading = false;\r\n      this.setState({ posts });\r\n      return posts;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshPosts = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        posts: { ...state.posts, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.posts;\r\n      const posts = await dobyUtils.getPosts(filters, sort, page);\r\n      posts.isLoading = false;\r\n      this.setState({ posts });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Series] --\r\n  getSeries = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getSeries(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        series: { ...state.series, isLoading: true },\r\n      }));\r\n      const series = await dobyUtils.getSeries(filters, sort, page);\r\n      series.isLoading = false;\r\n      this.setState({ series });\r\n      return series;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n  refreshSeries = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        series: { ...state.series, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.series;\r\n      const series = await dobyUtils.getSeries(filters, sort, page);\r\n      series.isLoading = false;\r\n      this.setState({ series });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Partners] --\r\n  getPartners = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getPartners(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        partners: { ...state.partners, isLoading: true },\r\n      }));\r\n      const partners = await dobyUtils.getPartners(filters, sort, page);\r\n      partners.isLoading = false;\r\n      this.setState({ partners });\r\n      return partners;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshPartners = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        partners: { ...state.partners, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.partners;\r\n      const partners = await dobyUtils.getPartners(filters, sort, page);\r\n      partners.isLoading = false;\r\n      this.setState({ partners });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [User] --\r\n  getUsers = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getUsers(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        users: { ...state.users, isLoading: true },\r\n      }));\r\n      const users = await dobyUtils.getUsers(filters, sort, page);\r\n      users.isLoading = false;\r\n      this.setState({ users });\r\n      return users;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Climbs] --\r\n  getClimbs = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getClimbs(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        climbs: { ...state.climbs, isLoading: true },\r\n      }));\r\n      const climbs = await dobyUtils.getClimbs(filters, sort, page);\r\n      climbs.isLoading = false;\r\n      this.setState({ climbs });\r\n      return climbs;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <DobyContext.Provider\r\n        value={{\r\n          //-- [Summits] --\r\n          getSummits: this.getSummits,\r\n          refreshSummits: this.refreshSummits,\r\n          addSummit: dobyUtils.addSummit,\r\n          editSummit: dobyUtils.editSummit,\r\n          deleteSummit: dobyUtils.deleteSummit,\r\n\r\n          //-- [Challenges] --\r\n          getChallenges: this.getChallenges,\r\n          refreshChallenges: this.refreshChallenges,\r\n          addChallenge: dobyUtils.addChallenge,\r\n          editChallenge: dobyUtils.editChallenge,\r\n          deleteChallenge: dobyUtils.deleteChallenge,\r\n\r\n          //-- [Subordinate products] --\r\n          getSubordinateProducts: this.getSubordinateProducts,\r\n\r\n          //-- [Products] --\r\n          getProducts: this.getProducts,\r\n          getProductsByCatalogId: this.getProductsByCatalogId,\r\n          getProduct: this.getProduct,\r\n          refreshProducts: this.refreshProducts,\r\n          addProduct: dobyUtils.addProduct,\r\n          editProduct: dobyUtils.editProduct,\r\n          // deleteProduct: dobyUtils.deleteProduct,\r\n          deleteProduct: this.deleteProduct,\r\n\r\n          //-- [Order] --\r\n          deliveryOrderChanged: this.deliveryOrderChanged,\r\n          deliveryOrderFill: this.deliveryOrderFill,\r\n          redeeemDiscountCode: this.redeeemDiscountCode,\r\n          createOrder: this.createOrder,\r\n          verifyOrder: this.verifyOrder,\r\n\r\n          //-- [Cart] --\r\n          cartGetProducts: this.cartGetProducts,\r\n          cartAddProduct: this.cartAddProduct,\r\n          cartIncreaseCount: this.cartIncreaseCount,\r\n          cartRemoveProduct: this.cartRemoveProduct,\r\n          cartRemoveProducts: this.cartRemoveProducts,\r\n\r\n          //-- [Posts] --\r\n          getPosts: this.getPosts,\r\n          refreshPosts: this.refreshPosts,\r\n          addPost: dobyUtils.addPost,\r\n          editPost: dobyUtils.editPost,\r\n          deletePost: dobyUtils.deletePost,\r\n\r\n          //-- [Series] --\r\n          getSeries: this.getSeries,\r\n          refreshSeries: this.refreshSeries,\r\n          addSerie: dobyUtils.addSerie,\r\n          editSerie: dobyUtils.editSerie,\r\n          deleteSerie: dobyUtils.deleteSerie,\r\n\r\n          //-- [Partners] --\r\n          getPartners: this.getPartners,\r\n          refreshPartners: this.refreshPartners,\r\n          addPartner: dobyUtils.addPartner,\r\n          editPartner: dobyUtils.editPartner,\r\n          deletePartner: dobyUtils.deletePartner,\r\n\r\n          //-- [Climbs] --\r\n          getClimbs: this.getClimbs,\r\n          addClimb: dobyUtils.addClimb,\r\n          editClimb: dobyUtils.editClimb,\r\n          deleteClimb: dobyUtils.deleteClimb,\r\n\r\n          //-- [User] --\r\n          getUsers: this.getUsers,\r\n          getUser: dobyUtils.getUser,\r\n          followUser: dobyUtils.followUser,\r\n          unfollowUser: dobyUtils.unfollowUser,\r\n          subscribe: dobyUtils.subscribe,\r\n\r\n          //-- [Files] --\r\n          getFile: dobyUtils.getFile,\r\n\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </DobyContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DobyProvider;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { init } from \"kd-web\";\r\nimport config from \"./config.json\";\r\n\r\nimport moment from \"moment\";\r\nimport \"moment/locale/sk\";\r\n\r\nimport UserProvider from \"./providers/UserProvider\";\r\nimport StoreProvider from \"./providers/StoreProvider\";\r\nimport DobyProvider from './providers/DobyProvider';\r\n\r\nimport { MuiPickersUtilsProvider } from \"material-ui-pickers\";\r\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport { LocalizationProvider } from \"./components/shared/localization\";\r\nimport en from './localization/en-US.json';\r\nimport sk from './localization/sk-SK.json';\r\n\r\ninit(config);\r\n\r\nconst locale = config.locale.split('-')[0];\r\nmoment.locale(locale);\r\n\r\nconst theme = createMuiTheme({\r\n  palette: config.palette,\r\n  typography: {\r\n      fontFamily:[\r\n        'IBM Plex Sans',\r\n        'sans-serif',\r\n      ].join(','),\r\n  },\r\n  breakpoints: {\r\n    values: {\r\n        // xs: 0,       \r\n        // sm: 380,\r\n        // md: 768,\r\n        // lg: 992,\r\n        // xl: 1200,\r\n        xs: 380,       \r\n        sm: 768,\r\n        md: 992,\r\n        lg: 1200,\r\n        xl: 1920,\r\n    },\r\n  },\r\n});\r\n\r\nclass AppWrapper extends React.Component {\r\n  componentDidMount() {\r\n    document.documentElement.style.setProperty(\"--primary-color\", config.palette.primary.main);\r\n    document.documentElement.style.setProperty(\"--secondary-color\", config.palette.secondary.main);\r\n    document.title = `${process.env.REACT_APP_NAME} v${process.env.REACT_APP_VERSION}`;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <UserProvider>\r\n        <StoreProvider>\r\n          <DobyProvider>\r\n            <LocalizationProvider\r\n              locale={config.locale}\r\n              en-US={en}\r\n              sk-SK={sk}\r\n            >\r\n              <MuiThemeProvider theme={theme}>\r\n                <MuiPickersUtilsProvider utils={MomentUtils} locale={locale}>\r\n                  <App />\r\n                </MuiPickersUtilsProvider>\r\n              </MuiThemeProvider>\r\n            </LocalizationProvider>\r\n          </DobyProvider>\r\n        </StoreProvider>\r\n      </UserProvider>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<AppWrapper />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}